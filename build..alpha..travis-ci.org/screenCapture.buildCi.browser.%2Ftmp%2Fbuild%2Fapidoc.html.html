<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/mongolass/mongolass#readme">mongolass (v2.4.5)</a>
</h1>
<h4>Elegant MongoDB driver for Node.js.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass">module mongolass</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.mongolass">
            function <span class="apidocSignatureSpan"></span>mongolass
            <span class="apidocSignatureSpan">(url, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin
            <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.addUser">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.authenticate">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.buildInfo">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.buildInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.listDatabases">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.listDatabases
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.logout
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.ping">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingInfo">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.profilingInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingLevel">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.profilingLevel
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.removeUser">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.replSetGetStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverInfo">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.serverInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverStatus">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.serverStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.setProfilingLevel
            <span class="apidocSignatureSpan">(level, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.validateCollection">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.validateCollection
            <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.BSONRegExp">
            function <span class="apidocSignatureSpan">mongolass.</span>BSONRegExp
            <span class="apidocSignatureSpan">(pattern, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary
            <span class="apidocSignatureSpan">(buffer, subType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.length">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.length
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.put">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.put
            <span class="apidocSignatureSpan">(byte_value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.read
            <span class="apidocSignatureSpan">(position, length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.toString
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.value">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.value
            <span class="apidocSignatureSpan">(asRaw)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.write
            <span class="apidocSignatureSpan">(string, offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk
            <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.buildMongoObject
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.eof">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.getc">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.getc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.length">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.length
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.read
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.readSlice">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.readSlice
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.save">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.save
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.write
            <span class="apidocSignatureSpan">(data, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Code">
            function <span class="apidocSignatureSpan">mongolass.</span>Code
            <span class="apidocSignatureSpan">(code, scope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Code.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Code.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection
            <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.aggregate">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.aggregate
            <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.bulkWrite">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.bulkWrite
            <span class="apidocSignatureSpan">(operations, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.count">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.count
            <span class="apidocSignatureSpan">(query, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.createIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndexes">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.createIndexes
            <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteMany">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.deleteMany
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteOne">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.deleteOne
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.distinct">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.distinct
            <span class="apidocSignatureSpan">(key, query, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.drop">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.drop
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.dropIndex
            <span class="apidocSignatureSpan">(indexName, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndexes">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.dropIndexes
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.ensureIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.find">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.find
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndModify">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findAndModify
            <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndRemove">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findAndRemove
            <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOne">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOne
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndDelete
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndReplace
            <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndUpdate
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.geoHaystackSearch
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoNear">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.geoNear
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.group">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.group
            <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexExists">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexExists
            <span class="apidocSignatureSpan">(indexes, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexInformation
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexes">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexes
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.initializeOrderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.initializeUnorderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insert
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertMany">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insertMany
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertOne">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insertOne
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.isCapped">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.isCapped
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.listIndexes">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.listIndexes
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.mapReduce">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.mapReduce
            <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.options">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.options
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.parallelCollectionScan
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.reIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.reIndex
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.remove
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.rename">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.rename
            <span class="apidocSignatureSpan">(newName, opt, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.replaceOne">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.replaceOne
            <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.save">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.save
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.stats">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.update
            <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateMany">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.updateMany
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateOne">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.updateOne
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection
            <span class="apidocSignatureSpan">(messageHandler, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.connections">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.disableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.enableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.connect
            <span class="apidocSignatureSpan">(_options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.resetSocketTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.setSocketTimeout
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.write
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.disableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.disableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.enableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.enableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.auth
            <span class="apidocSignatureSpan">(mechanism, db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.connect
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.cursor
            <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.destroy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.equals
            <span class="apidocSignatureSpan">(server)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getConnection">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getDescription">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getDescription
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getServer">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getServer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.logout
            <span class="apidocSignatureSpan">(dbName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.servers">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.servers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor
            <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._find">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._find
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._getmore">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._getmore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._killcursor">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._killcursor
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._next">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._read">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._read
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.addCursorFlag
            <span class="apidocSignatureSpan">(flag, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.addQueryModifier
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.batchSize">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.batchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.bufferedCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.clone">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.collation">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.collation
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.comment">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.comment
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.count">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.count
            <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorBatchSize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorLimit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorSkip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.destroy
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.each">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.explain">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.explain
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.filter">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.filter
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.forEach">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.forEach
            <span class="apidocSignatureSpan">(iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hasNext">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.hasNext
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hint">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.hint
            <span class="apidocSignatureSpan">(hint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isClosed">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isClosed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isDead">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isDead
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isKilled">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isKilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isNotified">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.kill">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.kill
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.limit">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.limit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.map">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.map
            <span class="apidocSignatureSpan">(transform)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.max">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.max
            <span class="apidocSignatureSpan">(max)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxAwaitTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxScan">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxScan
            <span class="apidocSignatureSpan">(maxScan)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.min">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.min
            <span class="apidocSignatureSpan">(min)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.next">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.project">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.project
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.readBufferedDocuments
            <span class="apidocSignatureSpan">(number)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.returnKey">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.returnKey
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorBatchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorLimit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorOption
            <span class="apidocSignatureSpan">(field, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorSkip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setReadPreference
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.showRecordId">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.showRecordId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.skip">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.skip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.snapshot">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.snapshot
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.sort">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.sort
            <span class="apidocSignatureSpan">(keyOrList, direction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.stream">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.toArray">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.toArray
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.DBRef">
            function <span class="apidocSignatureSpan">mongolass.</span>DBRef
            <span class="apidocSignatureSpan">(namespace, oid, db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.DBRef.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>DBRef.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db">
            function <span class="apidocSignatureSpan">mongolass.</span>Db
            <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addChild">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.addChild
            <span class="apidocSignatureSpan">(db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addUser">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.admin">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.admin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.authenticate">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.close
            <span class="apidocSignatureSpan">(force, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collection">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.collection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collections">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.collections
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createCollection">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.createCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.createIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.db">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.db
            <span class="apidocSignatureSpan">(dbName, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropCollection">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.dropCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropDatabase">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.dropDatabase
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.ensureIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.eval">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.eval
            <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.executeDbAdminCommand
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.indexInformation
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.listCollections">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.listCollections
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.logout
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.open">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.removeUser">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.renameCollection">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.renameCollection
            <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.stats">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128">
            function <span class="apidocSignatureSpan">mongolass.</span>Decimal128
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.fromString">
            function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.fromString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.prototype.toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double">
            function <span class="apidocSignatureSpan">mongolass.</span>Double
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Double.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.</span>Double.prototype.valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket
            <span class="apidocSignatureSpan">(db, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.delete">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.delete
            <span class="apidocSignatureSpan">(id, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.drop">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.drop
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.find">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.find
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openDownloadStream
            <span class="apidocSignatureSpan">(id, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openDownloadStreamByName
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openUploadStream
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openUploadStreamWithId
            <span class="apidocSignatureSpan">(id, filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.rename">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.rename
            <span class="apidocSignatureSpan">(id, filename, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore
            <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.exist">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.exist
            <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.list">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.list
            <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.chunkCollection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.collection">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.collection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.eof">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.getc">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.getc
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.open">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.puts">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.puts
            <span class="apidocSignatureSpan">(string, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.read
            <span class="apidocSignatureSpan">(length, buffer, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.readlines">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.readlines
            <span class="apidocSignatureSpan">(separator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.rewind
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.seek">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.seek
            <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.stream">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.tell">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.tell
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.unlink">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.unlink
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.write
            <span class="apidocSignatureSpan">(data, close, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.writeFile">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.writeFile
            <span class="apidocSignatureSpan">(file, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.read">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.read
            <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.readlines">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.readlines
            <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.unlink">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore.unlink
            <span class="apidocSignatureSpan">(db, names, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32">
            function <span class="apidocSignatureSpan">mongolass.</span>Int32
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Int32.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.</span>Int32.prototype.valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger
            <span class="apidocSignatureSpan">(className, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.currentLogger">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.currentLogger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.filter">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.filter
            <span class="apidocSignatureSpan">(type, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.debug">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.debug
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.error">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.error
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.info">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.info
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isDebug">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isError">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isInfo">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isWarn">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isWarn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.warn">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.warn
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.reset">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setCurrentLogger">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.setCurrentLogger
            <span class="apidocSignatureSpan">(logger)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setLevel">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger.setLevel
            <span class="apidocSignatureSpan">(_level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long">
            function <span class="apidocSignatureSpan">mongolass.</span>Long
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromInt">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromString">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.add">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.and">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.compare">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.div">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isNegative">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isOdd">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isZero">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThan">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.modulo">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.multiply">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.negate">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.not">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.notEquals">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.or">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.subtract">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toInt">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toNumber">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toString
            <span class="apidocSignatureSpan">(opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.xor">
            function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Map">
            function <span class="apidocSignatureSpan">mongolass.</span>Map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MaxKey">
            function <span class="apidocSignatureSpan">mongolass.</span>MaxKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MinKey">
            function <span class="apidocSignatureSpan">mongolass.</span>MinKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Model">
            function <span class="apidocSignatureSpan">mongolass.</span>Model
            <span class="apidocSignatureSpan">(name, schema, db, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoClient">
            function <span class="apidocSignatureSpan">mongolass.</span>MongoClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoError">
            function <span class="apidocSignatureSpan">mongolass.</span>MongoError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoError.create">
            function <span class="apidocSignatureSpan">mongolass.</span>MongoError.create
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromHexString">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createFromHexString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromTime">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createFromTime
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createPk">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createPk
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.isValid">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.isValid
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.equals
            <span class="apidocSignatureSpan">(otherId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.generate">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.generate
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getInc">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.getInc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.getTimestamp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.get_inc">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.get_inc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toHexString">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toHexString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toString
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectId
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference
            <span class="apidocSignatureSpan">(mode, tags, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.isValid">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.isValid
            <span class="apidocSignatureSpan">(_mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.isValid">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.isValid
            <span class="apidocSignatureSpan">(mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toObject">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.toObject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.isConnected
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Schema">
            function <span class="apidocSignatureSpan">mongolass.</span>Schema
            <span class="apidocSignatureSpan">(name, schema)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server">
            function <span class="apidocSignatureSpan">mongolass.</span>Server
            <span class="apidocSignatureSpan">(host, port, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.inspect">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromInt">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromString">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.add">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.and">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.compare">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.div">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isNegative">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isOdd">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isZero">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThan">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.modulo">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.multiply">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.negate">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.not">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.notEquals">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.or">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.subtract">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toInt">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toNumber">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toString
            <span class="apidocSignatureSpan">(opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.xor">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Types.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.</span>Types.ObjectId
            <span class="apidocSignatureSpan">(actual)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>connect
            <span class="apidocSignatureSpan">(url, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.instrument">
            function <span class="apidocSignatureSpan">mongolass.</span>instrument
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Admin.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Code.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Collection.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Cursor.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>DBRef.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Db.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Db.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Decimal128.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Double.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>GridStore.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Int32.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Long.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>MongoClient.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Mongos.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>ReplSet.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Server.define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Server.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>Types</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>query</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.</span>schema</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin">module mongolass.Admin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.Admin">
            function <span class="apidocSignatureSpan">mongolass.</span>Admin
            <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Admin.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.define">module mongolass.Admin.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Admin.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.define.object">
            function <span class="apidocSignatureSpan">mongolass.Admin.define.</span>object
            <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Admin.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Admin.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype">module mongolass.Admin.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.addUser">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.authenticate">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.buildInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>buildInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.listDatabases">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>listDatabases
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>logout
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.ping">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingLevel">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingLevel
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.removeUser">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>replSetGetStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverStatus">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>setProfilingLevel
            <span class="apidocSignatureSpan">(level, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.validateCollection">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>validateCollection
            <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.addUser">module mongolass.Admin.prototype.addUser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.addUser.addUser">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.authenticate">module mongolass.Admin.prototype.authenticate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.authenticate.authenticate">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.buildInfo">module mongolass.Admin.prototype.buildInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.buildInfo.buildInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>buildInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.command">module mongolass.Admin.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.listDatabases">module mongolass.Admin.prototype.listDatabases</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.listDatabases.listDatabases">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>listDatabases
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.logout">module mongolass.Admin.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>logout
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.ping">module mongolass.Admin.prototype.ping</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.ping.ping">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.profilingInfo">module mongolass.Admin.prototype.profilingInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingInfo.profilingInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.profilingLevel">module mongolass.Admin.prototype.profilingLevel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.profilingLevel.profilingLevel">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingLevel
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.removeUser">module mongolass.Admin.prototype.removeUser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.removeUser.removeUser">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.replSetGetStatus">module mongolass.Admin.prototype.replSetGetStatus</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus.replSetGetStatus">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>replSetGetStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.serverInfo">module mongolass.Admin.prototype.serverInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverInfo.serverInfo">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverInfo
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.serverStatus">module mongolass.Admin.prototype.serverStatus</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.serverStatus.serverStatus">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverStatus
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.setProfilingLevel">module mongolass.Admin.prototype.setProfilingLevel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel.setProfilingLevel">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>setProfilingLevel
            <span class="apidocSignatureSpan">(level, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Admin.prototype.validateCollection">module mongolass.Admin.prototype.validateCollection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Admin.prototype.validateCollection.validateCollection">
            function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>validateCollection
            <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.BSONRegExp">module mongolass.BSONRegExp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.BSONRegExp.BSONRegExp">
            function <span class="apidocSignatureSpan">mongolass.</span>BSONRegExp
            <span class="apidocSignatureSpan">(pattern, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary">module mongolass.Binary</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.Binary">
            function <span class="apidocSignatureSpan">mongolass.</span>Binary
            <span class="apidocSignatureSpan">(buffer, subType)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>BUFFER_SIZE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_BYTE_ARRAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_DEFAULT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_FUNCTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_MD5</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_USER_DEFINED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_UUID</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Binary.</span>SUBTYPE_UUID_OLD</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype">module mongolass.Binary.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.length">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>length
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.put">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>put
            <span class="apidocSignatureSpan">(byte_value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>read
            <span class="apidocSignatureSpan">(position, length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toString
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.value">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>value
            <span class="apidocSignatureSpan">(asRaw)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>write
            <span class="apidocSignatureSpan">(string, offset)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.length">module mongolass.Binary.prototype.length</a><ol>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.put">module mongolass.Binary.prototype.put</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.put.put">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>put
            <span class="apidocSignatureSpan">(byte_value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.read">module mongolass.Binary.prototype.read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.read.read">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>read
            <span class="apidocSignatureSpan">(position, length)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.toJSON">module mongolass.Binary.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.toString">module mongolass.Binary.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.value">module mongolass.Binary.prototype.value</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.value.value">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>value
            <span class="apidocSignatureSpan">(asRaw)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Binary.prototype.write">module mongolass.Binary.prototype.write</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Binary.prototype.write.write">
            function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>write
            <span class="apidocSignatureSpan">(string, offset)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk">module mongolass.Chunk</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.Chunk">
            function <span class="apidocSignatureSpan">mongolass.</span>Chunk
            <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Chunk.</span>DEFAULT_CHUNK_SIZE</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype">module mongolass.Chunk.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>buildMongoObject
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.eof">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.getc">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>getc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.length">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>length
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>read
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.readSlice">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>readSlice
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.save">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>save
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>write
            <span class="apidocSignatureSpan">(data, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.buildMongoObject">module mongolass.Chunk.prototype.buildMongoObject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject.buildMongoObject">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>buildMongoObject
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.eof">module mongolass.Chunk.prototype.eof</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.eof.eof">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.getc">module mongolass.Chunk.prototype.getc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.getc.getc">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>getc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.length">module mongolass.Chunk.prototype.length</a><ol>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.read">module mongolass.Chunk.prototype.read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.read.read">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>read
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.readSlice">module mongolass.Chunk.prototype.readSlice</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.readSlice.readSlice">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>readSlice
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.rewind">module mongolass.Chunk.prototype.rewind</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.rewind.rewind">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.save">module mongolass.Chunk.prototype.save</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.save.save">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>save
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Chunk.prototype.write">module mongolass.Chunk.prototype.write</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Chunk.prototype.write.write">
            function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>write
            <span class="apidocSignatureSpan">(data, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Code">module mongolass.Code</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Code.Code">
            function <span class="apidocSignatureSpan">mongolass.</span>Code
            <span class="apidocSignatureSpan">(code, scope)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Code.prototype">module mongolass.Code.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Code.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Code.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Code.prototype.toJSON">module mongolass.Code.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Code.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Code.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection">module mongolass.Collection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.Collection">
            function <span class="apidocSignatureSpan">mongolass.</span>Collection
            <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Collection.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.define">module mongolass.Collection.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Collection.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.define.object">
            function <span class="apidocSignatureSpan">mongolass.Collection.define.</span>object
            <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Collection.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Collection.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype">module mongolass.Collection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.aggregate">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>aggregate
            <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.bulkWrite">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>bulkWrite
            <span class="apidocSignatureSpan">(operations, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.count">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>count
            <span class="apidocSignatureSpan">(query, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndexes
            <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteMany
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteOne
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.distinct">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>distinct
            <span class="apidocSignatureSpan">(key, query, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.drop">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>drop
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropAllIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropAllIndexes
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndex
            <span class="apidocSignatureSpan">(indexName, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndexes
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>ensureIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.find">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>find
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndModify">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndModify
            <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndRemove">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndRemove
            <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOne
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndDelete
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndReplace
            <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndUpdate
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoHaystackSearch
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoNear">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoNear
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.group">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>group
            <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexExists">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexExists
            <span class="apidocSignatureSpan">(indexes, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexInformation
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexes
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeOrderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeUnorderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insert
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertMany
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertOne
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.isCapped">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>isCapped
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.listIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>listIndexes
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.mapReduce">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>mapReduce
            <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.options">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>options
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>parallelCollectionScan
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.reIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>reIndex
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>remove
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.removeMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>removeMany
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.removeOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>removeOne
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.rename">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>rename
            <span class="apidocSignatureSpan">(newName, opt, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.replaceOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>replaceOne
            <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.save">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>save
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.stats">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>update
            <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateMany
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateOne
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.aggregate">module mongolass.Collection.prototype.aggregate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.aggregate.aggregate">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>aggregate
            <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.bulkWrite">module mongolass.Collection.prototype.bulkWrite</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.bulkWrite.bulkWrite">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>bulkWrite
            <span class="apidocSignatureSpan">(operations, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.count">module mongolass.Collection.prototype.count</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.count.count">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>count
            <span class="apidocSignatureSpan">(query, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.createIndex">module mongolass.Collection.prototype.createIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndex.createIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.createIndexes">module mongolass.Collection.prototype.createIndexes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.createIndexes.createIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndexes
            <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.deleteMany">module mongolass.Collection.prototype.deleteMany</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteMany.deleteMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteMany
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.deleteOne">module mongolass.Collection.prototype.deleteOne</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.deleteOne.deleteOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteOne
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.distinct">module mongolass.Collection.prototype.distinct</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.distinct.distinct">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>distinct
            <span class="apidocSignatureSpan">(key, query, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.drop">module mongolass.Collection.prototype.drop</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.drop.drop">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>drop
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.dropIndex">module mongolass.Collection.prototype.dropIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndex.dropIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndex
            <span class="apidocSignatureSpan">(indexName, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.dropIndexes">module mongolass.Collection.prototype.dropIndexes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.dropIndexes.dropIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndexes
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.ensureIndex">module mongolass.Collection.prototype.ensureIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.ensureIndex.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>ensureIndex
            <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.find">module mongolass.Collection.prototype.find</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.find.find">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>find
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findAndModify">module mongolass.Collection.prototype.findAndModify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndModify.findAndModify">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndModify
            <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findAndRemove">module mongolass.Collection.prototype.findAndRemove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findAndRemove.findAndRemove">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndRemove
            <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findOne">module mongolass.Collection.prototype.findOne</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOne.findOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOne
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndDelete">module mongolass.Collection.prototype.findOneAndDelete</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete.findOneAndDelete">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndDelete
            <span class="apidocSignatureSpan">(filter, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndReplace">module mongolass.Collection.prototype.findOneAndReplace</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace.findOneAndReplace">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndReplace
            <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndUpdate">module mongolass.Collection.prototype.findOneAndUpdate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate.findOneAndUpdate">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndUpdate
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.geoHaystackSearch">module mongolass.Collection.prototype.geoHaystackSearch</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch.geoHaystackSearch">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoHaystackSearch
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.geoNear">module mongolass.Collection.prototype.geoNear</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.geoNear.geoNear">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoNear
            <span class="apidocSignatureSpan">(x, y, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.group">module mongolass.Collection.prototype.group</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.group.group">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>group
            <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.indexExists">module mongolass.Collection.prototype.indexExists</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexExists.indexExists">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexExists
            <span class="apidocSignatureSpan">(indexes, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.indexInformation">module mongolass.Collection.prototype.indexInformation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexInformation.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexInformation
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.indexes">module mongolass.Collection.prototype.indexes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.indexes.indexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexes
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.initializeOrderedBulkOp">module mongolass.Collection.prototype.initializeOrderedBulkOp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp.initializeOrderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeOrderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.initializeUnorderedBulkOp">module mongolass.Collection.prototype.initializeUnorderedBulkOp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp.initializeUnorderedBulkOp">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeUnorderedBulkOp
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.insert">module mongolass.Collection.prototype.insert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insert.insert">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insert
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.insertMany">module mongolass.Collection.prototype.insertMany</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertMany.insertMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertMany
            <span class="apidocSignatureSpan">(docs, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.insertOne">module mongolass.Collection.prototype.insertOne</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.insertOne.insertOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertOne
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.isCapped">module mongolass.Collection.prototype.isCapped</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.isCapped.isCapped">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>isCapped
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.listIndexes">module mongolass.Collection.prototype.listIndexes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.listIndexes.listIndexes">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>listIndexes
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.mapReduce">module mongolass.Collection.prototype.mapReduce</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.mapReduce.mapReduce">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>mapReduce
            <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.options">module mongolass.Collection.prototype.options</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.options.options">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>options
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.parallelCollectionScan">module mongolass.Collection.prototype.parallelCollectionScan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan.parallelCollectionScan">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>parallelCollectionScan
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.reIndex">module mongolass.Collection.prototype.reIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.reIndex.reIndex">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>reIndex
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.remove">module mongolass.Collection.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.remove.remove">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>remove
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.rename">module mongolass.Collection.prototype.rename</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.rename.rename">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>rename
            <span class="apidocSignatureSpan">(newName, opt, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.replaceOne">module mongolass.Collection.prototype.replaceOne</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.replaceOne.replaceOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>replaceOne
            <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.save">module mongolass.Collection.prototype.save</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.save.save">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>save
            <span class="apidocSignatureSpan">(doc, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.stats">module mongolass.Collection.prototype.stats</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.stats.stats">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.update">module mongolass.Collection.prototype.update</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.update.update">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>update
            <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.updateMany">module mongolass.Collection.prototype.updateMany</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateMany.updateMany">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateMany
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Collection.prototype.updateOne">module mongolass.Collection.prototype.updateOne</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Collection.prototype.updateOne.updateOne">
            function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateOne
            <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection">module mongolass.CoreConnection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.CoreConnection">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection
            <span class="apidocSignatureSpan">(messageHandler, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.connections">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>disableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>enableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.super_">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.connections">module mongolass.CoreConnection.connections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.connections.connections">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.disableConnectionAccounting">module mongolass.CoreConnection.disableConnectionAccounting</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting.disableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>disableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.enableConnectionAccounting">module mongolass.CoreConnection.enableConnectionAccounting</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting.enableConnectionAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>enableConnectionAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype">module mongolass.CoreConnection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>connect
            <span class="apidocSignatureSpan">(_options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>resetSocketTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>setSocketTimeout
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>write
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.connect">module mongolass.CoreConnection.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>connect
            <span class="apidocSignatureSpan">(_options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.destroy">module mongolass.CoreConnection.prototype.destroy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.destroy.destroy">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.isConnected">module mongolass.CoreConnection.prototype.isConnected</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected.isConnected">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.resetSocketTimeout">module mongolass.CoreConnection.prototype.resetSocketTimeout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout.resetSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>resetSocketTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.setSocketTimeout">module mongolass.CoreConnection.prototype.setSocketTimeout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout.setSocketTimeout">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>setSocketTimeout
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.toJSON">module mongolass.CoreConnection.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.toString">module mongolass.CoreConnection.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.unref">module mongolass.CoreConnection.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreConnection.prototype.write">module mongolass.CoreConnection.prototype.write</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreConnection.prototype.write.write">
            function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>write
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer">module mongolass.CoreServer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.CoreServer">
            function <span class="apidocSignatureSpan">mongolass.</span>CoreServer
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.disableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>disableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.enableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>enableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.servers">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>servers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.super_">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.disableServerAccounting">module mongolass.CoreServer.disableServerAccounting</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.disableServerAccounting.disableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>disableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.enableServerAccounting">module mongolass.CoreServer.enableServerAccounting</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.enableServerAccounting.enableServerAccounting">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>enableServerAccounting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype">module mongolass.CoreServer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>auth
            <span class="apidocSignatureSpan">(mechanism, db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connect
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>destroy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>equals
            <span class="apidocSignatureSpan">(server)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getConnection">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getDescription">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getDescription
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getServer">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getServer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>logout
            <span class="apidocSignatureSpan">(dbName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>parserType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.auth">module mongolass.CoreServer.prototype.auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.auth.auth">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>auth
            <span class="apidocSignatureSpan">(mechanism, db)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.command">module mongolass.CoreServer.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.connect">module mongolass.CoreServer.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connect
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.connections">module mongolass.CoreServer.prototype.connections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.connections.connections">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.cursor">module mongolass.CoreServer.prototype.cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.cursor.cursor">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.destroy">module mongolass.CoreServer.prototype.destroy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.destroy.destroy">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>destroy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.equals">module mongolass.CoreServer.prototype.equals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.equals.equals">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>equals
            <span class="apidocSignatureSpan">(server)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.getConnection">module mongolass.CoreServer.prototype.getConnection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getConnection.getConnection">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.getDescription">module mongolass.CoreServer.prototype.getDescription</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getDescription.getDescription">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getDescription
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.getServer">module mongolass.CoreServer.prototype.getServer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.getServer.getServer">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getServer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.insert">module mongolass.CoreServer.prototype.insert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.insert.insert">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.isConnected">module mongolass.CoreServer.prototype.isConnected</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isConnected.isConnected">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.isDestroyed">module mongolass.CoreServer.prototype.isDestroyed</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.lastIsMaster">module mongolass.CoreServer.prototype.lastIsMaster</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.logout">module mongolass.CoreServer.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>logout
            <span class="apidocSignatureSpan">(dbName, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.remove">module mongolass.CoreServer.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.remove.remove">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.unref">module mongolass.CoreServer.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.prototype.update">module mongolass.CoreServer.prototype.update</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.prototype.update.update">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.CoreServer.servers">module mongolass.CoreServer.servers</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.CoreServer.servers.servers">
            function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>servers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor">module mongolass.Cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.Cursor">
            function <span class="apidocSignatureSpan">mongolass.</span>Cursor
            <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.super_">
            function <span class="apidocSignatureSpan">mongolass.Cursor.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Cursor.</span>CLOSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Cursor.</span>GET_MORE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Cursor.</span>INIT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Cursor.</span>OPEN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Cursor.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.define">module mongolass.Cursor.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Cursor.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.define.object">
            function <span class="apidocSignatureSpan">mongolass.Cursor.define.</span>object
            <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Cursor.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Cursor.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype">module mongolass.Cursor.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._find">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_find
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._getmore">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_getmore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._killcursor">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_killcursor
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._next">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._read">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_read
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addCursorFlag
            <span class="apidocSignatureSpan">(flag, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addQueryModifier
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.batchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>batchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>bufferedCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.clone">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.collation">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>collation
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.comment">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>comment
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.count">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>count
            <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorBatchSize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorLimit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorSkip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>destroy
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.each">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.explain">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>explain
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.filter">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>filter
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.forEach">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>forEach
            <span class="apidocSignatureSpan">(iterator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hasNext">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hasNext
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hint">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hint
            <span class="apidocSignatureSpan">(hint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isClosed">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isClosed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isDead">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isDead
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isKilled">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isKilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isNotified">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.kill">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>kill
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.limit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>limit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.map">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>map
            <span class="apidocSignatureSpan">(transform)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.max">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>max
            <span class="apidocSignatureSpan">(max)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxAwaitTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxScan">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxScan
            <span class="apidocSignatureSpan">(maxScan)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMs">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMs
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.min">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>min
            <span class="apidocSignatureSpan">(min)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.next">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.nextObject">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>nextObject
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.project">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>project
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>readBufferedDocuments
            <span class="apidocSignatureSpan">(number)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.returnKey">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>returnKey
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorBatchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorLimit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorOption
            <span class="apidocSignatureSpan">(field, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorSkip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setReadPreference
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.showRecordId">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>showRecordId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.skip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>skip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.snapshot">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>snapshot
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.sort">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>sort
            <span class="apidocSignatureSpan">(keyOrList, direction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.stream">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.toArray">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>toArray
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>namespace</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>readPreference</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype._find">module mongolass.Cursor.prototype._find</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._find._find">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_find
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype._getmore">module mongolass.Cursor.prototype._getmore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._getmore._getmore">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_getmore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype._killcursor">module mongolass.Cursor.prototype._killcursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._killcursor._killcursor">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_killcursor
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype._next">module mongolass.Cursor.prototype._next</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._next._next">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype._read">module mongolass.Cursor.prototype._read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype._read._read">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_read
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.addCursorFlag">module mongolass.Cursor.prototype.addCursorFlag</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag.addCursorFlag">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addCursorFlag
            <span class="apidocSignatureSpan">(flag, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.addQueryModifier">module mongolass.Cursor.prototype.addQueryModifier</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier.addQueryModifier">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addQueryModifier
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.batchSize">module mongolass.Cursor.prototype.batchSize</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.batchSize.batchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>batchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.bufferedCount">module mongolass.Cursor.prototype.bufferedCount</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount.bufferedCount">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>bufferedCount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.clone">module mongolass.Cursor.prototype.clone</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.clone.clone">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.close">module mongolass.Cursor.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.collation">module mongolass.Cursor.prototype.collation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.collation.collation">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>collation
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.comment">module mongolass.Cursor.prototype.comment</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.comment.comment">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>comment
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.count">module mongolass.Cursor.prototype.count</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.count.count">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>count
            <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.cursorBatchSize">module mongolass.Cursor.prototype.cursorBatchSize</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize.cursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorBatchSize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.cursorLimit">module mongolass.Cursor.prototype.cursorLimit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit.cursorLimit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorLimit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.cursorSkip">module mongolass.Cursor.prototype.cursorSkip</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip.cursorSkip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorSkip
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.destroy">module mongolass.Cursor.prototype.destroy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.destroy.destroy">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>destroy
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.each">module mongolass.Cursor.prototype.each</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.each.each">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>each
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.explain">module mongolass.Cursor.prototype.explain</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.explain.explain">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>explain
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.filter">module mongolass.Cursor.prototype.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.filter.filter">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>filter
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.forEach">module mongolass.Cursor.prototype.forEach</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.forEach.forEach">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>forEach
            <span class="apidocSignatureSpan">(iterator, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.hasNext">module mongolass.Cursor.prototype.hasNext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hasNext.hasNext">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hasNext
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.hint">module mongolass.Cursor.prototype.hint</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.hint.hint">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hint
            <span class="apidocSignatureSpan">(hint)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.isClosed">module mongolass.Cursor.prototype.isClosed</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isClosed.isClosed">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isClosed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.isDead">module mongolass.Cursor.prototype.isDead</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isDead.isDead">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isDead
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.isKilled">module mongolass.Cursor.prototype.isKilled</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isKilled.isKilled">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isKilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.isNotified">module mongolass.Cursor.prototype.isNotified</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.isNotified.isNotified">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isNotified
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.kill">module mongolass.Cursor.prototype.kill</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.kill.kill">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>kill
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.limit">module mongolass.Cursor.prototype.limit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.limit.limit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>limit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.map">module mongolass.Cursor.prototype.map</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.map.map">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>map
            <span class="apidocSignatureSpan">(transform)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.max">module mongolass.Cursor.prototype.max</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.max.max">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>max
            <span class="apidocSignatureSpan">(max)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.maxAwaitTimeMS">module mongolass.Cursor.prototype.maxAwaitTimeMS</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS.maxAwaitTimeMS">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxAwaitTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.maxScan">module mongolass.Cursor.prototype.maxScan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxScan.maxScan">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxScan
            <span class="apidocSignatureSpan">(maxScan)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.maxTimeMS">module mongolass.Cursor.prototype.maxTimeMS</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS.maxTimeMS">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMS
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.min">module mongolass.Cursor.prototype.min</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.min.min">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>min
            <span class="apidocSignatureSpan">(min)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.next">module mongolass.Cursor.prototype.next</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.next.next">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>next
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.project">module mongolass.Cursor.prototype.project</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.project.project">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>project
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.readBufferedDocuments">module mongolass.Cursor.prototype.readBufferedDocuments</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments.readBufferedDocuments">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>readBufferedDocuments
            <span class="apidocSignatureSpan">(number)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.returnKey">module mongolass.Cursor.prototype.returnKey</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.returnKey.returnKey">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>returnKey
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.rewind">module mongolass.Cursor.prototype.rewind</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.rewind.rewind">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>rewind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorBatchSize">module mongolass.Cursor.prototype.setCursorBatchSize</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize.setCursorBatchSize">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorBatchSize
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorLimit">module mongolass.Cursor.prototype.setCursorLimit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit.setCursorLimit">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorLimit
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorOption">module mongolass.Cursor.prototype.setCursorOption</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption.setCursorOption">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorOption
            <span class="apidocSignatureSpan">(field, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorSkip">module mongolass.Cursor.prototype.setCursorSkip</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip.setCursorSkip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorSkip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.setReadPreference">module mongolass.Cursor.prototype.setReadPreference</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference.setReadPreference">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setReadPreference
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.showRecordId">module mongolass.Cursor.prototype.showRecordId</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.showRecordId.showRecordId">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>showRecordId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.skip">module mongolass.Cursor.prototype.skip</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.skip.skip">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>skip
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.snapshot">module mongolass.Cursor.prototype.snapshot</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.snapshot.snapshot">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>snapshot
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.sort">module mongolass.Cursor.prototype.sort</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.sort.sort">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>sort
            <span class="apidocSignatureSpan">(keyOrList, direction)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.stream">module mongolass.Cursor.prototype.stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.stream.stream">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Cursor.prototype.toArray">module mongolass.Cursor.prototype.toArray</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Cursor.prototype.toArray.toArray">
            function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>toArray
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.DBRef">module mongolass.DBRef</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.DBRef.DBRef">
            function <span class="apidocSignatureSpan">mongolass.</span>DBRef
            <span class="apidocSignatureSpan">(namespace, oid, db)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.DBRef.prototype">module mongolass.DBRef.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.DBRef.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.DBRef.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.DBRef.prototype.toJSON">module mongolass.DBRef.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.DBRef.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.DBRef.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db">module mongolass.Db</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.Db">
            function <span class="apidocSignatureSpan">mongolass.</span>Db
            <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.super_">
            function <span class="apidocSignatureSpan">mongolass.Db.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Db.</span>define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_COMMAND_COLLECTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_INDEX_COLLECTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_JS_COLLECTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_NAMESPACE_COLLECTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_PROFILE_COLLECTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.</span>SYSTEM_USER_COLLECTION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.define">module mongolass.Db.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Db.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.define.object">
            function <span class="apidocSignatureSpan">mongolass.Db.define.</span>object
            <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Db.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Db.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype">module mongolass.Db.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addChild">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addChild
            <span class="apidocSignatureSpan">(db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addUser">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.admin">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>admin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.authenticate">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>close
            <span class="apidocSignatureSpan">(force, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collections">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collections
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createIndex">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.db">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>db
            <span class="apidocSignatureSpan">(dbName, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropDatabase">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropDatabase
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>ensureIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.eval">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>eval
            <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>executeDbAdminCommand
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>indexInformation
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.listCollections">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>listCollections
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>logout
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.open">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.removeUser">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.renameCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>renameCollection
            <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.stats">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.addChild">module mongolass.Db.prototype.addChild</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addChild.addChild">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addChild
            <span class="apidocSignatureSpan">(db)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.addUser">module mongolass.Db.prototype.addUser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.addUser.addUser">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addUser
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.admin">module mongolass.Db.prototype.admin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.admin.admin">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>admin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.authenticate">module mongolass.Db.prototype.authenticate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.authenticate.authenticate">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>authenticate
            <span class="apidocSignatureSpan">(username, password, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.close">module mongolass.Db.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>close
            <span class="apidocSignatureSpan">(force, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.collection">module mongolass.Db.prototype.collection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collection.collection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.collections">module mongolass.Db.prototype.collections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.collections.collections">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collections
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.command">module mongolass.Db.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>command
            <span class="apidocSignatureSpan">(command, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.createCollection">module mongolass.Db.prototype.createCollection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createCollection.createCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.createIndex">module mongolass.Db.prototype.createIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.createIndex.createIndex">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.db">module mongolass.Db.prototype.db</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.db.db">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>db
            <span class="apidocSignatureSpan">(dbName, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.dropCollection">module mongolass.Db.prototype.dropCollection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropCollection.dropCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropCollection
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.dropDatabase">module mongolass.Db.prototype.dropDatabase</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.dropDatabase.dropDatabase">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropDatabase
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.ensureIndex">module mongolass.Db.prototype.ensureIndex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.ensureIndex.ensureIndex">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>ensureIndex
            <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.eval">module mongolass.Db.prototype.eval</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.eval.eval">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>eval
            <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.executeDbAdminCommand">module mongolass.Db.prototype.executeDbAdminCommand</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand.executeDbAdminCommand">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>executeDbAdminCommand
            <span class="apidocSignatureSpan">(selector, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.indexInformation">module mongolass.Db.prototype.indexInformation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.indexInformation.indexInformation">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>indexInformation
            <span class="apidocSignatureSpan">(name, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.listCollections">module mongolass.Db.prototype.listCollections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.listCollections.listCollections">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>listCollections
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.logout">module mongolass.Db.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>logout
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.open">module mongolass.Db.prototype.open</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.open.open">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.removeUser">module mongolass.Db.prototype.removeUser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.removeUser.removeUser">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>removeUser
            <span class="apidocSignatureSpan">(username, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.renameCollection">module mongolass.Db.prototype.renameCollection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.renameCollection.renameCollection">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>renameCollection
            <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.stats">module mongolass.Db.prototype.stats</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.stats.stats">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Db.prototype.unref">module mongolass.Db.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Db.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Decimal128">module mongolass.Decimal128</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.Decimal128">
            function <span class="apidocSignatureSpan">mongolass.</span>Decimal128
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.fromString">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.</span>fromString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Decimal128.fromString">module mongolass.Decimal128.fromString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.fromString.fromString">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.</span>fromString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Decimal128.prototype">module mongolass.Decimal128.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Decimal128.prototype.toJSON">module mongolass.Decimal128.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Decimal128.prototype.toString">module mongolass.Decimal128.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Decimal128.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Double">module mongolass.Double</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.Double">
            function <span class="apidocSignatureSpan">mongolass.</span>Double
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Double.prototype">module mongolass.Double.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Double.prototype.toJSON">module mongolass.Double.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Double.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Double.prototype.valueOf">module mongolass.Double.prototype.valueOf</a><ol>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket">module mongolass.GridFSBucket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.GridFSBucket">
            function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket
            <span class="apidocSignatureSpan">(db, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.super_">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype">module mongolass.GridFSBucket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.delete">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>delete
            <span class="apidocSignatureSpan">(id, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.drop">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>drop
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.find">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>find
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStream
            <span class="apidocSignatureSpan">(id, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStreamByName
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStream
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStreamWithId
            <span class="apidocSignatureSpan">(id, filename, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.rename">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>rename
            <span class="apidocSignatureSpan">(id, filename, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.delete">module mongolass.GridFSBucket.prototype.delete</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.delete.delete">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>delete
            <span class="apidocSignatureSpan">(id, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.drop">module mongolass.GridFSBucket.prototype.drop</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.drop.drop">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>drop
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.find">module mongolass.GridFSBucket.prototype.find</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.find.find">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>find
            <span class="apidocSignatureSpan">(filter, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStream">module mongolass.GridFSBucket.prototype.openDownloadStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream.openDownloadStream">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStream
            <span class="apidocSignatureSpan">(id, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStreamByName">module mongolass.GridFSBucket.prototype.openDownloadStreamByName</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName.openDownloadStreamByName">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStreamByName
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openUploadStream">module mongolass.GridFSBucket.prototype.openUploadStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream.openUploadStream">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStream
            <span class="apidocSignatureSpan">(filename, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openUploadStreamWithId">module mongolass.GridFSBucket.prototype.openUploadStreamWithId</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId.openUploadStreamWithId">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStreamWithId
            <span class="apidocSignatureSpan">(id, filename, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridFSBucket.prototype.rename">module mongolass.GridFSBucket.prototype.rename</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridFSBucket.prototype.rename.rename">
            function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>rename
            <span class="apidocSignatureSpan">(id, filename, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore">module mongolass.GridStore</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.GridStore">
            function <span class="apidocSignatureSpan">mongolass.</span>GridStore
            <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.exist">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>exist
            <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.list">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>list
            <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.read">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>read
            <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.readlines">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>readlines
            <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.unlink">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>unlink
            <span class="apidocSignatureSpan">(db, names, options, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.GridStore.</span>IO_SEEK_CUR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.GridStore.</span>IO_SEEK_END</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.GridStore.</span>IO_SEEK_SET</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.GridStore.</span>define</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.GridStore.</span>DEFAULT_CONTENT_TYPE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.GridStore.</span>DEFAULT_ROOT_COLLECTION</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.define">module mongolass.GridStore.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.GridStore.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.define.object">
            function <span class="apidocSignatureSpan">mongolass.GridStore.define.</span>object
            <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.GridStore.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.GridStore.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.exist">module mongolass.GridStore.exist</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.exist.exist">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>exist
            <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.list">module mongolass.GridStore.list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.list.list">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>list
            <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype">module mongolass.GridStore.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>chunkCollection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.collection">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>collection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.destroy">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.eof">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.getc">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>getc
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.open">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.puts">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>puts
            <span class="apidocSignatureSpan">(string, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.read">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>read
            <span class="apidocSignatureSpan">(length, buffer, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.readlines">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>readlines
            <span class="apidocSignatureSpan">(separator, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.rewind">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>rewind
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.seek">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>seek
            <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.stream">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.tell">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>tell
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.unlink">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>unlink
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.write">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>write
            <span class="apidocSignatureSpan">(data, close, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.writeFile">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>writeFile
            <span class="apidocSignatureSpan">(file, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.chunkCollection">module mongolass.GridStore.prototype.chunkCollection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection.chunkCollection">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>chunkCollection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.close">module mongolass.GridStore.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>close
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.collection">module mongolass.GridStore.prototype.collection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.collection.collection">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>collection
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.destroy">module mongolass.GridStore.prototype.destroy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.destroy.destroy">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.eof">module mongolass.GridStore.prototype.eof</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.eof.eof">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>eof
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.getc">module mongolass.GridStore.prototype.getc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.getc.getc">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>getc
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.open">module mongolass.GridStore.prototype.open</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.open.open">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>open
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.puts">module mongolass.GridStore.prototype.puts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.puts.puts">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>puts
            <span class="apidocSignatureSpan">(string, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.read">module mongolass.GridStore.prototype.read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.read.read">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>read
            <span class="apidocSignatureSpan">(length, buffer, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.readlines">module mongolass.GridStore.prototype.readlines</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.readlines.readlines">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>readlines
            <span class="apidocSignatureSpan">(separator, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.rewind">module mongolass.GridStore.prototype.rewind</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.rewind.rewind">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>rewind
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.seek">module mongolass.GridStore.prototype.seek</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.seek.seek">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>seek
            <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.stream">module mongolass.GridStore.prototype.stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.stream.stream">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.tell">module mongolass.GridStore.prototype.tell</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.tell.tell">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>tell
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.unlink">module mongolass.GridStore.prototype.unlink</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.unlink.unlink">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>unlink
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.write">module mongolass.GridStore.prototype.write</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.write.write">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>write
            <span class="apidocSignatureSpan">(data, close, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.prototype.writeFile">module mongolass.GridStore.prototype.writeFile</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.prototype.writeFile.writeFile">
            function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>writeFile
            <span class="apidocSignatureSpan">(file, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.read">module mongolass.GridStore.read</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.read.read">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>read
            <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.readlines">module mongolass.GridStore.readlines</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.readlines.readlines">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>readlines
            <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.GridStore.unlink">module mongolass.GridStore.unlink</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.GridStore.unlink.unlink">
            function <span class="apidocSignatureSpan">mongolass.GridStore.</span>unlink
            <span class="apidocSignatureSpan">(db, names, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Int32">module mongolass.Int32</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.Int32">
            function <span class="apidocSignatureSpan">mongolass.</span>Int32
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Int32.prototype">module mongolass.Int32.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Int32.prototype.toJSON">module mongolass.Int32.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Int32.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Int32.prototype.valueOf">module mongolass.Int32.prototype.valueOf</a><ol>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger">module mongolass.Logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.Logger">
            function <span class="apidocSignatureSpan">mongolass.</span>Logger
            <span class="apidocSignatureSpan">(className, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.currentLogger">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>currentLogger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.filter">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>filter
            <span class="apidocSignatureSpan">(type, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.reset">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setCurrentLogger">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>setCurrentLogger
            <span class="apidocSignatureSpan">(logger)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setLevel">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>setLevel
            <span class="apidocSignatureSpan">(_level)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.currentLogger">module mongolass.Logger.currentLogger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.currentLogger.currentLogger">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>currentLogger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.filter">module mongolass.Logger.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.filter.filter">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>filter
            <span class="apidocSignatureSpan">(type, values)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype">module mongolass.Logger.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.debug">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>debug
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.error">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>error
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.info">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>info
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isDebug">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isError">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isInfo">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isWarn">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isWarn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.warn">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>warn
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.debug">module mongolass.Logger.prototype.debug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.debug.debug">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>debug
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.error">module mongolass.Logger.prototype.error</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.error.error">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>error
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.info">module mongolass.Logger.prototype.info</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.info.info">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>info
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.isDebug">module mongolass.Logger.prototype.isDebug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isDebug.isDebug">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.isError">module mongolass.Logger.prototype.isError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isError.isError">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.isInfo">module mongolass.Logger.prototype.isInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isInfo.isInfo">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.isWarn">module mongolass.Logger.prototype.isWarn</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.isWarn.isWarn">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isWarn
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.prototype.warn">module mongolass.Logger.prototype.warn</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.prototype.warn.warn">
            function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>warn
            <span class="apidocSignatureSpan">(message, object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.reset">module mongolass.Logger.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.reset.reset">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.setCurrentLogger">module mongolass.Logger.setCurrentLogger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setCurrentLogger.setCurrentLogger">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>setCurrentLogger
            <span class="apidocSignatureSpan">(logger)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Logger.setLevel">module mongolass.Logger.setLevel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Logger.setLevel.setLevel">
            function <span class="apidocSignatureSpan">mongolass.Logger.</span>setLevel
            <span class="apidocSignatureSpan">(_level)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long">module mongolass.Long</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.Long">
            function <span class="apidocSignatureSpan">mongolass.</span>Long
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromBits">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromInt">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromString">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_16_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_24_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_31_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_32_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_48_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_63_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_64_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>INT_CACHE_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>MAX_VALUE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>MIN_VALUE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>NEG_ONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>ONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>TWO_PWR_24_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Long.</span>ZERO</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.fromBits">module mongolass.Long.fromBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromBits.fromBits">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.fromInt">module mongolass.Long.fromInt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromInt.fromInt">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.fromNumber">module mongolass.Long.fromNumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromNumber.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.fromString">module mongolass.Long.fromString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.fromString.fromString">
            function <span class="apidocSignatureSpan">mongolass.Long.</span>fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype">module mongolass.Long.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.add">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.and">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.compare">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.div">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isNegative">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isOdd">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isZero">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThan">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.modulo">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.multiply">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.negate">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.not">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.notEquals">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.or">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.subtract">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toInt">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toNumber">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toString
            <span class="apidocSignatureSpan">(opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.xor">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.add">module mongolass.Long.prototype.add</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.add.add">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.and">module mongolass.Long.prototype.and</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.and.and">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.compare">module mongolass.Long.prototype.compare</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.compare.compare">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.div">module mongolass.Long.prototype.div</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.div.div">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.equals">module mongolass.Long.prototype.equals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.equals.equals">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.getHighBits">module mongolass.Long.prototype.getHighBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getHighBits.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.getLowBits">module mongolass.Long.prototype.getLowBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBits.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.getLowBitsUnsigned">module mongolass.Long.prototype.getLowBitsUnsigned</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.getNumBitsAbs">module mongolass.Long.prototype.getNumBitsAbs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.greaterThan">module mongolass.Long.prototype.greaterThan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThan.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.greaterThanOrEqual">module mongolass.Long.prototype.greaterThanOrEqual</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.isNegative">module mongolass.Long.prototype.isNegative</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isNegative.isNegative">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.isOdd">module mongolass.Long.prototype.isOdd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isOdd.isOdd">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.isZero">module mongolass.Long.prototype.isZero</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.isZero.isZero">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.lessThan">module mongolass.Long.prototype.lessThan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThan.lessThan">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.lessThanOrEqual">module mongolass.Long.prototype.lessThanOrEqual</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.modulo">module mongolass.Long.prototype.modulo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.modulo.modulo">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.multiply">module mongolass.Long.prototype.multiply</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.multiply.multiply">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.negate">module mongolass.Long.prototype.negate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.negate.negate">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.not">module mongolass.Long.prototype.not</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.not.not">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.notEquals">module mongolass.Long.prototype.notEquals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.notEquals.notEquals">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.or">module mongolass.Long.prototype.or</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.or.or">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.shiftLeft">module mongolass.Long.prototype.shiftLeft</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftLeft.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.shiftRight">module mongolass.Long.prototype.shiftRight</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRight.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.shiftRightUnsigned">module mongolass.Long.prototype.shiftRightUnsigned</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.subtract">module mongolass.Long.prototype.subtract</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.subtract.subtract">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.toInt">module mongolass.Long.prototype.toInt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toInt.toInt">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.toJSON">module mongolass.Long.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.toNumber">module mongolass.Long.prototype.toNumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toNumber.toNumber">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.toString">module mongolass.Long.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Long.prototype.xor">module mongolass.Long.prototype.xor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Long.prototype.xor.xor">
            function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Map">module mongolass.Map</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Map.Map">
            function <span class="apidocSignatureSpan">mongolass.</span>Map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MaxKey">module mongolass.MaxKey</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MaxKey.MaxKey">
            function <span class="apidocSignatureSpan">mongolass.</span>MaxKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MinKey">module mongolass.MinKey</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MinKey.MinKey">
            function <span class="apidocSignatureSpan">mongolass.</span>MinKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Model">module mongolass.Model</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Model.Model">
            function <span class="apidocSignatureSpan">mongolass.</span>Model
            <span class="apidocSignatureSpan">(name, schema, db, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MongoClient">module mongolass.MongoClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoClient.MongoClient">
            function <span class="apidocSignatureSpan">mongolass.</span>MongoClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoClient.connect">
            function <span class="apidocSignatureSpan">mongolass.MongoClient.</span>connect
            <span class="apidocSignatureSpan">(url, options, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.MongoClient.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MongoClient.define">module mongolass.MongoClient.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.MongoClient.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoClient.define.object">
            function <span class="apidocSignatureSpan">mongolass.MongoClient.define.</span>object
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.MongoClient.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.MongoClient.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MongoError">module mongolass.MongoError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoError.MongoError">
            function <span class="apidocSignatureSpan">mongolass.</span>MongoError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoError.create">
            function <span class="apidocSignatureSpan">mongolass.MongoError.</span>create
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.MongoError.create">module mongolass.MongoError.create</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.MongoError.create.create">
            function <span class="apidocSignatureSpan">mongolass.MongoError.</span>create
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos">module mongolass.Mongos</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.Mongos">
            function <span class="apidocSignatureSpan">mongolass.</span>Mongos
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.super_">
            function <span class="apidocSignatureSpan">mongolass.Mongos.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Mongos.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.define">module mongolass.Mongos.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Mongos.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.define.object">
            function <span class="apidocSignatureSpan">mongolass.Mongos.define.</span>object
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Mongos.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Mongos.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype">module mongolass.Mongos.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.auth">module mongolass.Mongos.prototype.auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.auth.auth">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.capabilities">module mongolass.Mongos.prototype.capabilities</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.capabilities.capabilities">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.close">module mongolass.Mongos.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.command">module mongolass.Mongos.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.connect">module mongolass.Mongos.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.connections">module mongolass.Mongos.prototype.connections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.connections.connections">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.cursor">module mongolass.Mongos.prototype.cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.cursor.cursor">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.insert">module mongolass.Mongos.prototype.insert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.insert.insert">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.isConnected">module mongolass.Mongos.prototype.isConnected</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isConnected.isConnected">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.isDestroyed">module mongolass.Mongos.prototype.isDestroyed</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.lastIsMaster">module mongolass.Mongos.prototype.lastIsMaster</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.logout">module mongolass.Mongos.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.remove">module mongolass.Mongos.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.remove.remove">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.unref">module mongolass.Mongos.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Mongos.prototype.update">module mongolass.Mongos.prototype.update</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Mongos.prototype.update.update">
            function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID">module mongolass.ObjectID</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.ObjectID">
            function <span class="apidocSignatureSpan">mongolass.</span>ObjectID
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>ObjectId
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromHexString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromHexString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromTime">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromTime
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createPk">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createPk
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.isValid">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>isValid
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.ObjectID.</span>index</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.createFromHexString">module mongolass.ObjectID.createFromHexString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromHexString.createFromHexString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromHexString
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.createFromTime">module mongolass.ObjectID.createFromTime</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createFromTime.createFromTime">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromTime
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.createPk">module mongolass.ObjectID.createPk</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.createPk.createPk">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createPk
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.isValid">module mongolass.ObjectID.isValid</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.isValid.isValid">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>isValid
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype">module mongolass.ObjectID.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>equals
            <span class="apidocSignatureSpan">(otherId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.generate">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>generate
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getInc">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getInc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getTimestamp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.get_inc">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>get_inc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.inspect">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>inspect
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toHexString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toHexString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toString
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.equals">module mongolass.ObjectID.prototype.equals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.equals.equals">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>equals
            <span class="apidocSignatureSpan">(otherId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.generate">module mongolass.ObjectID.prototype.generate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.generate.generate">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>generate
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.getInc">module mongolass.ObjectID.prototype.getInc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getInc.getInc">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getInc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.getTimestamp">module mongolass.ObjectID.prototype.getTimestamp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp.getTimestamp">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getTimestamp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.get_inc">module mongolass.ObjectID.prototype.get_inc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.get_inc.get_inc">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>get_inc
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.toHexString">module mongolass.ObjectID.prototype.toHexString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toHexString.toHexString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toHexString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.toJSON">module mongolass.ObjectID.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ObjectID.prototype.toString">module mongolass.ObjectID.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ObjectID.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference">module mongolass.ReadPreference</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.ReadPreference">
            function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference
            <span class="apidocSignatureSpan">(mode, tags, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.isValid">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>isValid
            <span class="apidocSignatureSpan">(_mode)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>NEAREST</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>PRIMARY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>PRIMARY_PREFERRED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>SECONDARY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>SECONDARY_PREFERRED</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference.isValid">module mongolass.ReadPreference.isValid</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.isValid.isValid">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>isValid
            <span class="apidocSignatureSpan">(_mode)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference.prototype">module mongolass.ReadPreference.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.isValid">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>isValid
            <span class="apidocSignatureSpan">(mode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toObject">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toObject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference.prototype.isValid">module mongolass.ReadPreference.prototype.isValid</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.isValid.isValid">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>isValid
            <span class="apidocSignatureSpan">(mode)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference.prototype.toJSON">module mongolass.ReadPreference.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReadPreference.prototype.toObject">module mongolass.ReadPreference.prototype.toObject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReadPreference.prototype.toObject.toObject">
            function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toObject
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet">module mongolass.ReplSet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.ReplSet">
            function <span class="apidocSignatureSpan">mongolass.</span>ReplSet
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.super_">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.ReplSet.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.define">module mongolass.ReplSet.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.ReplSet.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.define.object">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.define.</span>object
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.ReplSet.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.ReplSet.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype">module mongolass.ReplSet.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isConnected
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.auth">module mongolass.ReplSet.prototype.auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.auth.auth">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.capabilities">module mongolass.ReplSet.prototype.capabilities</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.capabilities.capabilities">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.close">module mongolass.ReplSet.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.command">module mongolass.ReplSet.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.connect">module mongolass.ReplSet.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.connections">module mongolass.ReplSet.prototype.connections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.connections.connections">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.cursor">module mongolass.ReplSet.prototype.cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.cursor.cursor">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.insert">module mongolass.ReplSet.prototype.insert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.insert.insert">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.isConnected">module mongolass.ReplSet.prototype.isConnected</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isConnected.isConnected">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isConnected
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.isDestroyed">module mongolass.ReplSet.prototype.isDestroyed</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.lastIsMaster">module mongolass.ReplSet.prototype.lastIsMaster</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.logout">module mongolass.ReplSet.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.remove">module mongolass.ReplSet.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.remove.remove">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.unref">module mongolass.ReplSet.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.ReplSet.prototype.update">module mongolass.ReplSet.prototype.update</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.ReplSet.prototype.update.update">
            function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Schema">module mongolass.Schema</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Schema.Schema">
            function <span class="apidocSignatureSpan">mongolass.</span>Schema
            <span class="apidocSignatureSpan">(name, schema)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server">module mongolass.Server</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.Server">
            function <span class="apidocSignatureSpan">mongolass.</span>Server
            <span class="apidocSignatureSpan">(host, port, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.super_">
            function <span class="apidocSignatureSpan">mongolass.Server.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Server.</span>define</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.define">module mongolass.Server.define</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">mongolass.Server.define.</span>stream</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.define.object">
            function <span class="apidocSignatureSpan">mongolass.Server.define.</span>object
            <span class="apidocSignatureSpan">(host, port, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Server.define.</span>instrumentations</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">mongolass.Server.define.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype">module mongolass.Server.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.auth">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.capabilities">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.close">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.command">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connect">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connections">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.cursor">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.insert">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isConnected">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.logout">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.remove">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.unref">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.update">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.auth">module mongolass.Server.prototype.auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.auth.auth">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>auth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.capabilities">module mongolass.Server.prototype.capabilities</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.capabilities.capabilities">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>capabilities
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.close">module mongolass.Server.prototype.close</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.close.close">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>close
            <span class="apidocSignatureSpan">(forceClosed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.command">module mongolass.Server.prototype.command</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.command.command">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>command
            <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.connect">module mongolass.Server.prototype.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connect
            <span class="apidocSignatureSpan">(db, _options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.connections">module mongolass.Server.prototype.connections</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.connections.connections">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connections
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.cursor">module mongolass.Server.prototype.cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.cursor.cursor">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>cursor
            <span class="apidocSignatureSpan">(ns, cmd, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.insert">module mongolass.Server.prototype.insert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.insert.insert">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>insert
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.isConnected">module mongolass.Server.prototype.isConnected</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isConnected.isConnected">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.isDestroyed">module mongolass.Server.prototype.isDestroyed</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.isDestroyed.isDestroyed">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isDestroyed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.lastIsMaster">module mongolass.Server.prototype.lastIsMaster</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.lastIsMaster.lastIsMaster">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>lastIsMaster
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.logout">module mongolass.Server.prototype.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.logout.logout">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>logout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.remove">module mongolass.Server.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.remove.remove">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>remove
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.unref">module mongolass.Server.prototype.unref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.unref.unref">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>unref
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Server.prototype.update">module mongolass.Server.prototype.update</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Server.prototype.update.update">
            function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>update
            <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol">module mongolass.Symbol</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.Symbol">
            function <span class="apidocSignatureSpan">mongolass.</span>Symbol
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol.prototype">module mongolass.Symbol.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.inspect">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.valueOf">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>valueOf
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol.prototype.inspect">module mongolass.Symbol.prototype.inspect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.inspect.inspect">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol.prototype.toJSON">module mongolass.Symbol.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol.prototype.toString">module mongolass.Symbol.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Symbol.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Symbol.prototype.valueOf">module mongolass.Symbol.prototype.valueOf</a><ol>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp">module mongolass.Timestamp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.Timestamp">
            function <span class="apidocSignatureSpan">mongolass.</span>Timestamp
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromInt">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromString">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_16_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_24_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_31_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_32_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_48_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_63_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_64_DBL_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>INT_CACHE_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>MAX_VALUE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>MIN_VALUE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>NEG_ONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>ONE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>TWO_PWR_24_</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mongolass.Timestamp.</span>ZERO</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.fromBits">module mongolass.Timestamp.fromBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromBits.fromBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromBits
            <span class="apidocSignatureSpan">(lowBits, highBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.fromInt">module mongolass.Timestamp.fromInt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromInt.fromInt">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromInt
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.fromNumber">module mongolass.Timestamp.fromNumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromNumber.fromNumber">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.fromString">module mongolass.Timestamp.fromString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.fromString.fromString">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromString
            <span class="apidocSignatureSpan">(str, opt_radix)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype">module mongolass.Timestamp.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.add">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.and">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.compare">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.div">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.equals">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isNegative">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isOdd">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isZero">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThan">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.modulo">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.multiply">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.negate">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.not">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.notEquals">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.or">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.subtract">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toInt">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toNumber">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toString">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toString
            <span class="apidocSignatureSpan">(opt_radix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.xor">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.add">module mongolass.Timestamp.prototype.add</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.add.add">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>add
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.and">module mongolass.Timestamp.prototype.and</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.and.and">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>and
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.compare">module mongolass.Timestamp.prototype.compare</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.compare.compare">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>compare
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.div">module mongolass.Timestamp.prototype.div</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.div.div">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>div
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.equals">module mongolass.Timestamp.prototype.equals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.equals.equals">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>equals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.getHighBits">module mongolass.Timestamp.prototype.getHighBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits.getHighBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getHighBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.getLowBits">module mongolass.Timestamp.prototype.getLowBits</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits.getLowBits">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.getLowBitsUnsigned">module mongolass.Timestamp.prototype.getLowBitsUnsigned</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned.getLowBitsUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBitsUnsigned
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.getNumBitsAbs">module mongolass.Timestamp.prototype.getNumBitsAbs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs.getNumBitsAbs">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getNumBitsAbs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.greaterThan">module mongolass.Timestamp.prototype.greaterThan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan.greaterThan">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.greaterThanOrEqual">module mongolass.Timestamp.prototype.greaterThanOrEqual</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual.greaterThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.isNegative">module mongolass.Timestamp.prototype.isNegative</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isNegative.isNegative">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isNegative
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.isOdd">module mongolass.Timestamp.prototype.isOdd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isOdd.isOdd">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isOdd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.isZero">module mongolass.Timestamp.prototype.isZero</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.isZero.isZero">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isZero
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.lessThan">module mongolass.Timestamp.prototype.lessThan</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThan.lessThan">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThan
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.lessThanOrEqual">module mongolass.Timestamp.prototype.lessThanOrEqual</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual.lessThanOrEqual">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThanOrEqual
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.modulo">module mongolass.Timestamp.prototype.modulo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.modulo.modulo">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>modulo
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.multiply">module mongolass.Timestamp.prototype.multiply</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.multiply.multiply">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>multiply
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.negate">module mongolass.Timestamp.prototype.negate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.negate.negate">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>negate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.not">module mongolass.Timestamp.prototype.not</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.not.not">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>not
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.notEquals">module mongolass.Timestamp.prototype.notEquals</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.notEquals.notEquals">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>notEquals
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.or">module mongolass.Timestamp.prototype.or</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.or.or">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>or
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftLeft">module mongolass.Timestamp.prototype.shiftLeft</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft.shiftLeft">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftLeft
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftRight">module mongolass.Timestamp.prototype.shiftRight</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight.shiftRight">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRight
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftRightUnsigned">module mongolass.Timestamp.prototype.shiftRightUnsigned</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned.shiftRightUnsigned">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRightUnsigned
            <span class="apidocSignatureSpan">(numBits)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.subtract">module mongolass.Timestamp.prototype.subtract</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.subtract.subtract">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>subtract
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.toInt">module mongolass.Timestamp.prototype.toInt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toInt.toInt">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toInt
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.toJSON">module mongolass.Timestamp.prototype.toJSON</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toJSON.toJSON">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.toNumber">module mongolass.Timestamp.prototype.toNumber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toNumber.toNumber">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.toString">module mongolass.Timestamp.prototype.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Timestamp.prototype.xor">module mongolass.Timestamp.prototype.xor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Timestamp.prototype.xor.xor">
            function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>xor
            <span class="apidocSignatureSpan">(other)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Types">module mongolass.Types</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Types.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.Types.</span>ObjectId
            <span class="apidocSignatureSpan">(actual)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.Types.ObjectId">module mongolass.Types.ObjectId</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.Types.ObjectId.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.Types.</span>ObjectId
            <span class="apidocSignatureSpan">(actual)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.connect">module mongolass.connect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.connect">
            function <span class="apidocSignatureSpan">mongolass.</span>connect
            <span class="apidocSignatureSpan">(url, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Admin">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Admin
            <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.BSONRegExp">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>BSONRegExp
            <span class="apidocSignatureSpan">(pattern, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Binary">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Binary
            <span class="apidocSignatureSpan">(buffer, subType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Chunk">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Chunk
            <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Code">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Code
            <span class="apidocSignatureSpan">(code, scope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Collection">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Collection
            <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.CoreConnection">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>CoreConnection
            <span class="apidocSignatureSpan">(messageHandler, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.CoreServer">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>CoreServer
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Cursor">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Cursor
            <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.DBRef">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>DBRef
            <span class="apidocSignatureSpan">(namespace, oid, db)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Db">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Db
            <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Decimal128">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Decimal128
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Double">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Double
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.GridFSBucket">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>GridFSBucket
            <span class="apidocSignatureSpan">(db, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.GridStore">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>GridStore
            <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Int32">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Int32
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Logger">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Logger
            <span class="apidocSignatureSpan">(className, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Long">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Long
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Map">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Map
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.MaxKey">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>MaxKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.MinKey">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>MinKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.MongoClient">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>MongoClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.MongoError">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>MongoError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Mongos">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Mongos
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.ObjectID">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>ObjectID
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.ObjectId">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>ObjectId
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.ReadPreference">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>ReadPreference
            <span class="apidocSignatureSpan">(mode, tags, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.ReplSet">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>ReplSet
            <span class="apidocSignatureSpan">(servers, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Server">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Server
            <span class="apidocSignatureSpan">(host, port, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Symbol">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Symbol
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.Timestamp">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>Timestamp
            <span class="apidocSignatureSpan">(low, high)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.connect.instrument">
            function <span class="apidocSignatureSpan">mongolass.connect.</span>instrument
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.instrument">module mongolass.instrument</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.instrument.instrument">
            function <span class="apidocSignatureSpan">mongolass.</span>instrument
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.query">module mongolass.query</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.query.bindQuery">
            function <span class="apidocSignatureSpan">mongolass.query.</span>bindQuery
            <span class="apidocSignatureSpan">(ctx, NativeClass)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.schema">module mongolass.schema</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.schema.Schema">
            function <span class="apidocSignatureSpan">mongolass.schema.</span>Schema
            <span class="apidocSignatureSpan">(name, schema)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.schema._plugins">
            function <span class="apidocSignatureSpan">mongolass.schema.</span>_plugins
            <span class="apidocSignatureSpan">(schema)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mongolass.toString">module mongolass.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mongolass.toString.toString">
            function <span class="apidocSignatureSpan">mongolass.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass" id="apidoc.module.mongolass">module mongolass</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.mongolass" id="apidoc.element.mongolass.mongolass">
        function <span class="apidocSignatureSpan"></span>mongolass
        <span class="apidocSignatureSpan">(url, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Mongolass {
  constructor(url, opts) {
    if (url) {
      this.connect(url, opts);
    }
    this._name = this.constructor.name;
    this._plugins = {};
    this._schemas = {};
    this._models = {};
    this._url = url || DEFAULT_MONGODB_URL;
    this._opts = opts || {};

    Query.bindQuery(this, mongodb.Db);

    for (let name in plugins) {
      this.plugin(name, plugins[name]);
    }
  }

<span class="apidocCodeCommentSpan">  /**
   * connect mongodb
   */
</span>  connect(url, opts) {
    if (this._db) {
      if (url) {
        return Promise.reject(new Error(`Already connected to ${this._url}, please create another connection.`));
      }
      return Promise.resolve(this._db);
    }
    this._url = url || this._url;
    this._opts = opts || this._opts;

    this._conn = this._conn || mongodb.MongoClient
      .connect(this._url, this._opts)
      .then(db =&gt; {
        this._db = db;
        debug('Connected ' + this._url);
        return this._db;
      })
      .catch(e =&gt; {
        console.error(e);
        throw e;
      });
    return this._conn;
  }

  /**
   * disconnect mongodb
   */
  disconnect() {
    if (this._db) {
      this._db.close();
      this._db = null;
      this._conn = null;
      debug('Disconnect ' + this._url);
    }
  }

  /**
   * get/set collection schema
   */
  schema(name, schemaJSON) {
    if (!name || !_.isString(name)) {
      throw new TypeError('Missing schema name');
    }
    if (schemaJSON) {
      if ('object' !== typeof schemaJSON) throw new TypeError('Wrong schemaJSON for schema: ' + name);
      this._schemas[name] = new Schema(name, schemaJSON);
    }
    if (!this._schemas[name]) {
      throw new TypeError('No schema: ' + name);
    }

    return this._schemas[name];
  }

  /**
   * get/set collection model
   */
  model(name, schema, opts) {
    if (!name || !_.isString(name)) {
      throw new TypeError('Missing model name');
    }
    if (schema) {
      if (!(schema instanceof Schema)) {
        schema = this.schema(name + 'Schema', schema);
      }
      this._models[name] = new Model(name, schema, this, opts);
    } else {
      this._models[name] = this._models[name] || new Model(name, null, this, opts);
    }

    return this._models[name];
  }

  /**
   * add global plugin
   */
  plugin(name, hooks) {
    if (!name || !hooks || !_.isString(name) || !_.isPlainObject(hooks)) {
      throw new TypeError('Wrong plugin name or hooks');
    }
    this._plugins[name] = {
      name: name,
      hooks: hooks
    };
    for (let model in this._models) {
      _.defaults(this._models[model]._plugins, this._plugins);
    }
    debug('Add global pulgin: %j', name);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin" id="apidoc.element.mongolass.Admin">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin
        <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin = function (db, topology, promiseLibrary) {
  if(!(this instanceof Admin)) return new Admin(db, topology);

  // Internal state
  this.s = {
      db: db
    , topology: topology
    , promiseLibrary: promiseLibrary
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.addUser" id="apidoc.element.mongolass.Admin.prototype.addUser">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.addUser = function (username, password, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name to admin
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.addUser(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.addUser(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.authenticate" id="apidoc.element.mongolass.Admin.prototype.authenticate">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.authenticate = function (username, password, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);
  options.authdb = 'admin';

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.authenticate(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.authenticate(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.buildInfo" id="apidoc.element.mongolass.Admin.prototype.buildInfo">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.buildInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.buildInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.serverInfo(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.serverInfo(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.command" id="apidoc.element.mongolass.Admin.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.command = function (command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand(command, options, function(err, doc) {
    return callback != null ? callback(err, doc) : null;
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand(command, options, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.listDatabases" id="apidoc.element.mongolass.Admin.prototype.listDatabases">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.listDatabases
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.listDatabases = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return self.s.db.executeDbAdminCommand({listDatabases:1}, {}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({listDatabases:1}, {}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.logout" id="apidoc.element.mongolass.Admin.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.logout
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.logout = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.logout({dbName: 'admin'}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.logout({dbName: 'admin'}, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.ping" id="apidoc.element.mongolass.Admin.prototype.ping">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.ping = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({ping: 1}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({ping: 1}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingInfo" id="apidoc.element.mongolass.Admin.prototype.profilingInfo">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.profilingInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.profilingInfo = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingInfo(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingInfo(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingLevel" id="apidoc.element.mongolass.Admin.prototype.profilingLevel">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.profilingLevel
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.profilingLevel = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingLevel(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingLevel(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.removeUser" id="apidoc.element.mongolass.Admin.prototype.removeUser">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.removeUser = function (username, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.removeUser(username, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.removeUser(username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus" id="apidoc.element.mongolass.Admin.prototype.replSetGetStatus">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.replSetGetStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.replSetGetStatus = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return replSetGetStatus(self, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replSetGetStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverInfo" id="apidoc.element.mongolass.Admin.prototype.serverInfo">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.serverInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.serverInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
    if(err != null) return callback(err, null);
    callback(null, doc);
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverStatus" id="apidoc.element.mongolass.Admin.prototype.serverStatus">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.serverStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.serverStatus = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return serverStatus(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    serverStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel" id="apidoc.element.mongolass.Admin.prototype.setProfilingLevel">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.setProfilingLevel
        <span class="apidocSignatureSpan">(level, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.setProfilingLevel = function (level, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return setProfilingLevel(self, level, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    setProfilingLevel(self, level, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.validateCollection" id="apidoc.element.mongolass.Admin.prototype.validateCollection">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin.prototype.validateCollection
        <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin.prototype.validateCollection = function (collectionName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function')
    return validateCollection(self, collectionName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    validateCollection(self, collectionName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.BSONRegExp" id="apidoc.element.mongolass.BSONRegExp">
        function <span class="apidocSignatureSpan">mongolass.</span>BSONRegExp
        <span class="apidocSignatureSpan">(pattern, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BSONRegExp(pattern, options) {
  if(!(this instanceof BSONRegExp)) return new BSONRegExp();

  // Execute
  this._bsontype = 'BSONRegExp';
  this.pattern = pattern || '';
  this.options = options || '';

  // Validate options
  for(var i = 0; i &lt; this.options.length; i++) {
    if(!(this.options[i] == 'i'
      || this.options[i] == 'm'
      || this.options[i] == 'x'
      || this.options[i] == 'l'
      || this.options[i] == 's'
      || this.options[i] == 'u'
    )) {
      throw new Error('the regular expression options [' + this.options[i] + "] is not supported");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary" id="apidoc.element.mongolass.Binary">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary
        <span class="apidocSignatureSpan">(buffer, subType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Binary(buffer, subType) {
  if(!(this instanceof Binary)) return new Binary(buffer, subType);

  this._bsontype = 'Binary';

  if(buffer instanceof Number) {
    this.sub_type = buffer;
    this.position = 0;
  } else {
    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;
    this.position = 0;
  }

  if(buffer != null &amp;&amp; !(buffer instanceof Number)) {
    // Only accept Buffer, Uint8Array or Arrays
    if(typeof buffer == 'string') {
      // Different ways of writing the length of the string for the different types
      if(typeof Buffer != 'undefined') {
        this.buffer = new Buffer(buffer);
      } else if(typeof Uint8Array != 'undefined' || (Object.prototype.toString.call(buffer) == '[object Array]')) {
        this.buffer = writeStringToArray(buffer);
      } else {
        throw new Error("only String, Buffer, Uint8Array or Array accepted");
      }
    } else {
      this.buffer = buffer;
    }
    this.position = buffer.length;
  } else {
    if(typeof Buffer != 'undefined') {
      this.buffer =  new Buffer(Binary.BUFFER_SIZE);
    } else if(typeof Uint8Array != 'undefined'){
      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));
    } else {
      this.buffer = new Array(Binary.BUFFER_SIZE);
    }
    // Set position to start of buffer
    this.position = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.length" id="apidoc.element.mongolass.Binary.prototype.length">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.length
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function length() {
  return this.position;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.put" id="apidoc.element.mongolass.Binary.prototype.put">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.put
        <span class="apidocSignatureSpan">(byte_value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(byte_value) {
  // If it's a string and a has more than one character throw an error
  if(byte_value['length'] != null &amp;&amp; typeof byte_value != 'number' &amp;&amp; byte_value.length != 1) throw new Error("only accepts single
 character String, Uint8Array or Array");
  if(typeof byte_value != 'number' &amp;&amp; byte_value &lt; 0 || byte_value &gt; 255) throw new Error("only accepts number in a valid unsigned
 byte range 0-255");

  // Decode the byte value once
  var decoded_byte = null;
  if(typeof byte_value == 'string') {
    decoded_byte = byte_value.charCodeAt(0);
  } else if(byte_value['length'] != null) {
    decoded_byte = byte_value[0];
  } else {
    decoded_byte = byte_value;
  }

  if(this.buffer.length &gt; this.position) {
    this.buffer[this.position++] = decoded_byte;
  } else {
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      // Create additional overflow buffer
      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);
      // Combine the two buffers together
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
      this.buffer = buffer;
      this.buffer[this.position++] = decoded_byte;
    } else {
      var buffer = null;
      // Create a new buffer (typed or normal array)
      if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));
      } else {
        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);
      }

      // We need to copy all the content to the new array
      for(var i = 0; i &lt; this.buffer.length; i++) {
        buffer[i] = this.buffer[i];
      }

      // Reassign the buffer
      this.buffer = buffer;
      // Write the byte
      this.buffer[this.position++] = decoded_byte;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.read" id="apidoc.element.mongolass.Binary.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.read
        <span class="apidocSignatureSpan">(position, length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(position, length) {
  length = length &amp;&amp; length &gt; 0
    ? length
    : this.position;

  // Let's return the data based on the type we have
  if(this.buffer['slice']) {
    return this.buffer.slice(position, position + length);
  } else {
    // Create a buffer to keep the result
    var buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);
    for(var i = 0; i &lt; length; i++) {
      buffer[i] = this.buffer[position++];
    }
  }
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toJSON" id="apidoc.element.mongolass.Binary.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Binary.prototype.toJSON = function () {
  return this.buffer != null ? this.buffer.toString('base64') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toString" id="apidoc.element.mongolass.Binary.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.toString
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Binary.prototype.toString = function (format) {
  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.value" id="apidoc.element.mongolass.Binary.prototype.value">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.value
        <span class="apidocSignatureSpan">(asRaw)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function value(asRaw) {
  asRaw = asRaw == null ? false : asRaw;

  // Optimize to serialize for the situation where the data == size of buffer
  if(asRaw &amp;&amp; typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer) &amp;&amp; this.buffer.length == this.position)
    return this.buffer;

  // If it's a node.js buffer object
  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);
  } else {
    if(asRaw) {
      // we support the slice command use it
      if(this.buffer['slice'] != null) {
        return this.buffer.slice(0, this.position);
      } else {
        // Create a new buffer to copy content to
        var newBuffer = Object.prototype.toString.call(this.buffer) == '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this
.position)) : new Array(this.position);
        // Copy content
        for(var i = 0; i &lt; this.position; i++) {
          newBuffer[i] = this.buffer[i];
        }
        // Return the buffer
        return newBuffer;
      }
    } else {
      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.write" id="apidoc.element.mongolass.Binary.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary.prototype.write
        <span class="apidocSignatureSpan">(string, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(string, offset) {
  offset = typeof offset == 'number' ? offset : this.position;

  // If the buffer is to small let's extend the buffer
  if(this.buffer.length &lt; offset + string.length) {
    var buffer = null;
    // If we are in node.js
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      buffer = new Buffer(this.buffer.length + string.length);
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
    } else if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
      // Create a new buffer
      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length))
      // Copy the content
      for(var i = 0; i &lt; this.position; i++) {
        buffer[i] = this.buffer[i];
      }
    }

    // Assign the new buffer
    this.buffer = buffer;
  }

  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(string) &amp;&amp; Buffer.isBuffer(this.buffer)) {
    string.copy(this.buffer, offset, 0, string.length);
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length
  } else if(typeof Buffer != 'undefined' &amp;&amp; typeof string == 'string' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    this.buffer.write(string, offset, 'binary');
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length;
  } else if(Object.prototype.toString.call(string) == '[object Uint8Array]'
    || Object.prototype.toString.call(string) == '[object Array]' &amp;&amp; typeof string != 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string[i];
    }

    this.position = offset &gt; this.position ? offset : this.position;
  } else if(typeof string == 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string.charCodeAt(i);
    }

    this.position = offset &gt; this.position ? offset : this.position;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk" id="apidoc.element.mongolass.Chunk">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk
        <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk = function (file, mongoObject, writeConcern) {
  if(!(this instanceof Chunk)) return new Chunk(file, mongoObject);

  this.file = file;
  var mongoObjectFinal = mongoObject == null ? {} : mongoObject;
  this.writeConcern = writeConcern || {w:1};
  this.objectId = mongoObjectFinal._id == null ? new ObjectID() : mongoObjectFinal._id;
  this.chunkNumber = mongoObjectFinal.n == null ? 0 : mongoObjectFinal.n;
  this.data = new Binary();

  if(typeof mongoObjectFinal.data == "string") {
    var buffer = new Buffer(mongoObjectFinal.data.length);
    buffer.write(mongoObjectFinal.data, 0, mongoObjectFinal.data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(Array.isArray(mongoObjectFinal.data)) {
    buffer = new Buffer(mongoObjectFinal.data.length);
    var data = mongoObjectFinal.data.join('');
    buffer.write(data, 0, data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(mongoObjectFinal.data &amp;&amp; mongoObjectFinal.data._bsontype === 'Binary') {
    this.data = mongoObjectFinal.data;
  } else if(!Buffer.isBuffer(mongoObjectFinal.data) &amp;&amp; !(mongoObjectFinal.data == null)){
    throw Error("Illegal chunk format");
  }

  // Update position
  this.internalPosition = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject" id="apidoc.element.mongolass.Chunk.prototype.buildMongoObject">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.buildMongoObject
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.buildMongoObject = function (callback) {
  var mongoObject = {
    'files_id': this.file.fileId,
    'n': this.chunkNumber,
    'data': this.data};
  // If we are saving using a specific ObjectId
  if(this.objectId != null) mongoObject._id = this.objectId;

  callback(mongoObject);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.eof" id="apidoc.element.mongolass.Chunk.prototype.eof">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.eof = function () {
  return this.internalPosition == this.length() ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.getc" id="apidoc.element.mongolass.Chunk.prototype.getc">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.getc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.getc = function () {
  return this.read(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.length" id="apidoc.element.mongolass.Chunk.prototype.length">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.length
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.length = function () {
  return this.data.length();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.read" id="apidoc.element.mongolass.Chunk.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.read
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.read = function (length) {
  // Default to full read if no index defined
  length = length == null || length == 0 ? this.length() : length;

  if(this.length() - this.internalPosition + 1 &gt;= length) {
    var data = this.data.read(this.internalPosition, length);
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return '';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.readSlice" id="apidoc.element.mongolass.Chunk.prototype.readSlice">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.readSlice
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.readSlice = function (length) {
  if ((this.length() - this.internalPosition) &gt;= length) {
    var data = null;
    if (this.data.buffer != null) { //Pure BSON
      data = this.data.buffer.slice(this.internalPosition, this.internalPosition + length);
    } else { //Native BSON
      data = new Buffer(length);
      length = this.data.readInto(data, this.internalPosition);
    }
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.rewind" id="apidoc.element.mongolass.Chunk.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.rewind = function () {
  this.internalPosition = 0;
  this.data = new Binary();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.save" id="apidoc.element.mongolass.Chunk.prototype.save">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.save
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.save = function (options, callback) {
  var self = this;
  if(typeof options == 'function') {
    callback = options;
    options = {};
  }

  self.file.chunkCollection(function(err, collection) {
    if(err) return callback(err);

    // Merge the options
    var writeOptions = { upsert: true };
    for(var name in options) writeOptions[name] = options[name];
    for(name in self.writeConcern) writeOptions[name] = self.writeConcern[name];

    if(self.data.length() &gt; 0) {
      self.buildMongoObject(function(mongoObject) {
        var options = {forceServerObjectId:true};
        for(var name in self.writeConcern) {
          options[name] = self.writeConcern[name];
        }

        collection.replaceOne({'_id':self.objectId}, mongoObject, writeOptions, function(err) {
          callback(err, self);
        });
      });
    } else {
      callback(null, self);
    }
    // });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.write" id="apidoc.element.mongolass.Chunk.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk.prototype.write
        <span class="apidocSignatureSpan">(data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk.prototype.write = function (data, callback) {
  this.data.write(data, this.internalPosition, data.length, 'binary');
  this.internalPosition = this.data.length();
  if(callback != null) return callback(null, this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Code" id="apidoc.element.mongolass.Code">
        function <span class="apidocSignatureSpan">mongolass.</span>Code
        <span class="apidocSignatureSpan">(code, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Code(code, scope) {
  if(!(this instanceof Code)) return new Code(code, scope);
  this._bsontype = 'Code';
  this.code = code;
  this.scope = scope;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Code.prototype.toJSON" id="apidoc.element.mongolass.Code.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Code.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Code.prototype.toJSON = function () {
  return {scope:this.scope, code:this.code};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection" id="apidoc.element.mongolass.Collection">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection
        <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection = function (db, topology, dbName, name, pkFactory, options) {
  checkCollectionName(name);

  // Unpack variables
  var internalHint = null;
  var slaveOk = options == null || options.slaveOk == null ? db.slaveOk : options.slaveOk;
  var serializeFunctions = options == null || options.serializeFunctions == null ? db.s.options.serializeFunctions : options.serializeFunctions
;
  var raw = options == null || options.raw == null ? db.s.options.raw : options.raw;
  var promoteLongs = options == null || options.promoteLongs == null ? db.s.options.promoteLongs : options.promoteLongs;
  var promoteValues = options == null || options.promoteValues == null ? db.s.options.promoteValues : options.promoteValues;
  var promoteBuffers = options == null || options.promoteBuffers == null ? db.s.options.promoteBuffers : options.promoteBuffers;
  var readPreference = null;
  var collectionHint = null;
  var namespace = f("%s.%s", dbName, name);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Assign the right collection level readPreference
  if(options &amp;&amp; options.readPreference) {
    readPreference = options.readPreference;
  } else if(db.options.readPreference) {
    readPreference = db.options.readPreference;
  }

  // Set custom primary key factory if provided
  pkFactory = pkFactory == null
    ? ObjectID
    : pkFactory;

  // Internal state
  this.s = {
    // Set custom primary key factory if provided
      pkFactory: pkFactory
    // Db
    , db: db
    // Topology
    , topology: topology
    // dbName
    , dbName: dbName
    // Options
    , options: options
    // Namespace
    , namespace: namespace
    // Read preference
    , readPreference: readPreference
    // SlaveOK
    , slaveOk: slaveOk
    // Serialize functions
    , serializeFunctions: serializeFunctions
    // Raw
    , raw: raw
    // promoteLongs
    , promoteLongs: promoteLongs
    // promoteValues
    , promoteValues: promoteValues
    // promoteBuffers
    , promoteBuffers: promoteBuffers
    // internalHint
    , internalHint: internalHint
    // collectionHint
    , collectionHint: collectionHint
    // Name
    , name: name
    // Promise library
    , promiseLibrary: promiseLibrary
    // Read Concern
    , readConcern: options.readConcern
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.aggregate" id="apidoc.element.mongolass.Collection.prototype.aggregate">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.aggregate
        <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.aggregate = function (pipeline, options, callback) {
  var self = this;

  if(Array.isArray(pipeline)) {
    // Set up callback if one is provided
    if(typeof options == 'function') {
      callback = options;
      options = {};
    }

    // If we have no options or callback we are doing
    // a cursor based aggregation
    if(options == null &amp;&amp; callback == null) {
      options = {};
    }
  } else {
    // Aggregation pipeline passed as arguments on the method
    var args = Array.prototype.slice.call(arguments, 0);
    // Get the callback
    callback = args.pop();
    // Get the possible options object
    var opts = args[args.length - 1];
    // If it contains any of the admissible options pop it of the args
    options = opts &amp;&amp; (opts.readPreference
      || opts.explain || opts.cursor || opts.out
      || opts.maxTimeMS || opts.allowDiskUse) ? args.pop() : {};
      // Left over arguments is the pipeline
    pipeline = args;
  }

  // Ignore readConcern option
  var ignoreReadConcern = false;

  // Build the command
  var command = { aggregate : this.s.name, pipeline : pipeline};

  // If out was specified
  if(typeof options.out == 'string') {
    pipeline.push({$out: options.out});
    // Ignore read concern
    ignoreReadConcern = true;
  } else if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    ignoreReadConcern = true;
  }

  // Decorate command with writeConcern if out has been specified
  if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    decorateWithWriteConcern(command, self, options);
  }

  // Have we specified collation
  decorateWithCollation(command, self, options);

  // If we have bypassDocumentValidation set
  if(typeof options.bypassDocumentValidation == 'boolean') {
    command.bypassDocumentValidation = options.bypassDocumentValidation;
  }

  // Do we have a readConcern specified
  if(!ignoreReadConcern &amp;&amp; this.s.readConcern) {
    command.readConcern = this.s.readConcern;
  }

  // If we have allowDiskUse defined
  if(options.allowDiskUse) command.allowDiskUse = options.allowDiskUse;
  if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // If explain has been specified add it
  if(options.explain) command.explain = options.explain;

  // Validate that cursor options is valid
  if(options.cursor != null &amp;&amp; typeof options.cursor != 'object') {
    throw toError('cursor options must be an object');
  }

  // promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Set the AggregationCursor constructor
  options.cursorFactory = AggregationCursor;
  if(typeof callback != 'function') {
    if(!this.s.topology.capabilities()) {
      throw new MongoError('cannot connect to server');
    }

    if(this.s.topology.capabilities().hasAggregationCursor) {
      options.cursor = options.cursor || { batchSize : 1000 };
      command.cursor = options.cursor;
    }

    // Allow disk usage command
    if(typeof options.allowDiskUse == 'boolean') command.allowDiskUse = options.allowDiskUse;
    if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

    // Execute the cursor
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // We do not allow cursor
  if(options.cursor) {
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // Execute the command
  this.s.db.command(command, options, function(err, result) {
    if(err) {
      handleCallback(callback, err);
    } else if(result['err'] || result['errmsg']) {
      handleCallback(callback, toError(result));
    } else if(typeof result == 'object' &amp;&amp; result['serverPipeline']) {
      handleCallback(callback, null, result['serverPipeline']);
    } else if(typeof result == 'object' &amp;&amp; result['stages']) {
      handleCallback(callback, null, result['stages']);
    } else {
      handleCallback(callback, null, result.result);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.bulkWrite" id="apidoc.element.mongolass.Collection.prototype.bulkWrite">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.bulkWrite
        <span class="apidocSignatureSpan">(operations, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.bulkWrite = function (operations, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};

  if(!Array.isArray(operations)) {
    throw MongoError.create({message: "operations must be an array of documents", driver:true });
  }

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err &amp;&amp; r == null) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.count" id="apidoc.element.mongolass.Collection.prototype.count">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.count
        <span class="apidocSignatureSpan">(query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.count = function (query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, queryOption, optionsOption, callback);

  // Check if query is empty
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndex" id="apidoc.element.mongolass.Collection.prototype.createIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.createIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.createIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;

  // Execute using callback
  if(typeof callback == 'function') return createIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndexes" id="apidoc.element.mongolass.Collection.prototype.createIndexes">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.createIndexes
        <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.createIndexes = function (indexSpecs, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return createIndexes(self, indexSpecs, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndexes(self, indexSpecs, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteMany" id="apidoc.element.mongolass.Collection.prototype.deleteMany">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.deleteMany
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.deleteMany = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteMany(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteMany(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteOne" id="apidoc.element.mongolass.Collection.prototype.deleteOne">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.deleteOne
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.deleteOne = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteOne(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteOne(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.distinct" id="apidoc.element.mongolass.Collection.prototype.distinct">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.distinct
        <span class="apidocSignatureSpan">(key, query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.distinct = function (key, query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return distinct(self, key, queryOption, optionsOption, callback);

  // Ensure the query and options are set
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    distinct(self, key, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.drop" id="apidoc.element.mongolass.Collection.prototype.drop">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.drop
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.drop = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return self.s.db.dropCollection(self.s.name, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.dropCollection(self.s.name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndex" id="apidoc.element.mongolass.Collection.prototype.dropIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.dropIndex
        <span class="apidocSignatureSpan">(indexName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.dropIndex = function (indexName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  // Run only against primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return dropIndex(self, indexName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndex(self, indexName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndexes" id="apidoc.element.mongolass.Collection.prototype.dropIndexes">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.dropIndexes
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.dropIndexes = function (options, callback) {
  var self = this;

  // Do we have options
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return dropIndexes(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.ensureIndex" id="apidoc.element.mongolass.Collection.prototype.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.ensureIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.ensureIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return ensureIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.find" id="apidoc.element.mongolass.Collection.prototype.find">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.find
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.find = function () {
  var options
    , args = Array.prototype.slice.call(arguments, 0)
    , has_callback = typeof args[args.length - 1] === 'function'
    , has_weird_callback = typeof args[0] === 'function'
    , callback = has_callback ? args.pop() : (has_weird_callback ? args.shift() : null)
    , len = args.length
    , selector = len &gt;= 1 ? args[0] : {}
    , fields = len &gt;= 2 ? args[1] : undefined;

  if(len === 1 &amp;&amp; has_weird_callback) {
    // backwards compat for callback?, options case
    selector = {};
    options = args[0];
  }

  if(len === 2 &amp;&amp; fields !== undefined &amp;&amp; !Array.isArray(fields)) {
    var fieldKeys = Object.keys(fields);
    var is_option = false;

    for(var i = 0; i &lt; fieldKeys.length; i++) {
      if(testForFields[fieldKeys[i]] != null) {
        is_option = true;
        break;
      }
    }

    if(is_option) {
      options = fields;
      fields = undefined;
    } else {
      options = {};
    }
  } else if(len === 2 &amp;&amp; Array.isArray(fields) &amp;&amp; !Array.isArray(fields[0])) {
    var newFields = {};
    // Rewrite the array
    for(i = 0; i &lt; fields.length; i++) {
      newFields[fields[i]] = 1;
    }
    // Set the fields
    fields = newFields;
  }

  if(3 === len) {
    options = args[2];
  }

  // Ensure selector is not null
  selector = selector == null ? {} : selector;
  // Validate correctness off the selector
  var object = selector;
  if(Buffer.isBuffer(object)) {
    var object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      var error = new Error("query selector raw message size does not match message header size [" + object.length + "] != [" +
object_size + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Validate correctness of the field selector
  object = fields;
  if(Buffer.isBuffer(object)) {
    object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      error = new Error("query fields raw message size does not match message header size [" + object.length + "] != [" + object_size
 + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Check special case where we are using an objectId
  if(selector != null &amp;&amp; selector._bsontype == 'ObjectID') {
    selector = {_id:selector};
  }

  // If it's a serialized fields field we need to just let it through
  // user be warned it better be good
  if(options &amp;&amp; options.fields &amp;&amp; !(Buffer.isBuffer(options.fields))) {
    fields = {};

    if(Array.isArray(options.fields)) {
      if(!options.fields.length) {
        fields['_id'] = 1;
      } else {
        var l = options.fields.length;

        for (i = 0; i &lt; l; i++) {
          fields[options.fields[i]] = 1;
        }
      }
    } else {
      fields = options.fields;
    }
  }

  if (!options) options = {};

  var newOptions = {};
  // Make a shallow copy of options
  for (var key in options) {
    newOptions[key] = options[key];
  }

  // Unpack options
  newOptions.skip = len &gt; 3 ? args[2] : options.skip ? options.skip : 0;
  newOptions.limit = len &gt; 3 ? args[3] : options.limit ? options.limit : 0;
  newOptions.raw = options.raw != null &amp;&amp; typeof options.raw === 'boolean' ? options.raw : this.s.raw;
  newOptions.hint = options.hint != null ? normalizeHintField(options.hint) : this.s.collectionHint;
  newOptions.timeout = len == 5 ? args[4] : typeof options.timeout === 'undefined' ? undefined : options.timeout;
  // // If we have overridden slaveOk otherwise use the default db setting
  newOptions.slaveOk = options.slaveOk != null ? options.slaveOk : this.s.db.slaveOk;

  // Add read preference if needed
  newOptions = getReadPreference(this, newOptions, this.s.db, this);

  // Set slave ok to true if read preference different from primary
  if(newOptions.readPreference != null
    &amp;&amp; (newOptions.readPreference != 'primary' || newOptions.readPreference.mode != 'primary')) {
    newOptions.slaveOk = true;
  }

  // Ensure the query is an object
  if(selector != null &amp;&amp; typeof selector != 'object') { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndModify" id="apidoc.element.mongolass.Collection.prototype.findAndModify">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findAndModify
        <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findAndModify = function (query, sort, doc, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  doc = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Clone options
  options = shallowClone(options);
  // Force read preference primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return findAndModify(self, query, sort, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findAndModify(self, query, sort, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndRemove" id="apidoc.element.mongolass.Collection.prototype.findAndRemove">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findAndRemove
        <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findAndRemove = function (query, sort, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return findAndRemove(self, query, sort, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findAndRemove(self, query, sort, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOne" id="apidoc.element.mongolass.Collection.prototype.findOne">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOne
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findOne = function () {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  var callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return findOne(self, args, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findOne(self, args, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete" id="apidoc.element.mongolass.Collection.prototype.findOneAndDelete">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndDelete
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findOneAndDelete = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndDelete(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndDelete(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace" id="apidoc.element.mongolass.Collection.prototype.findOneAndReplace">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndReplace
        <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findOneAndReplace = function (filter, replacement, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(replacement == null || typeof replacement != 'object') throw toError('replacement parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndReplace(self, filter, replacement, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndReplace(self, filter, replacement, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate" id="apidoc.element.mongolass.Collection.prototype.findOneAndUpdate">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.findOneAndUpdate
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.findOneAndUpdate = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(update == null || typeof update != 'object') throw toError('update parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndUpdate(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndUpdate(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch" id="apidoc.element.mongolass.Collection.prototype.geoHaystackSearch">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.geoHaystackSearch
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.geoHaystackSearch = function (x, y, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoHaystackSearch(self, x, y, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoHaystackSearch(self, x, y, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoNear" id="apidoc.element.mongolass.Collection.prototype.geoNear">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.geoNear
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.geoNear = function (x, y, options, callback) {
  var self = this;
  var point = typeof(x) == 'object' &amp;&amp; x
    , args = Array.prototype.slice.call(arguments, point?1:2);

  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoNear(self, x, y, point, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoNear(self, x, y, point, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.group" id="apidoc.element.mongolass.Collection.prototype.group">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.group
        <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.group = function (keys, condition, initial, reduce, finalize, command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 3);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  reduce = args.length ? args.shift() : null;
  finalize = args.length ? args.shift() : null;
  command = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Make sure we are backward compatible
  if(!(typeof finalize == 'function')) {
    command = finalize;
    finalize = null;
  }

  if (!Array.isArray(keys) &amp;&amp; keys instanceof Object &amp;&amp; typeof(keys) !== 'function' &amp;&amp; !(keys._bsontype == 'Code')) {
    keys = Object.keys(keys);
  }

  if(typeof reduce === 'function') {
    reduce = reduce.toString();
  }

  if(typeof finalize === 'function') {
    finalize = finalize.toString();
  }

  // Set up the command as default
  command = command == null ? true : command;

  // Execute using callback
  if(typeof callback == 'function') return group(self, keys, condition, initial, reduce, finalize, command, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    group(self, keys, condition, initial, reduce, finalize, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexExists" id="apidoc.element.mongolass.Collection.prototype.indexExists">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexExists
        <span class="apidocSignatureSpan">(indexes, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.indexExists = function (indexes, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return indexExists(self, indexes, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexExists(self, indexes, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexInformation" id="apidoc.element.mongolass.Collection.prototype.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexInformation
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.indexInformation = function (options, callback) {
  var self = this;
  // Unpack calls
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return indexInformation(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexes" id="apidoc.element.mongolass.Collection.prototype.indexes">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.indexes
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.indexes = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return indexes(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.initializeOrderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.initializeOrderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return ordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.initializeUnorderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.initializeUnorderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return unordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insert" id="apidoc.element.mongolass.Collection.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insert
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.insert = function (docs, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:false};
  docs = !Array.isArray(docs) ? [docs] : docs;

  if(options.keepGoing == true) {
    options.ordered = false;
  }

  return this.insertMany(docs, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertMany" id="apidoc.element.mongolass.Collection.prototype.insertMany">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insertMany
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.insertMany = function (docs, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};
  if(!Array.isArray(docs) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
  } else if(!Array.isArray(docs)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
    });
  }

  // Get the write concern options
  if(typeof options.checkKeys != 'boolean') {
    options.checkKeys = true;
  }

  // If keep going set unordered
  options['serializeFunctions'] = options['serializeFunctions'] || self.s.serializeFunctions;

  // Set up the force server object id
  var forceServerObjectId = typeof options.forceServerObjectId == 'boolean'
    ? options.forceServerObjectId : self.s.db.options.forceServerObjectId;

  // Do we want to force the server to assign the _id key
  if(forceServerObjectId !== true) {
    // Add _id if not specified
    for(var i = 0; i &lt; docs.length; i++) {
      if(docs[i]._id == null) docs[i]._id = self.s.pkFactory.createPk();
    }
  }

  // Generate the bulk write operations
  var operations = [{
    insertMany: docs
  }];

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, function(err, r) {
    if(err) return callback(err, r);
    callback(null, mapInserManyResults(docs, r));
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err) return reject(err);
      resolve(mapInserManyResults(docs, r));
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertOne" id="apidoc.element.mongolass.Collection.prototype.insertOne">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.insertOne
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.insertOne = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  if(Array.isArray(doc) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'doc parameter must be an object', driver:true }));
  } else if(Array.isArray(doc)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'doc parameter must be an object', driver:true }));
    });
  }

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return insertOne(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    insertOne(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.isCapped" id="apidoc.element.mongolass.Collection.prototype.isCapped">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.isCapped
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.isCapped = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return isCapped(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    isCapped(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.listIndexes" id="apidoc.element.mongolass.Collection.prototype.listIndexes">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.listIndexes
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.listIndexes = function (options) {
  options = options || {};
  // Clone the options
  options = shallowClone(options);
  // Determine the read preference in the options.
  options = getReadPreference(this, options, this.s.db, this);
  // Set the CommandCursor constructor
  options.cursorFactory = CommandCursor;
  // Set the promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  if(!this.s.topology.capabilities()) {
    throw new MongoError('cannot connect to server');
  }

  // We have a list collections command
  if(this.s.topology.capabilities().hasListIndexesCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listIndexes: this.s.name, cursor: cursor };
    // Execute the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.dbName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) cursor.setReadPreference(options.readPreference);
    // Return the cursor
    return cursor;
  }

  // Get the namespace
  var ns = f('%s.system.indexes', this.s.dbName);
  // Get the query
  cursor = this.s.topology.cursor(ns, {find: ns, query: {ns: this.s.namespace}}, options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // Return the cursor
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.mapReduce" id="apidoc.element.mongolass.Collection.prototype.mapReduce">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.mapReduce
        <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.mapReduce = function (map, reduce, options, callback) {
  var self = this;
  if('function' === typeof options) callback = options, options = {};
  // Out must allways be defined (make sure we don't break weirdly on pre 1.8+ servers)
  if(null == options.out) {
    throw new Error("the out option parameter must be defined, see mongodb docs for possible values");
  }

  if('function' === typeof map) {
    map = map.toString();
  }

  if('function' === typeof reduce) {
    reduce = reduce.toString();
  }

  if('function' === typeof options.finalize) {
    options.finalize = options.finalize.toString();
  }

  // Execute using callback
  if(typeof callback == 'function') return mapReduce(self, map, reduce, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    mapReduce(self, map, reduce, options, function(err, r, r1) {
      if(err) return reject(err);
      if(!r1) return resolve(r);
      resolve({results: r, stats: r1});
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.options" id="apidoc.element.mongolass.Collection.prototype.options">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.options
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.options = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return options(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan" id="apidoc.element.mongolass.Collection.prototype.parallelCollectionScan">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.parallelCollectionScan
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.parallelCollectionScan = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {numCursors: 1};
  // Set number of cursors to 1
  options.numCursors = options.numCursors || 1;
  options.batchSize = options.batchSize || 1000;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // Add a promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Execute using callback
  if(typeof callback == 'function') return parallelCollectionScan(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    parallelCollectionScan(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.reIndex" id="apidoc.element.mongolass.Collection.prototype.reIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.reIndex
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.reIndex = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return reIndex(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    reIndex(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.remove" id="apidoc.element.mongolass.Collection.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.remove
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.remove = function (selector, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return removeDocuments(self, selector, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeDocuments(self, selector, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.rename" id="apidoc.element.mongolass.Collection.prototype.rename">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.rename
        <span class="apidocSignatureSpan">(newName, opt, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.rename = function (newName, opt, callback) {
  var self = this;
  if(typeof opt == 'function') callback = opt, opt = {};
  opt = assign({}, opt, {readPreference: ReadPreference.PRIMARY});

  // Execute using callback
  if(typeof callback == 'function') return rename(self, newName, opt, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    rename(self, newName, opt, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.replaceOne" id="apidoc.element.mongolass.Collection.prototype.replaceOne">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.replaceOne
        <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.replaceOne = function (filter, doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return replaceOne(self, filter, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replaceOne(self, filter, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.save" id="apidoc.element.mongolass.Collection.prototype.save">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.save
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.save = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return save(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    save(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.stats" id="apidoc.element.mongolass.Collection.prototype.stats">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.stats = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return stats(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    stats(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.update" id="apidoc.element.mongolass.Collection.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.update
        <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.update = function (selector, document, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateDocuments(self, selector, document, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateDocuments(self, selector, document, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateMany" id="apidoc.element.mongolass.Collection.prototype.updateMany">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.updateMany
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.updateMany = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateMany(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateMany(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateOne" id="apidoc.element.mongolass.Collection.prototype.updateOne">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection.prototype.updateOne
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection.prototype.updateOne = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateOne(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateOne(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection" id="apidoc.element.mongolass.CoreConnection">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection
        <span class="apidocSignatureSpan">(messageHandler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection = function (messageHandler, options) {
  // Add event listener
  EventEmitter.call(this);
  // Set empty if no options passed
  this.options = options || {};
  // Identification information
  this.id = _id++;
  // Logger instance
  this.logger = Logger('Connection', options);
  // No bson parser passed in
  if(!options.bson) throw new Error("must pass in valid bson parser");
  // Get bson parser
  this.bson = options.bson;
  // Grouping tag used for debugging purposes
  this.tag = options.tag;
  // Message handler
  this.messageHandler = messageHandler;

  // Max BSON message size
  this.maxBsonMessageSize = options.maxBsonMessageSize || (1024 * 1024 * 16 * 4);
  // Debug information
  if(this.logger.isDebug()) this.logger.debug(f('creating connection %s with options [%s]', this.id, JSON.stringify(debugOptions
(debugFields, options))));

  // Default options
  this.port = options.port || 27017;
  this.host = options.host || 'localhost';
  this.keepAlive = typeof options.keepAlive == 'boolean' ? options.keepAlive : true;
  this.keepAliveInitialDelay = options.keepAliveInitialDelay || 0;
  this.noDelay = typeof options.noDelay == 'boolean' ? options.noDelay : true;
  this.connectionTimeout = options.connectionTimeout || 0;
  this.socketTimeout = options.socketTimeout || 0;

  // If connection was destroyed
  this.destroyed = false;

  // Check if we have a domain socket
  this.domainSocket = this.host.indexOf('\/') != -1;

  // Serialize commands using function
  this.singleBufferSerializtion = typeof options.singleBufferSerializtion == 'boolean' ? options.singleBufferSerializtion : true
;
  this.serializationFunction = this.singleBufferSerializtion ? 'toBinUnified' : 'toBin';

  // SSL options
  this.ca = options.ca || null;
  this.crl = options.crl || null;
  this.cert = options.cert || null;
  this.key = options.key || null;
  this.passphrase = options.passphrase || null;
  this.ssl = typeof options.ssl == 'boolean' ? options.ssl : false;
  this.rejectUnauthorized = typeof options.rejectUnauthorized == 'boolean' ? options.rejectUnauthorized : true;
  this.checkServerIdentity = typeof options.checkServerIdentity == 'boolean'
    || typeof options.checkServerIdentity == 'function' ? options.checkServerIdentity : true;

  // If ssl not enabled
  if(!this.ssl) this.rejectUnauthorized = false;

  // Response options
  this.responseOptions = {
    promoteLongs: typeof options.promoteLongs == 'boolean' ?  options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers: false
  }

  // Flushing
  this.flushing = false;
  this.queue = [];

  // Internal state
  this.connection = null;
  this.writeStream = null;

  // Create hash method
  var hash = crypto.createHash('sha1');
  hash.update(f('%s:%s', this.host, this.port));

  // Create a hash name
  this.hashedName = hash.digest('hex');

  // All operations in flight on the connection
  this.workItems = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.connections" id="apidoc.element.mongolass.CoreConnection.connections">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.connections = function () {
  return connections;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.disableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.disableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.disableConnectionAccounting = function () {
  connectionAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.enableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.enableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.enableConnectionAccounting = function () {
  connectionAccounting = true;
  connections = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.connect" id="apidoc.element.mongolass.CoreConnection.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.connect
        <span class="apidocSignatureSpan">(_options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.connect = function (_options) {
  var self = this;
  _options = _options || {};
  // Set the connections
  if(connectionAccounting) addConnection(this.id, this);
  // Check if we are overriding the promoteLongs
  if(typeof _options.promoteLongs == 'boolean') {
    self.responseOptions.promoteLongs = _options.promoteLongs;
    self.responseOptions.promoteValues = _options.promoteValues;
    self.responseOptions.promoteBuffers = _options.promoteBuffers;
  }

  // Create new connection instance
  self.connection = self.domainSocket
    ? net.createConnection(self.host)
    : net.createConnection(self.port, self.host);

  // Set the options for the connection
  self.connection.setKeepAlive(self.keepAlive, self.keepAliveInitialDelay);
  self.connection.setTimeout(self.connectionTimeout);
  self.connection.setNoDelay(self.noDelay);

  // If we have ssl enabled
  if(self.ssl) {
    var sslOptions = {
        socket: self.connection
      , rejectUnauthorized: self.rejectUnauthorized
    }

    // Merge in options
    merge(sslOptions, this.options);
    merge(sslOptions, _options);

    // Set options for ssl
    if(self.ca) sslOptions.ca = self.ca;
    if(self.crl) sslOptions.crl = self.crl;
    if(self.cert) sslOptions.cert = self.cert;
    if(self.key) sslOptions.key = self.key;
    if(self.passphrase) sslOptions.passphrase = self.passphrase;

    // Override checkServerIdentity behavior
    if(self.checkServerIdentity == false) {
      // Skip the identiy check by retuning undefined as per node documents
      // https://nodejs.org/api/tls.html#tls_tls_connect_options_callback
      sslOptions.checkServerIdentity = function() {
        return undefined;
      }
    } else if(typeof self.checkServerIdentity == 'function') {
      sslOptions.checkServerIdentity = self.checkServerIdentity;
    }

    // Set default sni servername to be the same as host
    if(sslOptions.servername == null) {
      sslOptions.servername = self.host;
    }

    // Attempt SSL connection
    self.connection = tls.connect(self.port, self.host, sslOptions, function() {
      // Error on auth or skip
      if(self.connection.authorizationError &amp;&amp; self.rejectUnauthorized) {
        return self.emit("error", self.connection.authorizationError, self, {ssl:true});
      }

      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // We are done emit connect
      self.emit('connect', self);
    });
    self.connection.setTimeout(self.connectionTimeout);
  } else {
    self.connection.on('connect', function() {
      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // Emit connect event
      self.emit('connect', self);
    });
  }

  // Add handlers for events
  self.connection.once('error', errorHandler(self));
  self.connection.once('timeout', timeoutHandler(self));
  self.connection.once('close', closeHandler(self));
  self.connection.on('data', dataHandler(self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.destroy" id="apidoc.element.mongolass.CoreConnection.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.destroy = function () {
  // Set the connections
  if(connectionAccounting) deleteConnection(this.id);
  if(this.connection) {
    this.connection.end();
    this.connection.destroy();
  }

  this.destroyed = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected" id="apidoc.element.mongolass.CoreConnection.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.isConnected = function () {
  if(this.destroyed) return false;
  return !this.connection.destroyed &amp;&amp; this.connection.writable;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.resetSocketTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.resetSocketTimeout = function () {
  if(this.connection) {
    this.connection.setTimeout(this.socketTimeout);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.setSocketTimeout
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.setSocketTimeout = function (value) {
  if(this.connection) {
    this.connection.setTimeout(value);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON" id="apidoc.element.mongolass.CoreConnection.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.toJSON = function () {
  return {id: this.id, host: this.host, port: this.port};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toString" id="apidoc.element.mongolass.CoreConnection.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.toString = function () {
  return "" + this.id;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.unref" id="apidoc.element.mongolass.CoreConnection.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.unref = function () {
  if (this.connection) this.connection.unref();
  else {
    var self = this;
    this.once('connect', function() {
      self.connection.unref();
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.write" id="apidoc.element.mongolass.CoreConnection.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection.prototype.write
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection.prototype.write = function (buffer) {
  var i;
  // Debug Log
  if(this.logger.isDebug()) {
    if(!Array.isArray(buffer)) {
      this.logger.debug(f('writing buffer [%s] to %s:%s', buffer.toString('hex'), this.host, this.port));
    } else {
      for(i = 0; i &lt; buffer.length; i++)
        this.logger.debug(f('writing buffer [%s] to %s:%s', buffer[i].toString('hex'), this.host, this.port));
    }
  }

  // Write out the command
  if(!Array.isArray(buffer)) return this.connection.write(buffer, 'binary');
  // Iterate over all buffers and write them in order to the socket
  for(i = 0; i &lt; buffer.length; i++) this.connection.write(buffer[i], 'binary');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer" id="apidoc.element.mongolass.CoreServer">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer = function (options) {
  options = options || {};

  // Add event listener
  EventEmitter.call(this);

  // Server instance id
  this.id = id++;

  // Internal state
  this.s = {
    // Options
    options: options,
    // Logger
    logger: Logger('Server', options),
    // Factory overrides
    Cursor: options.cursorFactory || BasicCursor,
    // BSON instance
    bson: options.bson || new BSON([BSON.Binary, BSON.Code, BSON.DBRef, BSON.Decimal128,
      BSON.Double, BSON.Int32, BSON.Long, BSON.Map, BSON.MaxKey, BSON.MinKey,
      BSON.ObjectId, BSON.BSONRegExp, BSON.Symbol, BSON.Timestamp]),
    // Pool
    pool: null,
    // Disconnect handler
    disconnectHandler: options.disconnectHandler,
    // Monitor thread (keeps the connection alive)
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : true,
    // Is the server in a topology
    inTopology: typeof options.inTopology == 'boolean' ? options.inTopology : false,
    // Monitoring timeout
    monitoringInterval: typeof options.monitoringInterval == 'number'
      ? options.monitoringInterval
      : 5000,
    // Topology id
    topologyId: -1
  }

  // Curent ismaster
  this.ismaster = null;
  // Current ping time
  this.lastIsMasterMS = -1;
  // The monitoringProcessId
  this.monitoringProcessId = null;
  // Initial connection
  this.initalConnect = true;
  // Wire protocol handler, default to oldest known protocol handler
  // this gets changed when the first ismaster is called.
  this.wireProtocolHandler = new PreTwoSixWireProtocolSupport();
  // Default type
  this._type = 'server';
  // Set the client info
  this.clientInfo = createClientInfo(options);

  // Max Stalleness values
  // last time we updated the ismaster state
  this.lastUpdateTime = 0;
  // Last write time
  this.lastWriteDate = 0;
  // Stalleness
  this.staleness = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.disableServerAccounting" id="apidoc.element.mongolass.CoreServer.disableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.disableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.disableServerAccounting = function () {
  serverAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.enableServerAccounting" id="apidoc.element.mongolass.CoreServer.enableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.enableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.enableServerAccounting = function () {
  serverAccounting = true;
  servers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.auth" id="apidoc.element.mongolass.CoreServer.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.auth
        <span class="apidocSignatureSpan">(mechanism, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.auth = function (mechanism, db) {
  var self = this;

  // If we have the default mechanism we pick mechanism based on the wire
  // protocol max version. If it's &gt;= 3 then scram-sha1 otherwise mongodb-cr
  if(mechanism == 'default' &amp;&amp; self.ismaster &amp;&amp; self.ismaster.maxWireVersion &gt;= 3) {
    mechanism = 'scram-sha-1';
  } else if(mechanism == 'default') {
    mechanism = 'mongocr';
  }

  // Slice all the arguments off
  var args = Array.prototype.slice.call(arguments, 0);
  // Set the mechanism
  args[0] = mechanism;
  // Get the callback
  var callback = args[args.length - 1];

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'auth', db, args, {}, callback)) {
    return;
  }

  // Do not authenticate if we are an arbiter
  if(this.lastIsMaster() &amp;&amp; this.lastIsMaster().arbiterOnly) {
    return callback(null, true);
  }

  // Apply the arguments to the pool
  self.s.pool.auth.apply(self.s.pool, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.command" id="apidoc.element.mongolass.CoreServer.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.command = function (ns, cmd, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicReadValidations(self, options);
  if(result) return callback(result);

  // Debug log
  if(self.s.logger.isDebug()) self.s.logger.debug(f('executing command [%s] against %s', JSON.stringify({
    ns: ns, cmd: cmd, options: debugOptions(debugFields, options)
  }), self.name));

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'command', ns, cmd, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; cmd.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Query options
  var queryOptions = {
    numberToSkip: 0,
    numberToReturn: -1,
    checkKeys: typeof options.checkKeys == 'boolean' ? options.checkKeys: false,
    serializeFunctions: typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false,
    ignoreUndefined: typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false
  };

  // Are we executing against a specific topology
  var topology = options.topology || {};
  // Create the query object
  var query = self.wireProtocolHandler.command(self.s.bson, ns, cmd, {}, topology, options);
  // Set slave OK of the query
  query.slaveOk = options.readPreference ? options.readPreference.slaveOk() : false;

  // Write options
  var writeOptions = {
    raw: typeof options.raw == 'boolean' ? options.raw : false,
    promoteLongs: typeof options.promoteLongs == 'boolean' ? options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers : false,
    command: true,
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : false,
    fullResult: typeof options.fullResult == 'boolean' ? options.fullResult : false,
    requestId: query.requestId,
    socketTimeout: typeof options.socketTimeout == 'number' ? options.socketTimeout : null,
  };

  // Write the operation to the pool
  self.s.pool.write(query, writeOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connect" id="apidoc.element.mongolass.CoreServer.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.connect
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.connect = function (options) {
  var self = this;
  options = options || {};

  // Set the connections
  if(serverAccounting) servers[this.id] = this;

  // Do not allow connect to be called on anything that's not disconnected
  if(self.s.pool &amp;&amp; !self.s.pool.isDisconnected() &amp;&amp; !self.s.pool.isDestroyed()) {
    throw MongoError.create(f('server instance in invalid state %s', self.s.state));
  }

  // Create a pool
  self.s.pool = new Pool(assign(self.s.options, options, {bson: this.s.bson}));

  // Set up listeners
  self.s.pool.on('close', eventHandler(self, 'close'));
  self.s.pool.on('error', eventHandler(self, 'error'));
  self.s.pool.on('timeout', eventHandler(self, 'timeout'));
  self.s.pool.on('parseError', eventHandler(self, 'parseError'));
  self.s.pool.on('connect', eventHandler(self, 'connect'));
  self.s.pool.on('reconnect', eventHandler(self, 'reconnect'));
  self.s.pool.on('reconnectFailed', eventHandler(self, 'reconnectFailed'));

  // Emit toplogy opening event if not in topology
  if(!self.s.inTopology) {
    this.emit('topologyOpening', { topologyId: self.id });
  }

  // Emit opening server event
  self.emit('serverOpening', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id,
    address: self.name
  });

  // Connect with optional auth settings
  if(options.auth) {
    self.s.pool.connect.apply(self.s.pool, options.auth);
  } else {
    self.s.pool.connect();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connections" id="apidoc.element.mongolass.CoreServer.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.connections = function () {
  return this.s.pool.allConnections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.cursor" id="apidoc.element.mongolass.CoreServer.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.cursor
        <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.cursor = function (ns, cmd, cursorOptions) {
  var s = this.s;
  cursorOptions = cursorOptions || {};
  // Set up final cursor type
  var FinalCursor = cursorOptions.cursorFactory || s.Cursor;
  // Return the cursor
  return new FinalCursor(s.bson, ns, cmd, cursorOptions, this, s.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.destroy" id="apidoc.element.mongolass.CoreServer.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.destroy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.destroy = function (options) {
  options = options || {};
  var self = this;

  // Set the connections
  if(serverAccounting) delete servers[this.id];

  // Destroy the monitoring process if any
  if(this.monitoringProcessId) {
    clearTimeout(this.monitoringProcessId);
  }

  // No pool, return
  if(!self.s.pool) return;

  // Emit close event
  if(options.emitClose) {
    self.emit('close', self);
  }

  // Emit destroy event
  if(options.emitDestroy) {
    self.emit('destroy', self);
  }

  // Remove all listeners
  listeners.forEach(function(event) {
    self.s.pool.removeAllListeners(event);
  });

  // Emit opening server event
  if(self.listeners('serverClosed').length &gt; 0) self.emit('serverClosed', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id, address: self.name
  });

  // Emit toplogy opening event if not in topology
  if(self.listeners('topologyClosed').length &gt; 0 &amp;&amp; !self.s.inTopology) {
    self.emit('topologyClosed', { topologyId: self.id });
  }

  if(self.s.logger.isDebug()) {
    self.s.logger.debug(f('destroy called on server %s', self.name));
  }

  // Destroy the pool
  this.s.pool.destroy(options.force);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.equals" id="apidoc.element.mongolass.CoreServer.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.equals
        <span class="apidocSignatureSpan">(server)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.equals = function (server) {
  if(typeof server == 'string') return this.name.toLowerCase() == server.toLowerCase();
  if(server.name) return this.name.toLowerCase() == server.name.toLowerCase();
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getConnection" id="apidoc.element.mongolass.CoreServer.prototype.getConnection">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.getConnection = function () {
  return this.s.pool.get();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getDescription" id="apidoc.element.mongolass.CoreServer.prototype.getDescription">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getDescription
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.getDescription = function () {
  var ismaster = this.ismaster || {};
  var description = {
    type: sdam.getTopologyType(this),
    address: this.name,
  };

  // Add fields if available
  if(ismaster.hosts) description.hosts = ismaster.hosts;
  if(ismaster.arbiters) description.arbiters = ismaster.arbiters;
  if(ismaster.passives) description.passives = ismaster.passives;
  if(ismaster.setName) description.setName = ismaster.setName;
  return description;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getServer" id="apidoc.element.mongolass.CoreServer.prototype.getServer">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.getServer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.getServer = function () {
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.insert" id="apidoc.element.mongolass.CoreServer.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.insert = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'insert', ns, ops, options, callback)) return;

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];

  // Execute write
  return self.wireProtocolHandler.insert(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isConnected" id="apidoc.element.mongolass.CoreServer.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.isConnected = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed" id="apidoc.element.mongolass.CoreServer.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.isDestroyed = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster" id="apidoc.element.mongolass.CoreServer.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.lastIsMaster = function () {
  return this.ismaster;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.logout" id="apidoc.element.mongolass.CoreServer.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.logout
        <span class="apidocSignatureSpan">(dbName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.logout = function (dbName, callback) {
  this.s.pool.logout(dbName, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.remove" id="apidoc.element.mongolass.CoreServer.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.remove = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'remove', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.remove(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.unref" id="apidoc.element.mongolass.CoreServer.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.unref = function () {
  this.s.pool.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.update" id="apidoc.element.mongolass.CoreServer.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.prototype.update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.prototype.update = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'update', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.update(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.servers" id="apidoc.element.mongolass.CoreServer.servers">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer.servers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer.servers = function () {
  return servers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor" id="apidoc.element.mongolass.Cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor
        <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor = function (bson, ns, cmd, options, topology, topologyOptions) {
  CoreCursor.apply(this, Array.prototype.slice.call(arguments, 0));
  var self = this;
  var state = Cursor.INIT;
  var streamOptions = {};

  // Tailable cursor options
  var numberOfRetries = options.numberOfRetries || 5;
  var tailableRetryInterval = options.tailableRetryInterval || 500;
  var currentNumberOfRetries = numberOfRetries;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set up
  Readable.call(this, {objectMode: true});

  // Internal cursor state
  this.s = {
    // Tailable cursor options
      numberOfRetries: numberOfRetries
    , tailableRetryInterval: tailableRetryInterval
    , currentNumberOfRetries: currentNumberOfRetries
    // State
    , state: state
    // Stream options
    , streamOptions: streamOptions
    // BSON
    , bson: bson
    // Namespace
    , ns: ns
    // Command
    , cmd: cmd
    // Options
    , options: options
    // Topology
    , topology: topology
    // Topology options
    , topologyOptions: topologyOptions
    // Promise library
    , promiseLibrary: promiseLibrary
    // Current doc
    , currentDoc: null
  }

  // Translate correctly
  if(self.s.options.noCursorTimeout == true) {
    self.addCursorFlag('noCursorTimeout', true);
  }

  // Set the sort value
  this.sortValue = self.s.cmd.sort;

  // Get the batchSize
  var batchSize = cmd.cursor &amp;&amp; cmd.cursor.batchSize
    ? cmd.cursor &amp;&amp; cmd.cursor.batchSize
    : (options.cursor &amp;&amp; options.cursor.batchSize ? options.cursor.batchSize : 1000);

  // Set the batchSize
  this.setCursorBatchSize(batchSize);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._find" id="apidoc.element.mongolass.Cursor.prototype._find">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._find
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype._find = function (callback) {
  var self = this;

  if(self.logger.isDebug()) {
    self.logger.debug(f('issue initial query [%s] with flags [%s]'
      , JSON.stringify(self.cmd)
      , JSON.stringify(self.query)));
  }

  var queryCallback = function(err, r) {
    if(err) return callback(err);

    // Get the raw message
    var result = r.message;

    // Query failure bit set
    if(result.queryFailure) {
      return callback(MongoError.create(result.documents[0]), null);
    }

    // Check if we have a command cursor
    if(Array.isArray(result.documents) &amp;&amp; result.documents.length == 1
      &amp;&amp; (!self.cmd.find || (self.cmd.find &amp;&amp; self.cmd.virtual == false))
      &amp;&amp; (result.documents[0].cursor != 'string'
        || result.documents[0]['$err']
        || result.documents[0]['errmsg']
        || Array.isArray(result.documents[0].result))
      ) {

      // We have a an error document return the error
      if(result.documents[0]['$err']
        || result.documents[0]['errmsg']) {
        return callback(MongoError.create(result.documents[0]), null);
      }

      // We have a cursor document
      if(result.documents[0].cursor != null
        &amp;&amp; typeof result.documents[0].cursor != 'string') {
          var id = result.documents[0].cursor.id;
          // If we have a namespace change set the new namespace for getmores
          if(result.documents[0].cursor.ns) {
            self.ns = result.documents[0].cursor.ns;
          }
          // Promote id to long if needed
          self.cursorState.cursorId = typeof id == 'number' ? Long.fromNumber(id) : id;
          self.cursorState.lastCursorId = self.cursorState.cursorId;
          // If we have a firstBatch set it
          if(Array.isArray(result.documents[0].cursor.firstBatch)) {
            self.cursorState.documents = result.documents[0].cursor.firstBatch;//.reverse();
          }

          // Return after processing command cursor
          return callback(null, null);
      }

      if(Array.isArray(result.documents[0].result)) {
        self.cursorState.documents = result.documents[0].result;
        self.cursorState.cursorId = Long.ZERO;
        return callback(null, null);
      }
    }

    // Otherwise fall back to regular find path
    self.cursorState.cursorId = result.cursorId;
    self.cursorState.documents = result.documents;
    self.cursorState.lastCursorId = result.cursorId;

    // Transform the results with passed in transformation method if provided
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.query == 'function') {
      self.cursorState.documents = self.cursorState.transforms.query(result);
    }

    // Return callback
    callback(null, null);
  }

  // Options passed to the pool
  var queryOptions = {};

  // If we have a raw query decorate the function
  if(self.options.raw || self.cmd.raw) {
    // queryCallback.raw = self.options.raw || self.cmd.raw;
    queryOptions.raw = self.options.raw || self.cmd.raw;
  }

  // Do we have documentsReturnedIn set on the query
  if(typeof self.query.documentsReturnedIn == 'string') {
    // queryCallback.documentsReturnedIn = self.query.documentsReturnedIn;
    queryOptions.documentsReturnedIn = self.query.documentsReturnedIn;
  }

  // Add promote Long value if defined
  if(typeof self.cursorState.promoteLongs == 'boolean') {
    queryOptions.promoteLongs = self.cursorState.promoteLongs;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteValues == 'boolean') {
    queryOptions.promoteValues = self.cursorState.promoteValues;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteBuffers == 'boolean') {
    queryOptions.promoteBuffers = self.cursorState.promoteBuffers;
  }
  // Write the initial command out
  self.server.s.pool.write(self.query, queryOptions, queryCallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._getmore" id="apidoc.element.mongolass.Cursor.prototype._getmore">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._getmore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype._getmore = function (callback) {
  if(this.logger.isDebug()) this.logger.debug(f('schedule getMore call for query [%s]', JSON.stringify(this.query)))
  // Determine if it's a raw query
  var raw = this.options.raw || this.cmd.raw;

  // Set the current batchSize
  var batchSize = this.cursorState.batchSize;
  if(this.cursorState.limit &gt; 0
    &amp;&amp; ((this.cursorState.currentLimit + batchSize) &gt; this.cursorState.limit)) {
    batchSize = this.cursorState.limit - this.cursorState.currentLimit;
  }

  // Default pool
  var pool = this.server.s.pool;

  // We have a wire protocol handler
  this.server.wireProtocolHandler.getMore(this.bson, this.ns, this.cursorState, batchSize, raw, pool, this.options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._killcursor" id="apidoc.element.mongolass.Cursor.prototype._killcursor">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._killcursor
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype._killcursor = function (callback) {
  // Set cursor to dead
  this.cursorState.dead = true;
  this.cursorState.killed = true;
  // Remove documents
  this.cursorState.documents = [];

  // If no cursor id just return
  if(this.cursorState.cursorId == null || this.cursorState.cursorId.isZero() || this.cursorState.init == false) {
    if(callback) callback(null, null);
    return;
  }

  // Default pool
  var pool = this.server.s.pool;
  // Execute command
  this.server.wireProtocolHandler.killCursor(this.bson, this.ns, this.cursorState.cursorId, pool, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._next" id="apidoc.element.mongolass.Cursor.prototype._next">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype._next = function (callback) {
  nextFunction(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._read" id="apidoc.element.mongolass.Cursor.prototype._read">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype._read
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype._read = function () {
  var self = this;
  if(self.s.state == Cursor.CLOSED || self.isDead()) {
    return self.push(null);
  }

  // Get the next item
  self.nextObject(function(err, result) {
    if(err) {
      if(self.listeners('error') &amp;&amp; self.listeners('error').length &gt; 0) {
        self.emit('error', err);
      }
      if(!self.isDead()) self.close();

      // Emit end event
      self.emit('end');
      return self.emit('finish');
    }

    // If we provided a transformation method
    if(typeof self.s.streamOptions.transform == 'function' &amp;&amp; result != null) {
      return self.push(self.s.streamOptions.transform(result));
    }

    // If we provided a map function
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.doc == 'function' &amp;&amp; result != null) {
      return self.push(self.cursorState.transforms.doc(result));
    }

    // Return the result
    self.push(result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag" id="apidoc.element.mongolass.Cursor.prototype.addCursorFlag">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.addCursorFlag
        <span class="apidocSignatureSpan">(flag, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.addCursorFlag = function (flag, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(flags.indexOf(flag) == -1) throw MongoError.create({message: f("flag %s not a supported flag %s", flag, flags), driver:true
 });
  if(typeof value != 'boolean') throw MongoError.create({message: f("flag %s must be a boolean value", flag), driver:true});
  this.s.cmd[flag] = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier" id="apidoc.element.mongolass.Cursor.prototype.addQueryModifier">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.addQueryModifier
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.addQueryModifier = function (name, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(name[0] != '$') throw MongoError.create({message: f("%s is not a valid query modifier"), driver:true});
  // Strip of the $
  var field = name.substr(1);
  // Set on the command
  this.s.cmd[field] = value;
  // Deal with the special case for sort
  if(field == 'orderby') this.s.cmd.sort = this.s.cmd[field];
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.batchSize" id="apidoc.element.mongolass.Cursor.prototype.batchSize">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.batchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.batchSize = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support batchSize", driver:true});
  if(this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "batchSize requires an integer", driver:true});
  this.s.cmd.batchSize = value;
  this.setCursorBatchSize(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount" id="apidoc.element.mongolass.Cursor.prototype.bufferedCount">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.bufferedCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.bufferedCount = function () {
  return this.cursorState.documents.length - this.cursorState.cursorIndex;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.clone" id="apidoc.element.mongolass.Cursor.prototype.clone">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.clone = function () {
  return this.topology.cursor(this.ns, this.cmd, this.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.close" id="apidoc.element.mongolass.Cursor.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.close = function (callback) {
  this.s.state = Cursor.CLOSED;
  // Kill the cursor
  this.kill();
  // Emit the close event for the cursor
  this.emit('close');
  // Callback if provided
  if(typeof callback == 'function') return handleCallback(callback, null, this);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.collation" id="apidoc.element.mongolass.Cursor.prototype.collation">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.collation
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.collation = function (value) {
  this.s.cmd.collation = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.comment" id="apidoc.element.mongolass.Cursor.prototype.comment">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.comment
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.comment = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.comment = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.count" id="apidoc.element.mongolass.Cursor.prototype.count">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.count
        <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.count = function (applySkipLimit, opts, callback) {
  var self = this;
  if(self.s.cmd.query == null) throw MongoError.create({message: "count can only be used with find command", driver:true});
  if(typeof opts == 'function') callback = opts, opts = {};
  opts = opts || {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, applySkipLimit, opts, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, applySkipLimit, opts, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.cursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorBatchSize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.cursorBatchSize = function () {
  return this.cursorState.batchSize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit" id="apidoc.element.mongolass.Cursor.prototype.cursorLimit">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorLimit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.cursorLimit = function () {
  return this.cursorState.limit;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip" id="apidoc.element.mongolass.Cursor.prototype.cursorSkip">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.cursorSkip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.cursorSkip = function () {
  return this.cursorState.skip;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.destroy" id="apidoc.element.mongolass.Cursor.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.destroy
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.destroy = function (err) {
  if(err) this.emit('error', err);
  this.pause();
  this.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.each" id="apidoc.element.mongolass.Cursor.prototype.each">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.each = function (callback) {
  // Rewind cursor state
  this.rewind();
  // Set current cursor to INIT
  this.s.state = Cursor.INIT;
  // Run the query
  _each(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.explain" id="apidoc.element.mongolass.Cursor.prototype.explain">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.explain
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.explain = function (callback) {
  var self = this;
  this.s.cmd.explain = true;

  // Do we have a readConcern
  if(this.s.cmd.readConcern) {
    delete this.s.cmd['readConcern'];
  }

  // Execute using callback
  if(typeof callback == 'function') return this._next(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self._next(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.filter" id="apidoc.element.mongolass.Cursor.prototype.filter">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.filter
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.filter = function (filter) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.query = filter;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.forEach" id="apidoc.element.mongolass.Cursor.prototype.forEach">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.forEach
        <span class="apidocSignatureSpan">(iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.forEach = function (iterator, callback) {
  this.each(function(err, doc){
    if(err) { callback(err); return false; }
    if(doc != null) { iterator(doc); return true; }
    if(doc == null &amp;&amp; callback) {
      var internalCallback = callback;
      callback = null;
      internalCallback(null);
      return false;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hasNext" id="apidoc.element.mongolass.Cursor.prototype.hasNext">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.hasNext
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.hasNext = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    if(self.s.currentDoc){
      return callback(null, true);
    } else {
      return nextObject(self, function(err, doc) {
        if(!doc) return callback(null, false);
        self.s.currentDoc = doc;
        callback(null, true);
      });
    }
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    if(self.s.currentDoc){
      resolve(true);
    } else {
      nextObject(self, function(err, doc) {
        if(self.s.state == Cursor.CLOSED || self.isDead()) return resolve(false);
        if(err) return reject(err);
        if(!doc) return resolve(false);
        self.s.currentDoc = doc;
        resolve(true);
      });
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hint" id="apidoc.element.mongolass.Cursor.prototype.hint">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.hint
        <span class="apidocSignatureSpan">(hint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.hint = function (hint) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.hint = hint;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isClosed" id="apidoc.element.mongolass.Cursor.prototype.isClosed">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isClosed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.isClosed = function () {
  return this.isDead();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isDead" id="apidoc.element.mongolass.Cursor.prototype.isDead">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isDead
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.isDead = function () {
  return this.cursorState.dead == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isKilled" id="apidoc.element.mongolass.Cursor.prototype.isKilled">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isKilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.isKilled = function () {
  return this.cursorState.killed == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isNotified" id="apidoc.element.mongolass.Cursor.prototype.isNotified">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.isNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.isNotified = function () {
  return this.cursorState.notified == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.kill" id="apidoc.element.mongolass.Cursor.prototype.kill">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.kill
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.kill = function (callback) {
  this._killcursor(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.limit" id="apidoc.element.mongolass.Cursor.prototype.limit">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.limit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.limit = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support limit", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "limit requires an integer", driver:true});
  this.s.cmd.limit = value;
  // this.cursorLimit = value;
  this.setCursorLimit(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.map" id="apidoc.element.mongolass.Cursor.prototype.map">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.map
        <span class="apidocSignatureSpan">(transform)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.map = function (transform) {
  this.cursorState.transforms = { doc: transform };
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.max" id="apidoc.element.mongolass.Cursor.prototype.max">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.max
        <span class="apidocSignatureSpan">(max)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.max = function (max) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.max = max;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxAwaitTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.maxAwaitTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxAwaitTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxAwaitTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxScan" id="apidoc.element.mongolass.Cursor.prototype.maxScan">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxScan
        <span class="apidocSignatureSpan">(maxScan)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.maxScan = function (maxScan) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxScan = maxScan;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxTimeMS">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.maxTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.maxTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.min" id="apidoc.element.mongolass.Cursor.prototype.min">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.min
        <span class="apidocSignatureSpan">(min)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.min = function (min) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.min = min;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.next" id="apidoc.element.mongolass.Cursor.prototype.next">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.next = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return callback(null, doc);
    }

    // Return the next object
    return nextObject(self, callback)
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return resolve(doc);
    }

    nextObject(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.project" id="apidoc.element.mongolass.Cursor.prototype.project">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.project
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.project = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.fields = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments" id="apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.readBufferedDocuments
        <span class="apidocSignatureSpan">(number)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.readBufferedDocuments = function (number) {
  var unreadDocumentsLength = this.cursorState.documents.length - this.cursorState.cursorIndex;
  var length = number &lt; unreadDocumentsLength ? number : unreadDocumentsLength;
  var elements = this.cursorState.documents.slice(this.cursorState.cursorIndex, this.cursorState.cursorIndex + length);

  // Transform the doc with passed in transformation method if provided
  if(this.cursorState.transforms &amp;&amp; typeof this.cursorState.transforms.doc == 'function') {
    // Transform all the elements
    for(var i = 0; i &lt; elements.length; i++) {
      elements[i] = this.cursorState.transforms.doc(elements[i]);
    }
  }

  // Ensure we do not return any more documents than the limit imposed
  // Just return the number of elements up to the limit
  if(this.cursorState.limit &gt; 0 &amp;&amp; (this.cursorState.currentLimit + elements.length) &gt; this.cursorState.limit) {
    elements = elements.slice(0, (this.cursorState.limit - this.cursorState.currentLimit));
    this.kill();
  }

  // Adjust current limit
  this.cursorState.currentLimit = this.cursorState.currentLimit + elements.length;
  this.cursorState.cursorIndex = this.cursorState.cursorIndex + elements.length;

  // Return elements
  return elements;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.returnKey" id="apidoc.element.mongolass.Cursor.prototype.returnKey">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.returnKey
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.returnKey = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.returnKey = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.rewind" id="apidoc.element.mongolass.Cursor.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.rewind = function () {
  if(this.cursorState.init) {
    if(!this.cursorState.dead) {
      this.kill();
    }

    this.cursorState.currentLimit = 0;
    this.cursorState.init = false;
    this.cursorState.dead = false;
    this.cursorState.killed = false;
    this.cursorState.notified = false;
    this.cursorState.documents = [];
    this.cursorState.cursorId = null;
    this.cursorState.cursorIndex = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorBatchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.setCursorBatchSize = function (value) {
  this.cursorState.batchSize = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit" id="apidoc.element.mongolass.Cursor.prototype.setCursorLimit">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorLimit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.setCursorLimit = function (value) {
  this.cursorState.limit = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption" id="apidoc.element.mongolass.Cursor.prototype.setCursorOption">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorOption
        <span class="apidocSignatureSpan">(field, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.setCursorOption = function (field, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(fields.indexOf(field) == -1) throw MongoError.create({message: f("option %s not a supported option %s", field, fields), driver
:true });
  this.s[field] = value;
  if(field == 'numberOfRetries')
    this.s.currentNumberOfRetries = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip" id="apidoc.element.mongolass.Cursor.prototype.setCursorSkip">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setCursorSkip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.setCursorSkip = function (value) {
  this.cursorState.skip = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference" id="apidoc.element.mongolass.Cursor.prototype.setReadPreference">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.setReadPreference
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.setReadPreference = function (r) {
  if(this.s.state != Cursor.INIT) throw MongoError.create({message: 'cannot change cursor readPreference after cursor has been accessed
', driver:true});
  if(r instanceof ReadPreference) {
    this.s.options.readPreference = new CoreReadPreference(r.mode, r.tags, {maxStalenessSeconds: r.maxStalenessSeconds});
  } else if(typeof r == 'string'){
    this.s.options.readPreference = new CoreReadPreference(r);
  } else if(r instanceof CoreReadPreference) {
    this.s.options.readPreference = r;
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.showRecordId" id="apidoc.element.mongolass.Cursor.prototype.showRecordId">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.showRecordId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.showRecordId = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.showDiskLoc = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.skip" id="apidoc.element.mongolass.Cursor.prototype.skip">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.skip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.skip = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support skip", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "skip requires an integer", driver:true});
  this.s.cmd.skip = value;
  this.setCursorSkip(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.snapshot" id="apidoc.element.mongolass.Cursor.prototype.snapshot">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.snapshot
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.snapshot = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.snapshot = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.sort" id="apidoc.element.mongolass.Cursor.prototype.sort">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.sort
        <span class="apidocSignatureSpan">(keyOrList, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.sort = function (keyOrList, direction) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support sorting", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  var order = keyOrList;

  // We have an array of arrays, we need to preserve the order of the sort
  // so we will us a Map
  if(Array.isArray(order) &amp;&amp; Array.isArray(order[0])) {
    order = new Map(order.map(function(x) {
      var value = [x[0], null];
      if(x[1] == 'asc') {
        value[1] = 1;
      } else if(x[1] == 'desc') {
        value[1] = -1;
      } else if(x[1] == 1 || x[1] == -1) {
        value[1] = x[1];
      } else {
        throw new MongoError("Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending
|descending)']]");
      }

      return value;
    }));
  }

  if(direction != null) {
    order = [[keyOrList, direction]];
  }

  this.s.cmd.sort = order;
  this.sortValue = order;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.stream" id="apidoc.element.mongolass.Cursor.prototype.stream">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.stream = function (options) {
  this.s.streamOptions = options || {};
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.toArray" id="apidoc.element.mongolass.Cursor.prototype.toArray">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor.prototype.toArray
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor.prototype.toArray = function (callback) {
  var self = this;
  if(self.s.options.tailable) throw MongoError.create({message: 'Tailable cursor cannot be converted to array', driver:true});

  // Execute using callback
  if(typeof callback == 'function') return toArray(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    toArray(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.DBRef" id="apidoc.element.mongolass.DBRef">
        function <span class="apidocSignatureSpan">mongolass.</span>DBRef
        <span class="apidocSignatureSpan">(namespace, oid, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DBRef(namespace, oid, db) {
  if(!(this instanceof DBRef)) return new DBRef(namespace, oid, db);

  this._bsontype = 'DBRef';
  this.namespace = namespace;
  this.oid = oid;
  this.db = db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.DBRef.prototype.toJSON" id="apidoc.element.mongolass.DBRef.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>DBRef.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DBRef.prototype.toJSON = function () {
  return {
    '$ref':this.namespace,
    '$id':this.oid,
    '$db':this.db == null ? '' : this.db
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db" id="apidoc.element.mongolass.Db">
        function <span class="apidocSignatureSpan">mongolass.</span>Db
        <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db = function (databaseName, topology, options) {
  options = options || {};
  if(!(this instanceof Db)) return new Db(databaseName, topology, options);
  EventEmitter.call(this);
  var self = this;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure we put the promiseLib in the options
  options.promiseLibrary = promiseLibrary;

  // var self = this;  // Internal state of the db object
  this.s = {
    // Database name
      databaseName: databaseName
    // DbCache
    , dbCache: {}
    // Children db's
    , children: []
    // Topology
    , topology: topology
    // Options
    , options: options
    // Logger instance
    , logger: Logger('Db', options)
    // Get the bson parser
    , bson: topology ? topology.bson : null
    // Authsource if any
    , authSource: options.authSource
    // Unpack read preference
    , readPreference: options.readPreference
    // Set buffermaxEntries
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : -1
    // Parent db (if chained)
    , parentDb: options.parentDb || null
    // Set up the primary key factory or fallback to ObjectID
    , pkFactory: options.pkFactory || ObjectID
    // Get native parser
    , nativeParser: options.nativeParser || options.native_parser
    // Promise library
    , promiseLibrary: promiseLibrary
    // No listener
    , noListener: typeof options.noListener == 'boolean' ? options.noListener : false
    // ReadConcern
    , readConcern: options.readConcern
  }

  // Ensure we have a valid db name
  validateDatabaseName(self.s.databaseName);

  // Add a read Only property
  getSingleProperty(this, 'serverConfig', self.s.topology);
  getSingleProperty(this, 'bufferMaxEntries', self.s.bufferMaxEntries);
  getSingleProperty(this, 'databaseName', self.s.databaseName);

  // This is a child db, do not register any listeners
  if(options.parentDb) return;
  if(this.s.noListener) return;

  // Add listeners
  topology.on('error', createListener(self, 'error', self));
  topology.on('timeout', createListener(self, 'timeout', self));
  topology.on('close', createListener(self, 'close', self));
  topology.on('parseError', createListener(self, 'parseError', self));
  topology.once('open', createListener(self, 'open', self));
  topology.once('fullsetup', createListener(self, 'fullsetup', self));
  topology.once('all', createListener(self, 'all', self));
  topology.on('reconnect', createListener(self, 'reconnect', self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addChild" id="apidoc.element.mongolass.Db.prototype.addChild">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.addChild
        <span class="apidocSignatureSpan">(db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.addChild = function (db) {
  if(this.s.parentDb) return this.s.parentDb.addChild(db);
  this.s.children.push(db);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addUser" id="apidoc.element.mongolass.Db.prototype.addUser">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.addUser = function (username, password, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return addUser(self, username, password, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    addUser(self, username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.admin" id="apidoc.element.mongolass.Db.prototype.admin">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.admin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.admin = function () {
  return new Admin(this, this.s.topology, this.s.promiseLibrary);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.authenticate" id="apidoc.element.mongolass.Db.prototype.authenticate">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.authenticate = function (username, password, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  var self = this;
  // Shallow copy the options
  options = shallowClone(options);

  // Set default mechanism
  if(!options.authMechanism) {
    options.authMechanism = 'DEFAULT';
  } else if(options.authMechanism != 'GSSAPI'
    &amp;&amp; options.authMechanism != 'DEFAULT'
    &amp;&amp; options.authMechanism != 'MONGODB-CR'
    &amp;&amp; options.authMechanism != 'MONGODB-X509'
    &amp;&amp; options.authMechanism != 'SCRAM-SHA-1'
    &amp;&amp; options.authMechanism != 'PLAIN') {
      return handleCallback(callback, MongoError.create({message: "only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB
-CR is supported by authMechanism", driver:true}));
  }

  // If we have a callback fallback
  if(typeof callback == 'function') return authenticate(self, username, password, options, function(err, r) {
    // Support failed auth method
    if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
    // Reject error
    if(err) return callback(err, r);
    callback(null, r);
  });

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    authenticate(self, username, password, options, function(err, r) {
      // Support failed auth method
      if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
      // Reject error
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.close" id="apidoc.element.mongolass.Db.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.close
        <span class="apidocSignatureSpan">(force, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.close = function (force, callback) {
  if(typeof force == 'function') callback = force, force = false;
  this.s.topology.close(force);
  var self = this;

  // Fire close event if any listeners
  if(this.listeners('close').length &gt; 0) {
    this.emit('close');

    // If it's the top level db emit close on all children
    if(this.parentDb == null) {
      // Fire close on all children
      for(var i = 0; i &lt; this.s.children.length; i++) {
        this.s.children[i].emit('close');
      }
    }

    // Remove listeners after emit
    self.removeAllListeners('close');
  }

  // Close parent db if set
  if(this.s.parentDb) this.s.parentDb.close();
  // Callback after next event loop tick
  if(typeof callback == 'function') return process.nextTick(function() {
    handleCallback(callback, null);
  })

  // Return dummy promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collection" id="apidoc.element.mongolass.Db.prototype.collection">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.collection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.collection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // If we have not set a collection level readConcern set the db level one
  options.readConcern = options.readConcern || this.s.readConcern;

  // Do we have ignoreUndefined set
  if(this.s.options.ignoreUndefined) {
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute
  if(options == null || !options.strict) {
    try {
      var collection = new Collection(this, this.s.topology, this.s.databaseName, name, this.s.pkFactory, options);
      if(callback) callback(null, collection);
      return collection;
    } catch(err) {
      if(callback) return callback(err);
      throw err;
    }
  }

  // Strict mode
  if(typeof callback != 'function') {
    throw toError(f("A callback is required in strict mode. While getting collection %s.", name));
  }

  // Did the user destroy the topology
  if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) {
    return callback(new MongoError('topology was destroyed'));
  }

  // Strict mode
  this.listCollections({name:name}).toArray(function(err, collections) {
    if(err != null) return handleCallback(callback, err, null);
    if(collections.length == 0) return handleCallback(callback, toError(f("Collection %s does not exist. Currently in strict mode
.", name)), null);

    try {
      return handleCallback(callback, null, new Collection(self, self.s.topology, self.s.databaseName, name, self.s.pkFactory, options
));
    } catch(err) {
      return handleCallback(callback, err, null);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collections" id="apidoc.element.mongolass.Db.prototype.collections">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.collections
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.collections = function (callback) {
  var self = this;

  // Return the callback
  if(typeof callback == 'function') return collections(self, callback);
  // Return the promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    collections(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.command" id="apidoc.element.mongolass.Db.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.command = function (command, options, callback) {
  var self = this;
  // Change the callback
  if(typeof options == 'function') callback = options, options = {};
  // Clone the options
  options = shallowClone(options);

  // Do we have a callback
  if(typeof callback == 'function') return executeCommand(self, command, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    executeCommand(self, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createCollection" id="apidoc.element.mongolass.Db.prototype.createCollection">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.createCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.createCollection = function (name, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  name = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Do we have a promisesLibrary
  options.promiseLibrary = options.promiseLibrary || this.s.promiseLibrary;

  // Check if the callback is in fact a string
  if(typeof callback == 'string') name = callback;

  // Execute the fallback callback
  if(typeof callback == 'function') return createCollection(self, name, options, callback);
  return new this.s.promiseLibrary(function(resolve, reject) {
    createCollection(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createIndex" id="apidoc.element.mongolass.Db.prototype.createIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.createIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.createIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;
  // Shallow clone the options
  options = shallowClone(options);

  // If we have a callback fallback
  if(typeof callback == 'function') return createIndex(self, name, fieldOrSpec, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.db" id="apidoc.element.mongolass.Db.prototype.db">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.db
        <span class="apidocSignatureSpan">(dbName, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.db = function (dbName, options) {
  options = options || {};

  // Copy the options and add out internal override of the not shared flag
  var finalOptions = assign({}, this.options, options);

  // Do we have the db in the cache already
  if(this.s.dbCache[dbName] &amp;&amp; finalOptions.returnNonCachedInstance !== true) {
    return this.s.dbCache[dbName];
  }

  // Add current db as parentDb
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    finalOptions.parentDb = this;
  }

  // Add promiseLibrary
  finalOptions.promiseLibrary = this.s.promiseLibrary;

  // Return the db object
  var db = new Db(dbName, this.s.topology, finalOptions)

  // Add as child
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    this.addChild(db);
  }

  // Add the db to the cache
  this.s.dbCache[dbName] = db;
  // Return the database
  return db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropCollection" id="apidoc.element.mongolass.Db.prototype.dropCollection">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.dropCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.dropCollection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Command to execute
  var cmd = {'drop':name}

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // options
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(err) return handleCallback(callback, err);
    if(result.ok) return handleCallback(callback, null, true);
    handleCallback(callback, null, false);
  });

  // Clone the options
  options = shallowClone(self.s.options);
  // Set readPreference PRIMARY
  options.readPreference = ReadPreference.PRIMARY;

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropDatabase" id="apidoc.element.mongolass.Db.prototype.dropDatabase">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.dropDatabase
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.dropDatabase = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Drop database command
  var cmd = {'dropDatabase':1};

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // Ensure primary only
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(callback == null) return;
    if(err) return handleCallback(callback, err, null);
    handleCallback(callback, null, result.ok ? true : false);
  });

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.ensureIndex" id="apidoc.element.mongolass.Db.prototype.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.ensureIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.ensureIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return ensureIndex(self, name, fieldOrSpec, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.eval" id="apidoc.element.mongolass.Db.prototype.eval">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.eval
        <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.eval = function (code, parameters, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  parameters = args.length ? args.shift() : parameters;
  options = args.length ? args.shift() || {} : {};

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return evaluate(self, code, parameters, options, callback);
  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    evaluate(self, code, parameters, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand" id="apidoc.element.mongolass.Db.prototype.executeDbAdminCommand">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.executeDbAdminCommand
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.executeDbAdminCommand = function (selector, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Return the callback
  if(typeof callback == 'function') {
    // Convert read preference
    if(options.readPreference) {
      options.readPreference = convertReadPreference(options.readPreference)
    }

    return self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
      if(err) return handleCallback(callback, err);
      handleCallback(callback, null, result.result);
    });
  }

  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      resolve(result.result);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.indexInformation" id="apidoc.element.mongolass.Db.prototype.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.indexInformation
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.indexInformation = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return indexInformation(self, name, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.listCollections" id="apidoc.element.mongolass.Db.prototype.listCollections">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.listCollections
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.listCollections = function (filter, options) {
  filter = filter || {};
  options = options || {};

  // Shallow clone the object
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // Ensure valid readPreference
  if(options.readPreference) {
    options.readPreference = convertReadPreference(options.readPreference);
  }

  // We have a list collections command
  if(this.serverConfig.capabilities().hasListCollectionsCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listCollections : true, filter: filter, cursor: cursor };
    // Set the AggregationCursor constructor
    options.cursorFactory = CommandCursor;
    // Create the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.databaseName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) {
      cursor.setReadPreference(options.readPreference);
    }
    // Return the cursor
    return cursor;
  }

  // We cannot use the listCollectionsCommand
  if(!this.serverConfig.capabilities().hasListCollectionsCommand) {
    // If we have legacy mode and have not provided a full db name filter it
    if(typeof filter.name == 'string' &amp;&amp; !(new RegExp('^' + this.databaseName + '\\.').test(filter.name))) {
      filter = shallowClone(filter);
      filter.name = f('%s.%s', this.s.databaseName, filter.name);
    }
  }

  // No filter, filter by current database
  if(filter == null) {
    filter.name = f('/%s/', this.s.databaseName);
  }

  // Rewrite the filter to use $and to filter out indexes
  if(filter.name) {
    filter = {$and: [{name: filter.name}, {name:/^((?!\$).)*$/}]};
  } else {
    filter = {name:/^((?!\$).)*$/};
  }

  // Return options
  var _options = {transforms: listCollectionsTranforms(this.s.databaseName)}
  // Get the cursor
  cursor = this.collection(Db.SYSTEM_NAMESPACE_COLLECTION).find(filter, _options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // We have a fallback mode using legacy systems collections
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.logout" id="apidoc.element.mongolass.Db.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.logout
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.logout = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Establish the correct database name
  var dbName = this.s.authSource ? this.s.authSource : this.s.databaseName;
  dbName = options.dbName ? options.dbName : dbName;

  // If we have a callback
  if(typeof callback == 'function') {
    return self.s.topology.logout(dbName, function(err) {
      if(err) return callback(err);
      callback(null, true);
    });
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.logout(dbName, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.open" id="apidoc.element.mongolass.Db.prototype.open">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.open = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    open(self, function(err, db) {
      if(err) return reject(err);
      resolve(db);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.removeUser" id="apidoc.element.mongolass.Db.prototype.removeUser">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.removeUser = function (username, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return removeUser(self, username, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeUser(self, username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.renameCollection" id="apidoc.element.mongolass.Db.prototype.renameCollection">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.renameCollection
        <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.renameCollection = function (fromCollection, toCollection, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Add return new collection
  options.new_collection = true;

  // Check if the callback is in fact a string
  if(typeof callback == 'function') {
    return this.collection(fromCollection).rename(toCollection, options, callback);
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.collection(fromCollection).rename(toCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.stats" id="apidoc.element.mongolass.Db.prototype.stats">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.stats = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Build command object
  var commandObject = { dbStats:true };
  // Check if we have the scale value
  if(options['scale'] != null) commandObject['scale'] = options['scale'];

  // If we have a readPreference set
  if(options.readPreference == null &amp;&amp; this.s.readPreference) {
    options.readPreference = this.s.readPreference;
  }

  // Execute the command
  return this.command(commandObject, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.unref" id="apidoc.element.mongolass.Db.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>Db.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db.prototype.unref = function () {
  this.s.topology.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128" id="apidoc.element.mongolass.Decimal128">
        function <span class="apidocSignatureSpan">mongolass.</span>Decimal128
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128 = function (bytes) {
  this._bsontype = 'Decimal128';
  this.bytes = bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.fromString" id="apidoc.element.mongolass.Decimal128.fromString">
        function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.fromString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128.fromString = function (string) {
  // Parse state tracking
  var isNegative = false;
  var sawRadix = false;
  var foundNonZero = false;

  // Total number of significant digits (no leading or trailing zero)
  var significantDigits = 0;
  // Total number of significand digits read
  var nDigitsRead = 0;
  // Total number of digits (no leading zeros)
  var nDigits = 0;
  // The number of the digits after radix
  var radixPosition = 0;
  // The index of the first non-zero in *str*
  var firstNonZero = 0;

  // Digits Array
  var digits = [0];
  // The number of digits in digits
  var nDigitsStored = 0;
  // Insertion pointer for digits
  var digitsInsert = 0;
  // The index of the first non-zero digit
  var firstDigit = 0;
  // The index of the last digit
  var lastDigit = 0;

  // Exponent
  var exponent = 0;
  // loop index over array
  var i = 0;
  // The high 17 digits of the significand
  var significandHigh = [0, 0];
  // The low 17 digits of the significand
  var significandLow = [0, 0];
  // The biased exponent
  var biasedExponent = 0;

  // Read index
  var index = 0;

  // Trim the string
  string = string.trim();

  // Results
  var stringMatch = string.match(PARSE_STRING_REGEXP);
  var infMatch = string.match(PARSE_INF_REGEXP);
  var nanMatch = string.match(PARSE_NAN_REGEXP);

  // Validate the string
  if(!stringMatch
    &amp;&amp; ! infMatch
    &amp;&amp; ! nanMatch || string.length == 0) {
      throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Check if we have an illegal exponent format
  if(stringMatch &amp;&amp; stringMatch[4] &amp;&amp; stringMatch[2] === undefined) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Get the negative or positive sign
  if(string[index] == '+' || string[index] == '-') {
    isNegative = string[index++] == '-';
  }

  // Check if user passed Infinity or NaN
  if(!isDigit(string[index]) &amp;&amp; string[index] != '.') {
    if(string[index] == 'i' || string[index] == 'I') {
      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));
    } else if(string[index] == 'N') {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }
  }

  // Read all the digits
  while(isDigit(string[index]) || string[index] == '.') {
    if(string[index] == '.') {
      if(sawRadix) {
        return new Decimal128(new Buffer(NAN_BUFFER));
      }

      sawRadix = true;
      index = index + 1;
      continue;
    }

    if(nDigitsStored &lt; 34) {
      if(string[index] != '0' || foundNonZero) {
        if(!foundNonZero) {
          firstNonZero = nDigitsRead;
        }

        foundNonZero = true;

        // Only store 34 digits
        digits[digitsInsert++] = parseInt(string[index], 10);
        nDigitsStored = nDigitsStored + 1;
      }
    }

    if(foundNonZero) {
      nDigits = nDigits + 1;
    }

    if(sawRadix) {
      radixPosition = radixPosition + 1;
    }

    nDigitsRead = nDigitsRead + 1;
    index = index + 1;
  }

  if(sawRadix &amp;&amp; !nDigitsRead) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Read exponent if exists
  if(string[index] == 'e' || string[index] == 'E') {
    // Read exponent digits
    var match = string.substr(++index).match(EXPONENT_REGEX);

    // No digits read
    if(!match || !match[2]) {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }

    // Get exponent
    exponent = parseInt(match[0], 10);

    // Adjust the index
    index = index + match[0].length;
  }

  // Return not a number
  if(string[index]) {
    return new Decimal128(new Buffer(NAN_BUFFER));
  }

  // Done reading input
  // Find first non-zero digit in digits
  firstDigit = 0;

  if(!nDigitsStored) {
    firstDigit = 0;
    lastDigit = 0;
    digits[0] = 0;
    nDigits = 1;
    nDigitsStored = 1;
    significantDigits = 0;
  } else {
    lastDigit = nDigitsStored - 1;
    significantDigits = nDigits;

    if(exponent != 0 &amp;&amp; significantDigits != 1) {
      while(string[firstNonZero + significantDigits - 1] == '0') {
        significantDigits = significantDigits - 1;
      }
    }
  }

  // Normalization of ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toJSON" id="apidoc.element.mongolass.Decimal128.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128.prototype.toJSON = function () {
  return { "$numberDecimal": this.toString() };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toString" id="apidoc.element.mongolass.Decimal128.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>Decimal128.prototype.toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128.prototype.toString = function () {
  // Note: bits in this routine are referred to starting at 0,
  // from the sign bit, towards the coefficient.

  // bits 0 - 31
  var high;
  // bits 32 - 63
  var midh;
  // bits 64 - 95
  var midl;
  // bits 96 - 127
  var low;
  // bits 1 - 5
  var combination;
  // decoded biased exponent (14 bits)
  var biased_exponent;
  // the number of significand digits
  var significand_digits = 0;
  // the base-10 digits in the significand
  var significand = new Array(36);
  for(var i = 0; i &lt; significand.length; i++) significand[i] = 0;
  // read pointer into significand
  var index = 0;

  // unbiased exponent
  var exponent;
  // the exponent if scientific notation is used
  var scientific_exponent;

  // true if the number is zero
  var is_zero = false;

  // the most signifcant significand bits (50-46)
  var significand_msb;
  // temporary storage for significand decoding
  var significand128 = {parts: new Array(4)};
  // indexing variables
  var i;
  var j, k;

  // Output string
  var string = [];

  // Unpack index
  var index = 0;

  // Buffer reference
  var buffer = this.bytes;

  // Unpack the low 64bits into a long
  low = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;
  midl = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;

  // Unpack the high 64bits into a long
  midh = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;
  high = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;

  // Unpack index
  var index = 0;

  // Create the state of the decimal
  var dec = {
    low: new Long(low, midl),
    high: new Long(midh, high) };

  if(dec.high.lessThan(Long.ZERO)) {
    string.push('-');
  }

  // Decode combination field and exponent
  combination = (high &gt;&gt; 26) &amp; COMBINATION_MASK;

  if((combination &gt;&gt; 3) == 3) {
    // Check for 'special' values
    if(combination == COMBINATION_INFINITY) {
      return string.join('') + "Infinity";
    } else if(combination == COMBINATION_NAN) {
      return "NaN";
    } else {
      biased_exponent = (high &gt;&gt; 15) &amp; EXPONENT_MASK;
      significand_msb = 0x08 + ((high &gt;&gt; 14) &amp; 0x01);
    }
  } else {
    significand_msb = (high &gt;&gt; 14) &amp; 0x07;
    biased_exponent = (high &gt;&gt; 17) &amp; EXPONENT_MASK;
  }

  exponent = biased_exponent - EXPONENT_BIAS;

  // Create string of significand digits

  // Convert the 114-bit binary number represented by
  // (significand_high, significand_low) to at most 34 decimal
  // digits through modulo and division.
  significand128.parts[0] = (high &amp; 0x3fff) + ((significand_msb &amp; 0xf) &lt;&lt; 14);
  significand128.parts[1] = midh;
  significand128.parts[2] = midl;
  significand128.parts[3] = low;

  if(significand128.parts[0] == 0 &amp;&amp; significand128.parts[1] == 0
    &amp;&amp; significand128.parts[2] == 0 &amp;&amp; significand128.parts[3] == 0) {
      is_zero = true;
  } else {
    for(var k = 3; k &gt;= 0; k--) {
      var least_digits = 0;
      // Peform the divide
      var result = divideu128(significand128);
      significand128 = result.quotient;
      least_digits = result.rem.low_;

      // We now have the 9 least significant digits (in base 2).
      // Convert and output to string.
      if(!least_digits) continue;

      for(var j = 8; j &gt;= 0; j--) {
        // significand[k * 9 + j] = Math.round(least_digits % 10);
        significand[k * 9 + j] = least_digits % 10;
        // least_digits = Math.round(least_digits / 10);
        least_digits = Math.floor(least_digits / 10);
      }
    }
  }

  // Output format options:
  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd
  // Regular    - ddd.ddd

  if(is_zero) {
    significand_digits = 1;
    significand[index] = 0;
  } else {
    significand_digits = 36;
    var i = 0;

    while(!significand[index]) {
      i++;
      significand_digits = significand_digits - 1;
      index = index + 1;
    }
  }

  scientific_exponent = significand_digits - 1 + exponent;

  // The scientific exponent checks are dictated by the string conversion
  // ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Double" id="apidoc.element.mongolass.Double">
        function <span class="apidocSignatureSpan">mongolass.</span>Double
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Double(value) {
  if(!(this instanceof Double)) return new Double(value);

  this._bsontype = 'Double';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Double.prototype.toJSON" id="apidoc.element.mongolass.Double.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Double.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Double.prototype.toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Double.prototype.valueOf" id="apidoc.element.mongolass.Double.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.</span>Double.prototype.valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Double.prototype.valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket" id="apidoc.element.mongolass.GridFSBucket">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket
        <span class="apidocSignatureSpan">(db, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridFSBucket(db, options) {
  Emitter.apply(this);
  this.setMaxListeners(0);

  if (options &amp;&amp; typeof options === 'object') {
    options = shallowClone(options);
    var keys = Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS);
    for (var i = 0; i &lt; keys.length; ++i) {
      if (!options[keys[i]]) {
        options[keys[i]] = DEFAULT_GRIDFS_BUCKET_OPTIONS[keys[i]];
      }
    }
  } else {
    options = DEFAULT_GRIDFS_BUCKET_OPTIONS;
  }

  this.s = {
    db: db,
    options: options,
    _chunksCollection: db.collection(options.bucketName + '.chunks'),
    _filesCollection: db.collection(options.bucketName + '.files'),
    checkedIndexes: false,
    calledOpenUploadStream: false,
    promiseLibrary: db.s.promiseLibrary ||
      (typeof global.Promise == 'function' ? global.Promise : require('es6-promise').Promise)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.delete" id="apidoc.element.mongolass.GridFSBucket.prototype.delete">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.delete
        <span class="apidocSignatureSpan">(id, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.delete = function (id, callback) {
  if (typeof callback === 'function') {
    return _delete(this, id, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _delete(_this, id, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.drop" id="apidoc.element.mongolass.GridFSBucket.prototype.drop">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.drop
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.drop = function (callback) {
  if (typeof callback === 'function') {
    return _drop(this, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _drop(_this, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.find" id="apidoc.element.mongolass.GridFSBucket.prototype.find">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.find
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.find = function (filter, options) {
  filter = filter || {};
  options = options || {};

  var cursor = this.s._filesCollection.find(filter);

  if (options.batchSize != null) {
    cursor.batchSize(options.batchSize);
  }
  if (options.limit != null) {
    cursor.limit(options.limit);
  }
  if (options.maxTimeMS != null) {
    cursor.maxTimeMS(options.maxTimeMS);
  }
  if (options.noCursorTimeout != null) {
    cursor.addCursorFlag('noCursorTimeout', options.noCursorTimeout);
  }
  if (options.skip != null) {
    cursor.skip(options.skip);
  }
  if (options.sort != null) {
    cursor.sort(options.sort);
  }

  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openDownloadStream
        <span class="apidocSignatureSpan">(id, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.openDownloadStream = function (id, options) {
  var filter = { _id: id };
  options = {
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };

  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openDownloadStreamByName
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.openDownloadStreamByName = function (filename, options) {
  var sort = { uploadDate: -1 };
  var skip = null;
  if (options &amp;&amp; options.revision != null) {
    if (options.revision &gt;= 0) {
      sort = { uploadDate: 1 };
      skip = options.revision;
    } else {
      skip = -options.revision - 1;
    }
  }

  var filter = { filename: filename };
  options = {
    sort: sort,
    skip: skip,
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };
  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openUploadStream
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.openUploadStream = function (filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }
  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }
  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.openUploadStreamWithId
        <span class="apidocSignatureSpan">(id, filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.openUploadStreamWithId = function (id, filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }

  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }

  options.id = id;

  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.rename" id="apidoc.element.mongolass.GridFSBucket.prototype.rename">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket.prototype.rename
        <span class="apidocSignatureSpan">(id, filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridFSBucket.prototype.rename = function (id, filename, callback) {
  if (typeof callback === 'function') {
    return _rename(this, id, filename, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _rename(_this, id, filename, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore" id="apidoc.element.mongolass.GridStore">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore
        <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridStore(db, id, filename, mode, options) {
  if(!(this instanceof GridStore)) return new GridStore(db, id, filename, mode, options);
  this.db = db;

  // Handle options
  if(typeof options === 'undefined') options = {};
  // Handle mode
  if(typeof mode === 'undefined') {
    mode = filename;
    filename = undefined;
  } else if(typeof mode == 'object') {
    options = mode;
    mode = filename;
    filename = undefined;
  }

  if(id &amp;&amp; id._bsontype == 'ObjectID') {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  } else if(typeof filename == 'undefined') {
    this.referenceBy = REFERENCE_BY_FILENAME;
    this.filename = id;
    if (mode.indexOf('w') != null) {
      this.fileId = new ObjectID();
    }
  } else {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  }

  // Set up the rest
  this.mode = mode == null ? "r" : mode;
  this.options = options || {};

  // Opened
  this.isOpen = false;

  // Set the root if overridden
  this.root = this.options['root'] == null ? GridStore.DEFAULT_ROOT_COLLECTION : this.options['root'];
  this.position = 0;
  this.readPreference = this.options.readPreference || db.options.readPreference || ReadPreference.PRIMARY;
  this.writeConcern = _getWriteConcern(db, this.options);
  // Set default chunk size
  this.internalChunkSize = this.options['chunkSize'] == null ? Chunk.DEFAULT_CHUNK_SIZE : this.options['chunkSize'];

  // Get the promiseLibrary
  var promiseLibrary = this.options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set the promiseLibrary
  this.promiseLibrary = promiseLibrary;

  Object.defineProperty(this, "chunkSize", { enumerable: true
   , get: function () {
       return this.internalChunkSize;
     }
   , set: function(value) {
       if(!(this.mode[0] == "w" &amp;&amp; this.position == 0 &amp;&amp; this.uploadDate == null)) {
         this.internalChunkSize = this.internalChunkSize;
       } else {
         this.internalChunkSize = value;
       }
     }
  });

  Object.defineProperty(this, "md5", { enumerable: true
   , get: function () {
       return this.internalMd5;
     }
  });

  Object.defineProperty(this, "chunkNumber", { enumerable: true
   , get: function () {
       return this.currentChunk &amp;&amp; this.currentChunk.chunkNumber ? this.currentChunk.chunkNumber : null;
     }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.exist" id="apidoc.element.mongolass.GridStore.exist">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.exist
        <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.exist = function (db, fileIdObject, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return exists(db, fileIdObject, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    exists(db, fileIdObject, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.list" id="apidoc.element.mongolass.GridStore.list">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.list
        <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.list = function (db, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return list(db, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    list(db, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection" id="apidoc.element.mongolass.GridStore.prototype.chunkCollection">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.chunkCollection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.chunkCollection = function (callback) {
  if(typeof callback == 'function')
    return this.db.collection((this.root + ".chunks"), callback);
  return this.db.collection((this.root + ".chunks"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.close" id="apidoc.element.mongolass.GridStore.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.close = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return close(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    close(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.collection" id="apidoc.element.mongolass.GridStore.prototype.collection">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.collection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.collection = function (callback) {
  if(typeof callback == 'function')
    this.db.collection(this.root + ".files", callback);
  return this.db.collection(this.root + ".files");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.destroy" id="apidoc.element.mongolass.GridStore.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function destroy() {
  // close and do not emit any more events. queued data is not sent.
  if(!this.writable) return;
  this.readable = false;
  if(this.writable) {
    this.writable = false;
    this._q.length = 0;
    this.emit('close');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.eof" id="apidoc.element.mongolass.GridStore.prototype.eof">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.eof = function () {
  return this.position == this.length ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.getc" id="apidoc.element.mongolass.GridStore.prototype.getc">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.getc
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.getc = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return eof(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    eof(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.open" id="apidoc.element.mongolass.GridStore.prototype.open">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.open = function (callback) {
  var self = this;
  if( this.mode != "w" &amp;&amp; this.mode != "w+" &amp;&amp; this.mode != "r"){
    throw MongoError.create({message: "Illegal mode " + this.mode, driver:true});
  }

  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    open(self, function(err, store) {
      if(err) return reject(err);
      resolve(store);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.puts" id="apidoc.element.mongolass.GridStore.prototype.puts">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.puts
        <span class="apidocSignatureSpan">(string, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.puts = function (string, callback) {
  var self = this;
  var finalString = string.match(/\n$/) == null ? string + "\n" : string;
  // We provided a callback leg
  if(typeof callback == 'function') return this.write(finalString, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    self.write(finalString, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.read" id="apidoc.element.mongolass.GridStore.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.read
        <span class="apidocSignatureSpan">(length, buffer, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.read = function (length, buffer, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  buffer = args.length ? args.shift() : null;
  // We provided a callback leg
  if(typeof callback == 'function') return read(self, length, buffer, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    read(self, length, buffer, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.readlines" id="apidoc.element.mongolass.GridStore.prototype.readlines">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.readlines
        <span class="apidocSignatureSpan">(separator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.readlines = function (separator, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : "\n";
  separator = separator || "\n";

  // We provided a callback leg
  if(typeof callback == 'function') return readlines(self, separator, callback);

  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    readlines(self, separator, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.rewind" id="apidoc.element.mongolass.GridStore.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.rewind
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.rewind = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return rewind(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    rewind(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.seek" id="apidoc.element.mongolass.GridStore.prototype.seek">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.seek
        <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.seek = function (position, seekLocation, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  seekLocation = args.length ? args.shift() : null;

  // We provided a callback leg
  if(typeof callback == 'function') return seek(self, position, seekLocation, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    seek(self, position, seekLocation, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.stream" id="apidoc.element.mongolass.GridStore.prototype.stream">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.stream = function () {
  return new GridStoreStream(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.tell" id="apidoc.element.mongolass.GridStore.prototype.tell">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.tell
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.tell = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return callback(null, this.position);
  // Return promise
  return new self.promiseLibrary(function(resolve) {
    resolve(self.position);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.unlink" id="apidoc.element.mongolass.GridStore.prototype.unlink">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.unlink
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.unlink = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return unlink(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    unlink(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.write" id="apidoc.element.mongolass.GridStore.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.write
        <span class="apidocSignatureSpan">(data, close, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(data, close, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return _writeNormal(this, data, close, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    _writeNormal(self, data, close, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.writeFile" id="apidoc.element.mongolass.GridStore.prototype.writeFile">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.prototype.writeFile
        <span class="apidocSignatureSpan">(file, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.prototype.writeFile = function (file, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return writeFile(self, file, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    writeFile(self, file, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.read" id="apidoc.element.mongolass.GridStore.read">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.read
        <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.read = function (db, name, length, offset, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  offset = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readStatic(db, name, length, offset, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readStatic(db, name, length, offset, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.readlines" id="apidoc.element.mongolass.GridStore.readlines">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.readlines
        <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.readlines = function (db, name, separator, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readlinesStatic(db, name, separator, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readlinesStatic(db, name, separator, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.unlink" id="apidoc.element.mongolass.GridStore.unlink">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore.unlink
        <span class="apidocSignatureSpan">(db, names, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">GridStore.unlink = function (db, names, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return unlinkStatic(self, db, names, options, callback);

  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    unlinkStatic(self, db, names, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Int32" id="apidoc.element.mongolass.Int32">
        function <span class="apidocSignatureSpan">mongolass.</span>Int32
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Int32 = function (value) {
  if(!(this instanceof Int32)) return new Int32(value);

  this._bsontype = 'Int32';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Int32.prototype.toJSON" id="apidoc.element.mongolass.Int32.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Int32.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Int32.prototype.toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Int32.prototype.valueOf" id="apidoc.element.mongolass.Int32.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.</span>Int32.prototype.valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Int32.prototype.valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger" id="apidoc.element.mongolass.Logger">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger
        <span class="apidocSignatureSpan">(className, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger = function (className, options) {
  if(!(this instanceof Logger)) return new Logger(className, options);
  options = options || {};

  // Current reference
  this.className = className;

  // Current logger
  if(options.logger) {
    currentLogger = options.logger;
  } else if(currentLogger == null) {
    currentLogger = console.log;
  }

  // Set level of logging, default is error
  if(options.loggerLevel) {
    level = options.loggerLevel || 'error';
  }

  // Add all class names
  if(filteredClasses[this.className] == null) classFilters[this.className] =  true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.currentLogger" id="apidoc.element.mongolass.Logger.currentLogger">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.currentLogger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.currentLogger = function () {
  return currentLogger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.filter" id="apidoc.element.mongolass.Logger.filter">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.filter
        <span class="apidocSignatureSpan">(type, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.filter = function (type, values) {
  if(type == 'class' &amp;&amp; Array.isArray(values)) {
    filteredClasses = {};

    values.forEach(function(x) {
      filteredClasses[x] = true;
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.debug" id="apidoc.element.mongolass.Logger.prototype.debug">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.debug
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.debug = function (message, object) {
  if(this.isDebug()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'DEBUG', this.className, pid, dateTime, message);
    var state = {
      type: 'debug', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.error" id="apidoc.element.mongolass.Logger.prototype.error">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.error
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.error = function (message, object) {
  if(this.isError()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'ERROR', this.className, pid, dateTime, message);
    var state = {
      type: 'error', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.info" id="apidoc.element.mongolass.Logger.prototype.info">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.info
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.info = function (message, object) {
  if(this.isInfo()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'INFO', this.className, pid, dateTime, message);
    var state = {
      type: 'info', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isDebug" id="apidoc.element.mongolass.Logger.prototype.isDebug">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.isDebug = function () {
  return level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isError" id="apidoc.element.mongolass.Logger.prototype.isError">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.isError = function () {
  return level == 'error' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isInfo" id="apidoc.element.mongolass.Logger.prototype.isInfo">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.isInfo = function () {
  return level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isWarn" id="apidoc.element.mongolass.Logger.prototype.isWarn">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.isWarn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.isWarn = function () {
  return level == 'error' || level == 'warn' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.warn" id="apidoc.element.mongolass.Logger.prototype.warn">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.prototype.warn
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.prototype.warn = function (message, object) {
  if(this.isWarn()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'WARN', this.className, pid, dateTime, message);
    var state = {
      type: 'warn', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.reset" id="apidoc.element.mongolass.Logger.reset">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.reset = function () {
  level = 'error';
  filteredClasses = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.setCurrentLogger" id="apidoc.element.mongolass.Logger.setCurrentLogger">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.setCurrentLogger
        <span class="apidocSignatureSpan">(logger)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.setCurrentLogger = function (logger) {
  if(typeof logger != 'function') throw new MongoError("current logger must be a function");
  currentLogger = logger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.setLevel" id="apidoc.element.mongolass.Logger.setLevel">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger.setLevel
        <span class="apidocSignatureSpan">(_level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger.setLevel = function (_level) {
  if(_level != 'info' &amp;&amp; _level != 'error' &amp;&amp; _level != 'debug' &amp;&amp; _level != 'warn') {
    throw new Error(f("%s is an illegal logging level", _level));
  }

  level = _level;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long" id="apidoc.element.mongolass.Long">
        function <span class="apidocSignatureSpan">mongolass.</span>Long
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Long(low, high) {
  if(!(this instanceof Long)) return new Long(low, high);

  this._bsontype = 'Long';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromBits" id="apidoc.element.mongolass.Long.fromBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.fromBits = function (lowBits, highBits) {
  return new Long(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromInt" id="apidoc.element.mongolass.Long.fromInt">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Long.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Long(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Long.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromNumber" id="apidoc.element.mongolass.Long.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Long.ZERO;
  } else if (value &lt;= -Long.TWO_PWR_63_DBL_) {
    return Long.MIN_VALUE;
  } else if (value + 1 &gt;= Long.TWO_PWR_63_DBL_) {
    return Long.MAX_VALUE;
  } else if (value &lt; 0) {
    return Long.fromNumber(-value).negate();
  } else {
    return new Long(
               (value % Long.TWO_PWR_32_DBL_) | 0,
               (value / Long.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromString" id="apidoc.element.mongolass.Long.fromString">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Long.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Long.fromNumber(Math.pow(radix, 8));

  var result = Long.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Long.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Long.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Long.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.add" id="apidoc.element.mongolass.Long.prototype.add">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.and" id="apidoc.element.mongolass.Long.prototype.and">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.and = function (other) {
  return Long.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.compare" id="apidoc.element.mongolass.Long.prototype.compare">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.div" id="apidoc.element.mongolass.Long.prototype.div">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    if (other.equals(Long.ONE) ||
        other.equals(Long.NEG_ONE)) {
      return Long.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Long.MIN_VALUE)) {
      return Long.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Long.ZERO)) {
        return other.isNegative() ? Long.ONE : Long.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Long.MIN_VALUE)) {
    return Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Long.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Long.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Long.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Long.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.equals" id="apidoc.element.mongolass.Long.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getHighBits" id="apidoc.element.mongolass.Long.prototype.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBits" id="apidoc.element.mongolass.Long.prototype.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned" id="apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs" id="apidoc.element.mongolass.Long.prototype.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Long.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThan" id="apidoc.element.mongolass.Long.prototype.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual" id="apidoc.element.mongolass.Long.prototype.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isNegative" id="apidoc.element.mongolass.Long.prototype.isNegative">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isOdd" id="apidoc.element.mongolass.Long.prototype.isOdd">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isZero" id="apidoc.element.mongolass.Long.prototype.isZero">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThan" id="apidoc.element.mongolass.Long.prototype.lessThan">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual" id="apidoc.element.mongolass.Long.prototype.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.modulo" id="apidoc.element.mongolass.Long.prototype.modulo">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.multiply" id="apidoc.element.mongolass.Long.prototype.multiply">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.multiply = function (other) {
  if (this.isZero()) {
    return Long.ZERO;
  } else if (other.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  } else if (other.equals(Long.MIN_VALUE)) {
    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Longs are small, use float multiplication
  if (this.lessThan(Long.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Long.TWO_PWR_24_)) {
    return Long.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.negate" id="apidoc.element.mongolass.Long.prototype.negate">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.negate = function () {
  if (this.equals(Long.MIN_VALUE)) {
    return Long.MIN_VALUE;
  } else {
    return this.not().add(Long.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.not" id="apidoc.element.mongolass.Long.prototype.not">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.not = function () {
  return Long.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.notEquals" id="apidoc.element.mongolass.Long.prototype.notEquals">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.or" id="apidoc.element.mongolass.Long.prototype.or">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.or = function (other) {
  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftLeft" id="apidoc.element.mongolass.Long.prototype.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Long.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Long.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRight" id="apidoc.element.mongolass.Long.prototype.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Long.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned" id="apidoc.element.mongolass.Long.prototype.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Long.fromBits(high, 0);
    } else {
      return Long.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.subtract" id="apidoc.element.mongolass.Long.prototype.subtract">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toInt" id="apidoc.element.mongolass.Long.prototype.toInt">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toJSON" id="apidoc.element.mongolass.Long.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toNumber" id="apidoc.element.mongolass.Long.prototype.toNumber">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.toNumber = function () {
  return this.high_ * Long.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toString" id="apidoc.element.mongolass.Long.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.toString
        <span class="apidocSignatureSpan">(opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.toString = function (opt_radix) {
  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (this.isZero()) {
    return '0';
  }

  if (this.isNegative()) {
    if (this.equals(Long.MIN_VALUE)) {
      // We need to change the Long value before it can be negated, so we remove
      // the bottom-most digit in this base and then recurse to do the rest.
      var radixLong = Long.fromNumber(radix);
      var div = this.div(radixLong);
      var rem = div.multiply(radixLong).subtract(this);
      return div.toString(radix) + rem.toInt().toString(radix);
    } else {
      return '-' + this.negate().toString(radix);
    }
  }

  // Do several (6) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Long.fromNumber(Math.pow(radix, 6));

  var rem = this;
  var result = '';
  while (true) {
    var remDiv = rem.div(radixToPower);
    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
    var digits = intval.toString(radix);

    rem = remDiv;
    if (rem.isZero()) {
      return digits + result;
    } else {
      while (digits.length &lt; 6) {
        digits = '0' + digits;
      }
      result = '' + digits + result;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.xor" id="apidoc.element.mongolass.Long.prototype.xor">
        function <span class="apidocSignatureSpan">mongolass.</span>Long.prototype.xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Long.prototype.xor = function (other) {
  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Map" id="apidoc.element.mongolass.Map">
        function <span class="apidocSignatureSpan">mongolass.</span>Map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Map() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MaxKey" id="apidoc.element.mongolass.MaxKey">
        function <span class="apidocSignatureSpan">mongolass.</span>MaxKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MaxKey() {
  if(!(this instanceof MaxKey)) return new MaxKey();

  this._bsontype = 'MaxKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MinKey" id="apidoc.element.mongolass.MinKey">
        function <span class="apidocSignatureSpan">mongolass.</span>MinKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MinKey() {
  if(!(this instanceof MinKey)) return new MinKey();

  this._bsontype = 'MinKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Model" id="apidoc.element.mongolass.Model">
        function <span class="apidocSignatureSpan">mongolass.</span>Model
        <span class="apidocSignatureSpan">(name, schema, db, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Model {
  constructor(name, schema, db, opts) {
    opts = opts || {};
    this._db = db;
    this._schema = schema;
    this._name = name;
    this._collName = opts.collName || inflected.pluralize(name).toLowerCase();
    this._opts = opts;
    this._plugins = {};

    this._connect();
    Query.bindQuery(this, mongodb.Collection);

    //alias
    this.create = this.insert;
    this.index = this.ensureIndex;

    _.defaults(this._plugins, this._db._plugins);
  }

<span class="apidocCodeCommentSpan">  /**
   * get a collection
   */
</span>  _connect(collName, opts) {
    if (this._coll) {
      return Promise.resolve(this._coll);
    }
    this._collName = collName || this._collName;
    this._opts = opts || this._opts;
    this._conn = this._conn || this._db
      .connect()
      .then(db =&gt; {
        this._coll = db.collection(this._collName, this._opts);
        debug('Get collection: ' + this._collName);
        return this._coll;
      })
      .catch(e =&gt; {
        console.error(e);
        throw e;
      });
    return this._conn;
  }

  /**
   * get/set another model
   */
  model(name, schema, opts) {
    return this._db.model(name, schema, opts);
  }

  /**
   * add model plugin
   */
  plugin(name, hooks) {
    if (!name || !hooks || !_.isString(name) || !_.isPlainObject(hooks)) {
      throw new TypeError('Wrong plugin name or hooks');
    }
    this._plugins[name] = {
      name: name,
      hooks: hooks
    };
    debug('Add %s pulgin: %j', this._name, name);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MongoClient" id="apidoc.element.mongolass.MongoClient">
        function <span class="apidocSignatureSpan">mongolass.</span>MongoClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoClient() {
<span class="apidocCodeCommentSpan">  /**
   * The callback format for results
   * @callback MongoClient~connectCallback
   * @param {MongoError} error An error instance representing the error during the execution.
   * @param {Db} db The connected database.
   */
</span>
  /**
   * Connect to MongoDB using a url as documented at
   *
   *  docs.mongodb.org/manual/reference/connection-string/
   *
   * Note that for replicasets the replicaSet query parameter is required in the 2.0 driver
   *
   * @method
   * @param {string} url The connection URI string
   * @param {object} [options] Optional settings.
   * @param {number} [options.poolSize=5] poolSize The maximum size of the individual server pool.
   * @param {boolean} [options.ssl=false] Enable SSL connection.
   * @param {Buffer} [options.sslCA=undefined] SSL Certificate store binary buffer
   * @param {Buffer} [options.sslCRL=undefined] SSL Certificate revocation list binary buffer
   * @param {Buffer} [options.sslCert=undefined] SSL Certificate binary buffer
   * @param {Buffer} [options.sslKey=undefined] SSL Key file binary buffer
   * @param {string} [options.sslPass=undefined] SSL Certificate pass phrase
   * @param {boolean|function} [options.checkServerIdentity=true] Ensure we check server identify during SSL, set to false to disable
 checking. Only works for Node 0.12.x or higher. You can pass in a boolean or your own checkServerIdentity override function.
   * @param {boolean} [options.autoReconnect=true] Enable autoReconnect for single server instances
   * @param {boolean} [options.noDelay=true] TCP Connection no delay
   * @param {boolean} [options.keepAlive=0] The number of milliseconds to wait before initiating keepAlive on the TCP socket.
   * @param {number} [options.connectTimeoutMS=30000] TCP Connection timeout setting
   * @param {number} [options.socketTimeoutMS=30000] TCP Socket timeout setting
   * @param {number} [options.reconnectTries=30] Server attempt to reconnect #times
   * @param {number} [options.reconnectInterval=1000] Server will wait # milliseconds between retries
   * @param {boolean} [options.ha=true] Control if high availability monitoring runs for Replicaset or Mongos proxies.
   * @param {number} [options.haInterval=10000] The High availability period for replicaset inquiry
   * @param {string} [options.replicaSet=undefined] The Replicaset set name
   * @param {number} [options.secondaryAcceptableLatencyMS=15] Cutoff latency point in MS for Replicaset member selection
   * @param {number} [options.acceptableLatencyMS=15] Cutoff latency point in MS for Mongos proxies selection.
   * @param {boolean} [options.connectWithNoPrimary=false] Sets if the driver should connect even if no primary is available
   * @param {string} [options.authSource=undefined] Define the database to authenticate against
   * @param {(number|string)} [options.w=null] The write concern.
   * @param {number} [options.wtimeout=null] The write concern timeout.
   * @param {boolean} [options.j=false] Specify a journal write concern.
   * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.
   * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.
   * @param {Boolean} [options.ignoreUndefined=false] Specify if the BSON serializer should ignore undefined fields.
   * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.
   * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.
   * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.
   * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive
 wrapper types.
   * @param {number} [options.bufferMaxEntries=-1] Sets a cap on how many operations the driver will buffer up before giving up
on getting a working connection, default is -1 which is unlimited.
   * @param {(ReadPreference|string)} [options.readPreference=null] The preferred ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MongoError" id="apidoc.element.mongolass.MongoError">
        function <span class="apidocSignatureSpan">mongolass.</span>MongoError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoError(message) {
  this.name = 'MongoError';
  this.message = message;
  Error.captureStackTrace(this, MongoError);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MongoError.create" id="apidoc.element.mongolass.MongoError.create">
        function <span class="apidocSignatureSpan">mongolass.</span>MongoError.create
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">MongoError.create = function (options) {
  var err = null;

  if(options instanceof Error) {
    err = new MongoError(options.message);
    err.stack = options.stack;
  } else if(typeof options == 'string') {
    err = new MongoError(options);
  } else {
    err = new MongoError(options.message || options.errmsg || options.$err || "n/a");
    // Other options
    for(var name in options) {
      err[name] = options[name];
    }
  }

  return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos" id="apidoc.element.mongolass.Mongos">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos = function (servers, options) {
  if(!(this instanceof Mongos)) return new Mongos(servers, options);
  options = options || {};
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Set up event emitter
  EventEmitter.call(this);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the Mongos
  var mongos = new CMongos(seedlist, clonedOptions)
  // Server capabilities
  var sCapabilities = null;

  // Internal state
  this.s = {
    // Create the Mongos
      mongos: mongos
    // Server capabilities
    , sCapabilities: sCapabilities
    // Debug turned on
    , debug: clonedOptions.debug
    // Store option defaults
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Actual store of callbacks
    , store: store
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.auth" id="apidoc.element.mongolass.Mongos.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.auth.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.capabilities" id="apidoc.element.mongolass.Mongos.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.mongos.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.mongos.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.close" id="apidoc.element.mongolass.Mongos.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.close = function (forceClosed) {
  this.s.mongos.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.command" id="apidoc.element.mongolass.Mongos.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.command = function (ns, cmd, options, callback) {
  this.s.mongos.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connect" id="apidoc.element.mongolass.Mongos.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.removeListener(e, connectErrorHandler);
      });

      self.s.mongos.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect');
    self.s.store.execute();
  }

  // relay the event
  var relay = function(event) {
    return function(t, server) {
      self.emit(event, t, server);
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.mongos.removeAllListeners(e);
    });

    // Set up listeners
    self.s.mongos.once('timeout', errorHandler('timeout'));
    self.s.mongos.once('error', errorHandler('error'));
    self.s.mongos.once('close', errorHandler('close'));

    // Set up SDAM listeners
    self.s.mongos.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.mongos.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.mongos.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.mongos.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.mongos.on('serverOpening', relay('serverOpening'));
    self.s.mongos.on('serverClosed', relay('serverClosed'));
    self.s.mongos.on('topologyOpening', relay('topologyOpening'));
    self.s.mongos.on('topologyClosed', relay('topologyClosed'));
    self.s.mongos.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    // Set up serverConfig listeners
    self.s.mongos.on('fullsetup', relay('fullsetup'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  self.s.mongos.once('timeout', connectErrorHandler('timeout'));
  self.s.mongos.once('error', connectErrorHandler('error'));
  self.s.mongos.once('close', connectErrorHandler('close'));
  self.s.mongos.once('connect', connectHandler);
  // Join and leave events
  self.s.mongos.on('joined', relay('joined'));
  self.s.mongos.on('left', relay('left'));

  // Reconnect server
  self.s.mongos.on('reconnect', reconnectHandler);

  // Start connection
  self.s.mongos.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connections" id="apidoc.element.mongolass.Mongos.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.connections = function () {
  return this.s.mongos.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.cursor" id="apidoc.element.mongolass.Mongos.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.mongos.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.insert" id="apidoc.element.mongolass.Mongos.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.insert = function (ns, ops, options, callback) {
  this.s.mongos.insert(ns, ops, options, function(e, m) {
    callback(e, m)
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isConnected" id="apidoc.element.mongolass.Mongos.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.isConnected = function () {
  return this.s.mongos.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed" id="apidoc.element.mongolass.Mongos.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.isDestroyed = function () {
  return this.s.mongos.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster" id="apidoc.element.mongolass.Mongos.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.lastIsMaster = function () {
  return this.s.mongos.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.logout" id="apidoc.element.mongolass.Mongos.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.logout.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.remove" id="apidoc.element.mongolass.Mongos.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.remove = function (ns, ops, options, callback) {
  this.s.mongos.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.unref" id="apidoc.element.mongolass.Mongos.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.unref = function () {
  return this.s.mongos.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.update" id="apidoc.element.mongolass.Mongos.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos.prototype.update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos.prototype.update = function (ns, ops, options, callback) {
  this.s.mongos.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID" id="apidoc.element.mongolass.ObjectID">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromHexString" id="apidoc.element.mongolass.ObjectID.createFromHexString">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createFromHexString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromHexString(string) {
  // Throw an error if it's not a valid setup
  if(typeof string === 'undefined' || string != null &amp;&amp; string.length != 24) {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  // Use Buffer.from method if available
  if(hasBufferType) return new ObjectID(new Buffer(string, 'hex'));

  // Calculate lengths
  var array = new _Buffer(12);
  var n = 0;
  var i = 0;

  while (i &lt; 24) {
    array[n++] = decodeLookup[string.charCodeAt(i++)] &lt;&lt; 4 | decodeLookup[string.charCodeAt(i++)]
  }

  return new ObjectID(array);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromTime" id="apidoc.element.mongolass.ObjectID.createFromTime">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createFromTime
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromTime(time) {
  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
  // Encode time into first 4 bytes
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Return the new objectId
  return new ObjectID(buffer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createPk" id="apidoc.element.mongolass.ObjectID.createPk">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.createPk
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPk() {
  return new ObjectID();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.isValid" id="apidoc.element.mongolass.ObjectID.isValid">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.isValid
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isValid(id) {
  if(id == null) return false;

  if(typeof id == 'number') {
    return true;
  }

  if(typeof id == 'string') {
    return id.length == 12 || (id.length == 24 &amp;&amp; checkForHexRegExp.test(id));
  }

  if(id instanceof ObjectID) {
    return true;
  }

  if(id instanceof _Buffer) {
    return true;
  }

  // Duck-Typing detection of ObjectId like objects
  if(id.toHexString) {
    return id.id.length == 12 || (id.id.length == 24 &amp;&amp; checkForHexRegExp.test(id.id));
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.equals" id="apidoc.element.mongolass.ObjectID.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.equals
        <span class="apidocSignatureSpan">(otherId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function equals(otherId) {
  var id;

  if(otherId instanceof ObjectID) {
    return this.toString() == otherId.toString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12 &amp;&amp; this.id instanceof _Buffer) {
    return otherId === this.id.toString('binary');
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 24) {
    return otherId.toLowerCase() === this.toHexString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12) {
    return otherId === this.id;
  } else if(otherId != null &amp;&amp; (otherId instanceof ObjectID || otherId.toHexString)) {
    return otherId.toHexString() === this.toHexString();
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.generate" id="apidoc.element.mongolass.ObjectID.prototype.generate">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.generate
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.generate = function (time) {
  if ('number' != typeof time) {
    time = ~~(Date.now()/1000);
  }

  // Use pid
  var pid = (typeof process === 'undefined' ? Math.floor(Math.random() * 100000) : process.pid) % 0xFFFF;
  var inc = this.get_inc();
  // Buffer used
  var buffer = new Buffer(12);
  // Encode time
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Encode machine
  buffer[6] = MACHINE_ID &amp; 0xff;
  buffer[5] = (MACHINE_ID &gt;&gt; 8) &amp; 0xff;
  buffer[4] = (MACHINE_ID &gt;&gt; 16) &amp; 0xff;
  // Encode pid
  buffer[8] = pid &amp; 0xff;
  buffer[7] = (pid &gt;&gt; 8) &amp; 0xff;
  // Encode index
  buffer[11] = inc &amp; 0xff;
  buffer[10] = (inc &gt;&gt; 8) &amp; 0xff;
  buffer[9] = (inc &gt;&gt; 16) &amp; 0xff;
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getInc" id="apidoc.element.mongolass.ObjectID.prototype.getInc">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.getInc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.getInc = function () {
  return this.get_inc();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp" id="apidoc.element.mongolass.ObjectID.prototype.getTimestamp">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.getTimestamp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.getTimestamp = function () {
  var timestamp = new Date();
  var time = this.id[3] | this.id[2] &lt;&lt; 8 | this.id[1] &lt;&lt; 16 | this.id[0] &lt;&lt; 24;
  timestamp.setTime(Math.floor(time) * 1000);
  return timestamp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.get_inc" id="apidoc.element.mongolass.ObjectID.prototype.get_inc">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.get_inc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.get_inc = function () {
  return ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toHexString" id="apidoc.element.mongolass.ObjectID.prototype.toHexString">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toHexString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.toHexString = function () {
  if(ObjectID.cacheHexString &amp;&amp; this.__id) return this.__id;

  var hexString = '';
  if(!this.id || !this.id.length) {
    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');
  }

  if(this.id instanceof _Buffer) {
    hexString = convertToHex(this.id);
    if(ObjectID.cacheHexString) this.__id = hexString;
    return hexString;
  }

  for (var i = 0; i &lt; this.id.length; i++) {
    hexString += hexTable[this.id.charCodeAt(i)];
  }

  if(ObjectID.cacheHexString) this.__id = hexString;
  return hexString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toJSON" id="apidoc.element.mongolass.ObjectID.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.toJSON = function () {
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toString" id="apidoc.element.mongolass.ObjectID.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID.prototype.toString
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ObjectID.prototype.toString = function (format) {
  // Is the id a buffer then use the buffer toString method to return the format
  if(this.id &amp;&amp; this.id.copy) {
    return this.id.toString(typeof format === 'string' ? format : 'hex');
  }

  // if(this.buffer )
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectId" id="apidoc.element.mongolass.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectId
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference" id="apidoc.element.mongolass.ReadPreference">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference
        <span class="apidocSignatureSpan">(mode, tags, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference = function (mode, tags, options) {
  if(!(this instanceof ReadPreference)) {
    return new ReadPreference(mode, tags, options);
  }

  this._type = 'ReadPreference';
  this.mode = mode;
  this.tags = tags;
  this.options =  options;

  // If no tags were passed in
  if(tags &amp;&amp; typeof tags == 'object' &amp;&amp; !Array.isArray(tags)) {
    if(tags.maxStalenessSeconds) {
      this.options = tags;
      this.tags = null;
    }
  }

  // Add the maxStalenessSeconds value to the read Preference
  if(this.options &amp;&amp; this.options.maxStalenessSeconds) {
    this.maxStalenessSeconds = this.options.maxStalenessSeconds;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.isValid" id="apidoc.element.mongolass.ReadPreference.isValid">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.isValid
        <span class="apidocSignatureSpan">(_mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference.isValid = function (_mode) {
  return (_mode == ReadPreference.PRIMARY || _mode == ReadPreference.PRIMARY_PREFERRED
    || _mode == ReadPreference.SECONDARY || _mode == ReadPreference.SECONDARY_PREFERRED
    || _mode == ReadPreference.NEAREST
    || _mode == true || _mode == false || _mode == null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.isValid" id="apidoc.element.mongolass.ReadPreference.prototype.isValid">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.isValid
        <span class="apidocSignatureSpan">(mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference.prototype.isValid = function (mode) {
  var _mode = typeof mode == 'string' ? mode : this.mode;
  return ReadPreference.isValid(_mode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON" id="apidoc.element.mongolass.ReadPreference.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference.prototype.toJSON = function () {
  return this.toObject();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toObject" id="apidoc.element.mongolass.ReadPreference.prototype.toObject">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference.prototype.toObject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference.prototype.toObject = function () {
  var object = {mode:this.mode};

  if(this.tags != null) {
    object['tags'] = this.tags;
  }

  if(this.maxStalenessSeconds) {
    object['maxStalenessSeconds'] = this.maxStalenessSeconds;
  }

  return object;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet" id="apidoc.element.mongolass.ReplSet">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet = function (servers, options) {
  if(!(this instanceof ReplSet)) return new ReplSet(servers, options);
  options = options || {};
  var self = this;
  // Set up event emitter
  EventEmitter.call(this);

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: false,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Client info
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the ReplSet
  var replset = new CReplSet(seedlist, clonedOptions);

  // Listen to reconnect event
  replset.on('reconnect', function() {
    self.emit('reconnect');
    store.execute();
  });

  // Internal state
  this.s = {
    // Replicaset
    replset: replset
    // Server capabilities
    , sCapabilities: null
    // Debug tag
    , tag: options.tag
    // Store options
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Store
    , store: store
    // Options
    , options: options
  }

  // Debug
  if(clonedOptions.debug) {
    // Last ismaster
    Object.defineProperty(this, 'replset', {
      enumerable:true, get: function() { return replset; }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.auth" id="apidoc.element.mongolass.ReplSet.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.auth.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.capabilities" id="apidoc.element.mongolass.ReplSet.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.replset.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.replset.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.close" id="apidoc.element.mongolass.ReplSet.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.close = function (forceClosed) {
  var self = this;
  // Call destroy on the topology
  this.s.replset.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }

  var events = ['timeout', 'error', 'close', 'joined', 'left'];
  events.forEach(function(e) {
    self.removeAllListeners(e);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.command" id="apidoc.element.mongolass.ReplSet.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.command = function (ns, cmd, options, callback) {
  this.s.replset.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connect" id="apidoc.element.mongolass.ReplSet.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.replset.removeAllListeners(e);
    });

    // Set up listeners
    self.s.replset.once('timeout', errorHandler('timeout'));
    self.s.replset.once('error', errorHandler('error'));
    self.s.replset.once('close', errorHandler('close'));

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Replset events relay
    var replsetRelay = function(event) {
      return function(t, server) {
        self.emit(event, t, server.lastIsMaster(), server);
      }
    }

    // Relay ha
    var relayHa = function(t, state) {
      self.emit('ha', t, state);

      if(t == 'start') {
        self.emit('ha_connect', t, state);
      } else if(t == 'end') {
        self.emit('ha_ismaster', t, state);
      }
    }

    // Set up serverConfig listeners
    self.s.replset.on('joined', replsetRelay('joined'));
    self.s.replset.on('left', relay('left'));
    self.s.replset.on('ping', relay('ping'));
    self.s.replset.on('ha', relayHa);

    // Set up SDAM listeners
    self.s.replset.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.replset.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.replset.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.replset.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.replset.on('serverOpening', relay('serverOpening'));
    self.s.replset.on('serverClosed', relay('serverClosed'));
    self.s.replset.on('topologyOpening', relay('topologyOpening'));
    self.s.replset.on('topologyClosed', relay('topologyClosed'));
    self.s.replset.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    self.s.replset.on('fullsetup', function() {
      self.emit('fullsetup', null, self);
    });

    self.s.replset.on('all', function() {
      self.emit('all', null, self);
    });

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      ['timeout', 'error', 'close'].forEach(function(e) {
        self.s.replset.removeListener(e, connectErrorHandler);
      });

      self.s.replset.removeListener('connect', connectErrorHandler);
      // Destroy the replset
      self.s.replset.destroy();

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        if(!self.s.replset.isConnected())
          process.nextTick(function() { throw err; })
      }
    }
  }

  // Set up listeners
  self.s.replset.once('timeout', connectErrorHandler('timeout'));
  self.s.replset.once('error', connectErrorHandler('error'));
  self.s.replset.once('close', connectErrorHandler('close'));
  self.s.replset.once('connect', connectHandler);

  // Start connection
  self.s.replset.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connections" id="apidoc.element.mongolass.ReplSet.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.connections = function () {
  return this.s.replset.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.cursor" id="apidoc.element.mongolass.ReplSet.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.cursor = function (ns, cmd, options) {
  options = translateReadPreference(options);
  options.disconnectHandler = this.s.store;
  return this.s.replset.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.insert" id="apidoc.element.mongolass.ReplSet.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.insert = function (ns, ops, options, callback) {
  this.s.replset.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isConnected" id="apidoc.element.mongolass.ReplSet.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.isConnected
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.isConnected = function (options) {
  options = options || {};

  // If we passed in a readPreference, translate to
  // a CoreReadPreference instance
  if(options.readPreference) {
    options.readPreference = translateReadPreference(options.readPreference);
  }

  return this.s.replset.isConnected(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed" id="apidoc.element.mongolass.ReplSet.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.isDestroyed = function () {
  return this.s.replset.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster" id="apidoc.element.mongolass.ReplSet.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.lastIsMaster = function () {
  return this.s.replset.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.logout" id="apidoc.element.mongolass.ReplSet.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.logout.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.remove" id="apidoc.element.mongolass.ReplSet.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.remove = function (ns, ops, options, callback) {
  this.s.replset.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.unref" id="apidoc.element.mongolass.ReplSet.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.unref = function () {
  return this.s.replset.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.update" id="apidoc.element.mongolass.ReplSet.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet.prototype.update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet.prototype.update = function (ns, ops, options, callback) {
  this.s.replset.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Schema" id="apidoc.element.mongolass.Schema">
        function <span class="apidocSignatureSpan">mongolass.</span>Schema
        <span class="apidocSignatureSpan">(name, schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class _Schema extends Schema {
  constructor(name, schema) {
    if (!name || !_.isString(name)) {
      throw new TypeError('Schema must have a name');
    }
    super(name, _.defaults(schema, { _id: { type: Types.ObjectId } }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server" id="apidoc.element.mongolass.Server">
        function <span class="apidocSignatureSpan">mongolass.</span>Server
        <span class="apidocSignatureSpan">(host, port, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server = function (host, port, options) {
  options = options || {};
  if(!(this instanceof Server)) return new Server(host, port, options);
  EventEmitter.call(this);
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Detect if we have a socket connection
  if(host.indexOf('\/') != -1) {
    if(port != null &amp;&amp; typeof port == 'object') {
      options = port;
      port = null;
    }
  } else if(port == null) {
    throw MongoError.create({message: 'port must be specified', driver:true});
  }

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    host: host, port: port, disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create an instance of a server instance from mongodb-core
  var server = new CServer(clonedOptions);

  // Define the internal properties
  this.s = {
    // Create an instance of a server instance from mongodb-core
      server: server
    // Server capabilities
    , sCapabilities: null
    // Cloned options
    , clonedOptions: clonedOptions
    // Reconnect
    , reconnect: clonedOptions.reconnect
    // Emit error
    , emitError: clonedOptions.emitError
    // Pool size
    , poolSize: clonedOptions.size
    // Store Options
    , storeOptions: storeOptions
    // Store
    , store: store
    // Host
    , host: host
    // Port
    , port: port
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.auth" id="apidoc.element.mongolass.Server.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.auth.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.capabilities" id="apidoc.element.mongolass.Server.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.server.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.server.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.close" id="apidoc.element.mongolass.Server.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.close = function (forceClosed) {
  this.s.server.destroy();
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.command" id="apidoc.element.mongolass.Server.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.command = function (ns, cmd, options, callback) {
  this.s.server.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connect" id="apidoc.element.mongolass.Server.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.s.server.removeListener(e, connectHandlers[e]);
      });

      self.s.server.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect', self);
    self.s.store.execute();
  }

  // Reconnect failed
  var reconnectFailedHandler = function(err) {
    self.emit('reconnectFailed', err);
    self.s.store.flush(err);
  }

  // Destroy called on topology, perform cleanup
  var destroyHandler = function() {
    self.s.store.flush();
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.server.removeAllListeners(e);
    });

    // Set up listeners
    self.s.server.on('timeout', errorHandler('timeout'));
    self.s.server.once('error', errorHandler('error'));
    self.s.server.on('close', errorHandler('close'));
    // Only called on destroy
    self.s.server.on('destroy', destroyHandler);

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Set up SDAM listeners
    self.s.server.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.server.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.server.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.server.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.server.on('serverOpening', relay('serverOpening'));
    self.s.server.on('serverClosed', relay('serverClosed'));
    self.s.server.on('topologyOpening', relay('topologyOpening'));
    self.s.server.on('topologyClosed', relay('topologyClosed'));
    self.s.server.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));
    self.s.server.on('attemptReconnect', relay('attemptReconnect'));
    self.s.server.on('monitoring', relay('monitoring'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      console.log(err.stack)
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  var connectHandlers = {
    timeout: connectErrorHandler('timeout'),
    error: connectErrorHandler('error'),
    close: connectErrorHandler('close')
  };

  // Add the event handlers
  self.s.server.once('timeout', connectHandlers.timeout);
  self.s.server.once('error', connectHandlers.error);
  self.s.server.once('close', connectHandlers.close);
  self.s.server.once('connect', connectHandler);
  // Reconnect server
  self.s.server.on('reconnect', reconnectHandler);
  self.s.server.on('reconnectFailed', reconnectFailedHandler);

  // Start connection
  self.s.server.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connections" id="apidoc.element.mongolass.Server.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.connections = function () {
  return this.s.server.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.cursor" id="apidoc.element.mongolass.Server.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.server.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.insert" id="apidoc.element.mongolass.Server.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.insert = function (ns, ops, options, callback) {
  this.s.server.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isConnected" id="apidoc.element.mongolass.Server.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.isConnected = function () {
  return this.s.server.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isDestroyed" id="apidoc.element.mongolass.Server.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.isDestroyed = function () {
  return this.s.server.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.lastIsMaster" id="apidoc.element.mongolass.Server.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.lastIsMaster = function () {
  return this.s.server.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.logout" id="apidoc.element.mongolass.Server.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.logout.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.remove" id="apidoc.element.mongolass.Server.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.remove = function (ns, ops, options, callback) {
  this.s.server.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.unref" id="apidoc.element.mongolass.Server.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.unref = function () {
  this.s.server.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.update" id="apidoc.element.mongolass.Server.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.</span>Server.prototype.update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server.prototype.update = function (ns, ops, options, callback) {
  this.s.server.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol" id="apidoc.element.mongolass.Symbol">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Symbol(value) {
  if(!(this instanceof Symbol)) return new Symbol(value);
  this._bsontype = 'Symbol';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.inspect" id="apidoc.element.mongolass.Symbol.prototype.inspect">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Symbol.prototype.inspect = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toJSON" id="apidoc.element.mongolass.Symbol.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Symbol.prototype.toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toString" id="apidoc.element.mongolass.Symbol.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Symbol.prototype.toString = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.valueOf" id="apidoc.element.mongolass.Symbol.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol.prototype.valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Symbol.prototype.valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp" id="apidoc.element.mongolass.Timestamp">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Timestamp(low, high) {
  if(!(this instanceof Timestamp)) return new Timestamp(low, high);
  this._bsontype = 'Timestamp';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromBits" id="apidoc.element.mongolass.Timestamp.fromBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.fromBits = function (lowBits, highBits) {
  return new Timestamp(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromInt" id="apidoc.element.mongolass.Timestamp.fromInt">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Timestamp.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Timestamp(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Timestamp.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromNumber" id="apidoc.element.mongolass.Timestamp.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Timestamp.ZERO;
  } else if (value &lt;= -Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MIN_VALUE;
  } else if (value + 1 &gt;= Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MAX_VALUE;
  } else if (value &lt; 0) {
    return Timestamp.fromNumber(-value).negate();
  } else {
    return new Timestamp(
               (value % Timestamp.TWO_PWR_32_DBL_) | 0,
               (value / Timestamp.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromString" id="apidoc.element.mongolass.Timestamp.fromString">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Timestamp.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 8));

  var result = Timestamp.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Timestamp.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Timestamp.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Timestamp.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.add" id="apidoc.element.mongolass.Timestamp.prototype.add">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.and" id="apidoc.element.mongolass.Timestamp.prototype.and">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.and = function (other) {
  return Timestamp.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.compare" id="apidoc.element.mongolass.Timestamp.prototype.compare">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.div" id="apidoc.element.mongolass.Timestamp.prototype.div">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    if (other.equals(Timestamp.ONE) ||
        other.equals(Timestamp.NEG_ONE)) {
      return Timestamp.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Timestamp.MIN_VALUE)) {
      return Timestamp.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Timestamp.ZERO)) {
        return other.isNegative() ? Timestamp.ONE : Timestamp.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Timestamp.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Timestamp.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Timestamp.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Timestamp.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.equals" id="apidoc.element.mongolass.Timestamp.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits" id="apidoc.element.mongolass.Timestamp.prototype.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits" id="apidoc.element.mongolass.Timestamp.prototype.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Timestamp.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs" id="apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Timestamp.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan" id="apidoc.element.mongolass.Timestamp.prototype.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isNegative" id="apidoc.element.mongolass.Timestamp.prototype.isNegative">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isOdd" id="apidoc.element.mongolass.Timestamp.prototype.isOdd">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isZero" id="apidoc.element.mongolass.Timestamp.prototype.isZero">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThan" id="apidoc.element.mongolass.Timestamp.prototype.lessThan">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.modulo" id="apidoc.element.mongolass.Timestamp.prototype.modulo">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.multiply" id="apidoc.element.mongolass.Timestamp.prototype.multiply">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.multiply = function (other) {
  if (this.isZero()) {
    return Timestamp.ZERO;
  } else if (other.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    return other.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return this.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Timestamps are small, use float multiplication
  if (this.lessThan(Timestamp.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Timestamp.TWO_PWR_24_)) {
    return Timestamp.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Timestamp into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.negate" id="apidoc.element.mongolass.Timestamp.prototype.negate">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.negate = function () {
  if (this.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.MIN_VALUE;
  } else {
    return this.not().add(Timestamp.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.not" id="apidoc.element.mongolass.Timestamp.prototype.not">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.not = function () {
  return Timestamp.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.notEquals" id="apidoc.element.mongolass.Timestamp.prototype.notEquals">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.or" id="apidoc.element.mongolass.Timestamp.prototype.or">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.or = function (other) {
  return Timestamp.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft" id="apidoc.element.mongolass.Timestamp.prototype.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Timestamp.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Timestamp.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight" id="apidoc.element.mongolass.Timestamp.prototype.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Timestamp.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Timestamp.fromBits(high, 0);
    } else {
      return Timestamp.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.subtract" id="apidoc.element.mongolass.Timestamp.prototype.subtract">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toInt" id="apidoc.element.mongolass.Timestamp.prototype.toInt">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toJSON" id="apidoc.element.mongolass.Timestamp.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toNumber" id="apidoc.element.mongolass.Timestamp.prototype.toNumber">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.toNumber = function () {
  return this.high_ * Timestamp.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toString" id="apidoc.element.mongolass.Timestamp.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.toString
        <span class="apidocSignatureSpan">(opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.toString = function (opt_radix) {
  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (this.isZero()) {
    return '0';
  }

  if (this.isNegative()) {
    if (this.equals(Timestamp.MIN_VALUE)) {
      // We need to change the Timestamp value before it can be negated, so we remove
      // the bottom-most digit in this base and then recurse to do the rest.
      var radixTimestamp = Timestamp.fromNumber(radix);
      var div = this.div(radixTimestamp);
      var rem = div.multiply(radixTimestamp).subtract(this);
      return div.toString(radix) + rem.toInt().toString(radix);
    } else {
      return '-' + this.negate().toString(radix);
    }
  }

  // Do several (6) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 6));

  var rem = this;
  var result = '';
  while (true) {
    var remDiv = rem.div(radixToPower);
    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
    var digits = intval.toString(radix);

    rem = remDiv;
    if (rem.isZero()) {
      return digits + result;
    } else {
      while (digits.length &lt; 6) {
        digits = '0' + digits;
      }
      result = '' + digits + result;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.xor" id="apidoc.element.mongolass.Timestamp.prototype.xor">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp.prototype.xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Timestamp.prototype.xor = function (other) {
  return Timestamp.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Types.ObjectId" id="apidoc.element.mongolass.Types.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.</span>Types.ObjectId
        <span class="apidocSignatureSpan">(actual)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectId(actual) {
  if (!validator.isMongoId(actual.toString())) {
    throw null;
  }
  return toObjectId(actual);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect" id="apidoc.element.mongolass.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>connect
        <span class="apidocSignatureSpan">(url, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (url, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = typeof args[args.length - 1] == 'function' ? args.pop() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Validate options object
  var err = validOptions(options);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Return a promise
  if(typeof callback != 'function') {
    return new promiseLibrary(function(resolve, reject) {
      // Did we have a validation error
      if(err) return reject(err);
      // Attempt to connect
      connect(url, options, function(err, db) {
        if(err) return reject(err);
        resolve(db);
      });
    });
  }

  // Did we have a validation error
  if(err) return callback(err);
  // Fallback to callback based connect
  connect(url, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.instrument" id="apidoc.element.mongolass.instrument">
        function <span class="apidocSignatureSpan">mongolass.</span>instrument
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">instrument = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  return new Instrumentation(core, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.toString" id="apidoc.element.mongolass.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin" id="apidoc.module.mongolass.Admin">module mongolass.Admin</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.Admin" id="apidoc.element.mongolass.Admin.Admin">
        function <span class="apidocSignatureSpan">mongolass.</span>Admin
        <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin = function (db, topology, promiseLibrary) {
  if(!(this instanceof Admin)) return new Admin(db, topology);

  // Internal state
  this.s = {
      db: db
    , topology: topology
    , promiseLibrary: promiseLibrary
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.define" id="apidoc.module.mongolass.Admin.define">module mongolass.Admin.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Admin.define.object" id="apidoc.element.mongolass.Admin.define.object">
        function <span class="apidocSignatureSpan">mongolass.Admin.define.</span>object
        <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (db, topology, promiseLibrary) {
  if(!(this instanceof Admin)) return new Admin(db, topology);

  // Internal state
  this.s = {
      db: db
    , topology: topology
    , promiseLibrary: promiseLibrary
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype" id="apidoc.module.mongolass.Admin.prototype">module mongolass.Admin.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.addUser" id="apidoc.element.mongolass.Admin.prototype.addUser">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addUser = function (username, password, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name to admin
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.addUser(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.addUser(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.authenticate" id="apidoc.element.mongolass.Admin.prototype.authenticate">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (username, password, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);
  options.authdb = 'admin';

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.authenticate(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.authenticate(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.buildInfo" id="apidoc.element.mongolass.Admin.prototype.buildInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>buildInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.serverInfo(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.serverInfo(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.command" id="apidoc.element.mongolass.Admin.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand(command, options, function(err, doc) {
    return callback != null ? callback(err, doc) : null;
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand(command, options, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.listDatabases" id="apidoc.element.mongolass.Admin.prototype.listDatabases">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>listDatabases
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listDatabases = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return self.s.db.executeDbAdminCommand({listDatabases:1}, {}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({listDatabases:1}, {}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.logout" id="apidoc.element.mongolass.Admin.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>logout
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.logout({dbName: 'admin'}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.logout({dbName: 'admin'}, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.ping" id="apidoc.element.mongolass.Admin.prototype.ping">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ping = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({ping: 1}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({ping: 1}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingInfo" id="apidoc.element.mongolass.Admin.prototype.profilingInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">profilingInfo = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingInfo(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingInfo(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingLevel" id="apidoc.element.mongolass.Admin.prototype.profilingLevel">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingLevel
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">profilingLevel = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingLevel(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingLevel(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.removeUser" id="apidoc.element.mongolass.Admin.prototype.removeUser">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeUser = function (username, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.removeUser(username, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.removeUser(username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus" id="apidoc.element.mongolass.Admin.prototype.replSetGetStatus">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>replSetGetStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replSetGetStatus = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return replSetGetStatus(self, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replSetGetStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverInfo" id="apidoc.element.mongolass.Admin.prototype.serverInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
    if(err != null) return callback(err, null);
    callback(null, doc);
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverStatus" id="apidoc.element.mongolass.Admin.prototype.serverStatus">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverStatus = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return serverStatus(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    serverStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel" id="apidoc.element.mongolass.Admin.prototype.setProfilingLevel">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>setProfilingLevel
        <span class="apidocSignatureSpan">(level, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setProfilingLevel = function (level, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return setProfilingLevel(self, level, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    setProfilingLevel(self, level, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.validateCollection" id="apidoc.element.mongolass.Admin.prototype.validateCollection">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>validateCollection
        <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateCollection = function (collectionName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function')
    return validateCollection(self, collectionName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    validateCollection(self, collectionName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.addUser" id="apidoc.module.mongolass.Admin.prototype.addUser">module mongolass.Admin.prototype.addUser</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.addUser.addUser" id="apidoc.element.mongolass.Admin.prototype.addUser.addUser">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addUser = function (username, password, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name to admin
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.addUser(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.addUser(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.authenticate" id="apidoc.module.mongolass.Admin.prototype.authenticate">module mongolass.Admin.prototype.authenticate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.authenticate.authenticate" id="apidoc.element.mongolass.Admin.prototype.authenticate.authenticate">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (username, password, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);
  options.authdb = 'admin';

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.authenticate(username, password, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.authenticate(username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.buildInfo" id="apidoc.module.mongolass.Admin.prototype.buildInfo">module mongolass.Admin.prototype.buildInfo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.buildInfo.buildInfo" id="apidoc.element.mongolass.Admin.prototype.buildInfo.buildInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>buildInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.serverInfo(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.serverInfo(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.command" id="apidoc.module.mongolass.Admin.prototype.command">module mongolass.Admin.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.command.command" id="apidoc.element.mongolass.Admin.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand(command, options, function(err, doc) {
    return callback != null ? callback(err, doc) : null;
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand(command, options, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.listDatabases" id="apidoc.module.mongolass.Admin.prototype.listDatabases">module mongolass.Admin.prototype.listDatabases</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.listDatabases.listDatabases" id="apidoc.element.mongolass.Admin.prototype.listDatabases.listDatabases">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>listDatabases
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listDatabases = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return self.s.db.executeDbAdminCommand({listDatabases:1}, {}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({listDatabases:1}, {}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.logout" id="apidoc.module.mongolass.Admin.prototype.logout">module mongolass.Admin.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.logout.logout" id="apidoc.element.mongolass.Admin.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>logout
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.logout({dbName: 'admin'}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.logout({dbName: 'admin'}, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.ping" id="apidoc.module.mongolass.Admin.prototype.ping">module mongolass.Admin.prototype.ping</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.ping.ping" id="apidoc.element.mongolass.Admin.prototype.ping.ping">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ping = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({ping: 1}, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({ping: 1}, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.profilingInfo" id="apidoc.module.mongolass.Admin.prototype.profilingInfo">module mongolass.Admin.prototype.profilingInfo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingInfo.profilingInfo" id="apidoc.element.mongolass.Admin.prototype.profilingInfo.profilingInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">profilingInfo = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingInfo(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingInfo(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.profilingLevel" id="apidoc.module.mongolass.Admin.prototype.profilingLevel">module mongolass.Admin.prototype.profilingLevel</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.profilingLevel.profilingLevel" id="apidoc.element.mongolass.Admin.prototype.profilingLevel.profilingLevel">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>profilingLevel
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">profilingLevel = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return profilingLevel(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    profilingLevel(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.removeUser" id="apidoc.module.mongolass.Admin.prototype.removeUser">module mongolass.Admin.prototype.removeUser</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.removeUser.removeUser" id="apidoc.element.mongolass.Admin.prototype.removeUser.removeUser">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeUser = function (username, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};
  // Get the options
  options = writeConcern(options, self.s.db)
  // Set the db name
  options.dbName = 'admin';

  // Execute using callback
  if(typeof callback == 'function')
    return self.s.db.removeUser(username, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.removeUser(username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.replSetGetStatus" id="apidoc.module.mongolass.Admin.prototype.replSetGetStatus">module mongolass.Admin.prototype.replSetGetStatus</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.replSetGetStatus.replSetGetStatus" id="apidoc.element.mongolass.Admin.prototype.replSetGetStatus.replSetGetStatus">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>replSetGetStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replSetGetStatus = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return replSetGetStatus(self, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replSetGetStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.serverInfo" id="apidoc.module.mongolass.Admin.prototype.serverInfo">module mongolass.Admin.prototype.serverInfo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverInfo.serverInfo" id="apidoc.element.mongolass.Admin.prototype.serverInfo.serverInfo">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverInfo
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverInfo = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return this.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
    if(err != null) return callback(err, null);
    callback(null, doc);
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.executeDbAdminCommand({buildinfo:1}, function(err, doc) {
      if(err) return reject(err);
      resolve(doc);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.serverStatus" id="apidoc.module.mongolass.Admin.prototype.serverStatus">module mongolass.Admin.prototype.serverStatus</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.serverStatus.serverStatus" id="apidoc.element.mongolass.Admin.prototype.serverStatus.serverStatus">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>serverStatus
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serverStatus = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return serverStatus(self, callback)

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    serverStatus(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.setProfilingLevel" id="apidoc.module.mongolass.Admin.prototype.setProfilingLevel">module mongolass.Admin.prototype.setProfilingLevel</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.setProfilingLevel.setProfilingLevel" id="apidoc.element.mongolass.Admin.prototype.setProfilingLevel.setProfilingLevel">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>setProfilingLevel
        <span class="apidocSignatureSpan">(level, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setProfilingLevel = function (level, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return setProfilingLevel(self, level, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    setProfilingLevel(self, level, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Admin.prototype.validateCollection" id="apidoc.module.mongolass.Admin.prototype.validateCollection">module mongolass.Admin.prototype.validateCollection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Admin.prototype.validateCollection.validateCollection" id="apidoc.element.mongolass.Admin.prototype.validateCollection.validateCollection">
        function <span class="apidocSignatureSpan">mongolass.Admin.prototype.</span>validateCollection
        <span class="apidocSignatureSpan">(collectionName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateCollection = function (collectionName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function')
    return validateCollection(self, collectionName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    validateCollection(self, collectionName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.BSONRegExp" id="apidoc.module.mongolass.BSONRegExp">module mongolass.BSONRegExp</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.BSONRegExp.BSONRegExp" id="apidoc.element.mongolass.BSONRegExp.BSONRegExp">
        function <span class="apidocSignatureSpan">mongolass.</span>BSONRegExp
        <span class="apidocSignatureSpan">(pattern, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BSONRegExp(pattern, options) {
  if(!(this instanceof BSONRegExp)) return new BSONRegExp();

  // Execute
  this._bsontype = 'BSONRegExp';
  this.pattern = pattern || '';
  this.options = options || '';

  // Validate options
  for(var i = 0; i &lt; this.options.length; i++) {
    if(!(this.options[i] == 'i'
      || this.options[i] == 'm'
      || this.options[i] == 'x'
      || this.options[i] == 'l'
      || this.options[i] == 's'
      || this.options[i] == 'u'
    )) {
      throw new Error('the regular expression options [' + this.options[i] + "] is not supported");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary" id="apidoc.module.mongolass.Binary">module mongolass.Binary</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.Binary" id="apidoc.element.mongolass.Binary.Binary">
        function <span class="apidocSignatureSpan">mongolass.</span>Binary
        <span class="apidocSignatureSpan">(buffer, subType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Binary(buffer, subType) {
  if(!(this instanceof Binary)) return new Binary(buffer, subType);

  this._bsontype = 'Binary';

  if(buffer instanceof Number) {
    this.sub_type = buffer;
    this.position = 0;
  } else {
    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;
    this.position = 0;
  }

  if(buffer != null &amp;&amp; !(buffer instanceof Number)) {
    // Only accept Buffer, Uint8Array or Arrays
    if(typeof buffer == 'string') {
      // Different ways of writing the length of the string for the different types
      if(typeof Buffer != 'undefined') {
        this.buffer = new Buffer(buffer);
      } else if(typeof Uint8Array != 'undefined' || (Object.prototype.toString.call(buffer) == '[object Array]')) {
        this.buffer = writeStringToArray(buffer);
      } else {
        throw new Error("only String, Buffer, Uint8Array or Array accepted");
      }
    } else {
      this.buffer = buffer;
    }
    this.position = buffer.length;
  } else {
    if(typeof Buffer != 'undefined') {
      this.buffer =  new Buffer(Binary.BUFFER_SIZE);
    } else if(typeof Uint8Array != 'undefined'){
      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));
    } else {
      this.buffer = new Array(Binary.BUFFER_SIZE);
    }
    // Set position to start of buffer
    this.position = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype" id="apidoc.module.mongolass.Binary.prototype">module mongolass.Binary.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.length" id="apidoc.element.mongolass.Binary.prototype.length">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>length
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function length() {
  return this.position;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.put" id="apidoc.element.mongolass.Binary.prototype.put">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>put
        <span class="apidocSignatureSpan">(byte_value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(byte_value) {
  // If it's a string and a has more than one character throw an error
  if(byte_value['length'] != null &amp;&amp; typeof byte_value != 'number' &amp;&amp; byte_value.length != 1) throw new Error("only accepts single
 character String, Uint8Array or Array");
  if(typeof byte_value != 'number' &amp;&amp; byte_value &lt; 0 || byte_value &gt; 255) throw new Error("only accepts number in a valid unsigned
 byte range 0-255");

  // Decode the byte value once
  var decoded_byte = null;
  if(typeof byte_value == 'string') {
    decoded_byte = byte_value.charCodeAt(0);
  } else if(byte_value['length'] != null) {
    decoded_byte = byte_value[0];
  } else {
    decoded_byte = byte_value;
  }

  if(this.buffer.length &gt; this.position) {
    this.buffer[this.position++] = decoded_byte;
  } else {
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      // Create additional overflow buffer
      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);
      // Combine the two buffers together
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
      this.buffer = buffer;
      this.buffer[this.position++] = decoded_byte;
    } else {
      var buffer = null;
      // Create a new buffer (typed or normal array)
      if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));
      } else {
        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);
      }

      // We need to copy all the content to the new array
      for(var i = 0; i &lt; this.buffer.length; i++) {
        buffer[i] = this.buffer[i];
      }

      // Reassign the buffer
      this.buffer = buffer;
      // Write the byte
      this.buffer[this.position++] = decoded_byte;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.read" id="apidoc.element.mongolass.Binary.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>read
        <span class="apidocSignatureSpan">(position, length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(position, length) {
  length = length &amp;&amp; length &gt; 0
    ? length
    : this.position;

  // Let's return the data based on the type we have
  if(this.buffer['slice']) {
    return this.buffer.slice(position, position + length);
  } else {
    // Create a buffer to keep the result
    var buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);
    for(var i = 0; i &lt; length; i++) {
      buffer[i] = this.buffer[position++];
    }
  }
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toJSON" id="apidoc.element.mongolass.Binary.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.buffer != null ? this.buffer.toString('base64') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toString" id="apidoc.element.mongolass.Binary.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toString
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (format) {
  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.value" id="apidoc.element.mongolass.Binary.prototype.value">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>value
        <span class="apidocSignatureSpan">(asRaw)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function value(asRaw) {
  asRaw = asRaw == null ? false : asRaw;

  // Optimize to serialize for the situation where the data == size of buffer
  if(asRaw &amp;&amp; typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer) &amp;&amp; this.buffer.length == this.position)
    return this.buffer;

  // If it's a node.js buffer object
  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);
  } else {
    if(asRaw) {
      // we support the slice command use it
      if(this.buffer['slice'] != null) {
        return this.buffer.slice(0, this.position);
      } else {
        // Create a new buffer to copy content to
        var newBuffer = Object.prototype.toString.call(this.buffer) == '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this
.position)) : new Array(this.position);
        // Copy content
        for(var i = 0; i &lt; this.position; i++) {
          newBuffer[i] = this.buffer[i];
        }
        // Return the buffer
        return newBuffer;
      }
    } else {
      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.write" id="apidoc.element.mongolass.Binary.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>write
        <span class="apidocSignatureSpan">(string, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(string, offset) {
  offset = typeof offset == 'number' ? offset : this.position;

  // If the buffer is to small let's extend the buffer
  if(this.buffer.length &lt; offset + string.length) {
    var buffer = null;
    // If we are in node.js
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      buffer = new Buffer(this.buffer.length + string.length);
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
    } else if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
      // Create a new buffer
      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length))
      // Copy the content
      for(var i = 0; i &lt; this.position; i++) {
        buffer[i] = this.buffer[i];
      }
    }

    // Assign the new buffer
    this.buffer = buffer;
  }

  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(string) &amp;&amp; Buffer.isBuffer(this.buffer)) {
    string.copy(this.buffer, offset, 0, string.length);
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length
  } else if(typeof Buffer != 'undefined' &amp;&amp; typeof string == 'string' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    this.buffer.write(string, offset, 'binary');
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length;
  } else if(Object.prototype.toString.call(string) == '[object Uint8Array]'
    || Object.prototype.toString.call(string) == '[object Array]' &amp;&amp; typeof string != 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string[i];
    }

    this.position = offset &gt; this.position ? offset : this.position;
  } else if(typeof string == 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string.charCodeAt(i);
    }

    this.position = offset &gt; this.position ? offset : this.position;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.length" id="apidoc.module.mongolass.Binary.prototype.length">module mongolass.Binary.prototype.length</a></h1>

</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.put" id="apidoc.module.mongolass.Binary.prototype.put">module mongolass.Binary.prototype.put</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.put.put" id="apidoc.element.mongolass.Binary.prototype.put.put">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>put
        <span class="apidocSignatureSpan">(byte_value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(byte_value) {
  // If it's a string and a has more than one character throw an error
  if(byte_value['length'] != null &amp;&amp; typeof byte_value != 'number' &amp;&amp; byte_value.length != 1) throw new Error("only accepts single
 character String, Uint8Array or Array");
  if(typeof byte_value != 'number' &amp;&amp; byte_value &lt; 0 || byte_value &gt; 255) throw new Error("only accepts number in a valid unsigned
 byte range 0-255");

  // Decode the byte value once
  var decoded_byte = null;
  if(typeof byte_value == 'string') {
    decoded_byte = byte_value.charCodeAt(0);
  } else if(byte_value['length'] != null) {
    decoded_byte = byte_value[0];
  } else {
    decoded_byte = byte_value;
  }

  if(this.buffer.length &gt; this.position) {
    this.buffer[this.position++] = decoded_byte;
  } else {
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      // Create additional overflow buffer
      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);
      // Combine the two buffers together
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
      this.buffer = buffer;
      this.buffer[this.position++] = decoded_byte;
    } else {
      var buffer = null;
      // Create a new buffer (typed or normal array)
      if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));
      } else {
        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);
      }

      // We need to copy all the content to the new array
      for(var i = 0; i &lt; this.buffer.length; i++) {
        buffer[i] = this.buffer[i];
      }

      // Reassign the buffer
      this.buffer = buffer;
      // Write the byte
      this.buffer[this.position++] = decoded_byte;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.read" id="apidoc.module.mongolass.Binary.prototype.read">module mongolass.Binary.prototype.read</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.read.read" id="apidoc.element.mongolass.Binary.prototype.read.read">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>read
        <span class="apidocSignatureSpan">(position, length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(position, length) {
  length = length &amp;&amp; length &gt; 0
    ? length
    : this.position;

  // Let's return the data based on the type we have
  if(this.buffer['slice']) {
    return this.buffer.slice(position, position + length);
  } else {
    // Create a buffer to keep the result
    var buffer = typeof Uint8Array != 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);
    for(var i = 0; i &lt; length; i++) {
      buffer[i] = this.buffer[position++];
    }
  }
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.toJSON" id="apidoc.module.mongolass.Binary.prototype.toJSON">module mongolass.Binary.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Binary.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.buffer != null ? this.buffer.toString('base64') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.toString" id="apidoc.module.mongolass.Binary.prototype.toString">module mongolass.Binary.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.toString.toString" id="apidoc.element.mongolass.Binary.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.value" id="apidoc.module.mongolass.Binary.prototype.value">module mongolass.Binary.prototype.value</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.value.value" id="apidoc.element.mongolass.Binary.prototype.value.value">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>value
        <span class="apidocSignatureSpan">(asRaw)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function value(asRaw) {
  asRaw = asRaw == null ? false : asRaw;

  // Optimize to serialize for the situation where the data == size of buffer
  if(asRaw &amp;&amp; typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer) &amp;&amp; this.buffer.length == this.position)
    return this.buffer;

  // If it's a node.js buffer object
  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);
  } else {
    if(asRaw) {
      // we support the slice command use it
      if(this.buffer['slice'] != null) {
        return this.buffer.slice(0, this.position);
      } else {
        // Create a new buffer to copy content to
        var newBuffer = Object.prototype.toString.call(this.buffer) == '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this
.position)) : new Array(this.position);
        // Copy content
        for(var i = 0; i &lt; this.position; i++) {
          newBuffer[i] = this.buffer[i];
        }
        // Return the buffer
        return newBuffer;
      }
    } else {
      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Binary.prototype.write" id="apidoc.module.mongolass.Binary.prototype.write">module mongolass.Binary.prototype.write</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Binary.prototype.write.write" id="apidoc.element.mongolass.Binary.prototype.write.write">
        function <span class="apidocSignatureSpan">mongolass.Binary.prototype.</span>write
        <span class="apidocSignatureSpan">(string, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(string, offset) {
  offset = typeof offset == 'number' ? offset : this.position;

  // If the buffer is to small let's extend the buffer
  if(this.buffer.length &lt; offset + string.length) {
    var buffer = null;
    // If we are in node.js
    if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(this.buffer)) {
      buffer = new Buffer(this.buffer.length + string.length);
      this.buffer.copy(buffer, 0, 0, this.buffer.length);
    } else if(Object.prototype.toString.call(this.buffer) == '[object Uint8Array]') {
      // Create a new buffer
      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length))
      // Copy the content
      for(var i = 0; i &lt; this.position; i++) {
        buffer[i] = this.buffer[i];
      }
    }

    // Assign the new buffer
    this.buffer = buffer;
  }

  if(typeof Buffer != 'undefined' &amp;&amp; Buffer.isBuffer(string) &amp;&amp; Buffer.isBuffer(this.buffer)) {
    string.copy(this.buffer, offset, 0, string.length);
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length
  } else if(typeof Buffer != 'undefined' &amp;&amp; typeof string == 'string' &amp;&amp; Buffer.isBuffer(this.buffer)) {
    this.buffer.write(string, offset, 'binary');
    this.position = (offset + string.length) &gt; this.position ? (offset + string.length) : this.position;
    // offset = string.length;
  } else if(Object.prototype.toString.call(string) == '[object Uint8Array]'
    || Object.prototype.toString.call(string) == '[object Array]' &amp;&amp; typeof string != 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string[i];
    }

    this.position = offset &gt; this.position ? offset : this.position;
  } else if(typeof string == 'string') {
    for(var i = 0; i &lt; string.length; i++) {
      this.buffer[offset++] = string.charCodeAt(i);
    }

    this.position = offset &gt; this.position ? offset : this.position;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk" id="apidoc.module.mongolass.Chunk">module mongolass.Chunk</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.Chunk" id="apidoc.element.mongolass.Chunk.Chunk">
        function <span class="apidocSignatureSpan">mongolass.</span>Chunk
        <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk = function (file, mongoObject, writeConcern) {
  if(!(this instanceof Chunk)) return new Chunk(file, mongoObject);

  this.file = file;
  var mongoObjectFinal = mongoObject == null ? {} : mongoObject;
  this.writeConcern = writeConcern || {w:1};
  this.objectId = mongoObjectFinal._id == null ? new ObjectID() : mongoObjectFinal._id;
  this.chunkNumber = mongoObjectFinal.n == null ? 0 : mongoObjectFinal.n;
  this.data = new Binary();

  if(typeof mongoObjectFinal.data == "string") {
    var buffer = new Buffer(mongoObjectFinal.data.length);
    buffer.write(mongoObjectFinal.data, 0, mongoObjectFinal.data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(Array.isArray(mongoObjectFinal.data)) {
    buffer = new Buffer(mongoObjectFinal.data.length);
    var data = mongoObjectFinal.data.join('');
    buffer.write(data, 0, data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(mongoObjectFinal.data &amp;&amp; mongoObjectFinal.data._bsontype === 'Binary') {
    this.data = mongoObjectFinal.data;
  } else if(!Buffer.isBuffer(mongoObjectFinal.data) &amp;&amp; !(mongoObjectFinal.data == null)){
    throw Error("Illegal chunk format");
  }

  // Update position
  this.internalPosition = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype" id="apidoc.module.mongolass.Chunk.prototype">module mongolass.Chunk.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject" id="apidoc.element.mongolass.Chunk.prototype.buildMongoObject">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>buildMongoObject
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildMongoObject = function (callback) {
  var mongoObject = {
    'files_id': this.file.fileId,
    'n': this.chunkNumber,
    'data': this.data};
  // If we are saving using a specific ObjectId
  if(this.objectId != null) mongoObject._id = this.objectId;

  callback(mongoObject);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.eof" id="apidoc.element.mongolass.Chunk.prototype.eof">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eof = function () {
  return this.internalPosition == this.length() ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.getc" id="apidoc.element.mongolass.Chunk.prototype.getc">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>getc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getc = function () {
  return this.read(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.length" id="apidoc.element.mongolass.Chunk.prototype.length">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>length
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">length = function () {
  return this.data.length();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.read" id="apidoc.element.mongolass.Chunk.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>read
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (length) {
  // Default to full read if no index defined
  length = length == null || length == 0 ? this.length() : length;

  if(this.length() - this.internalPosition + 1 &gt;= length) {
    var data = this.data.read(this.internalPosition, length);
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return '';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.readSlice" id="apidoc.element.mongolass.Chunk.prototype.readSlice">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>readSlice
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readSlice = function (length) {
  if ((this.length() - this.internalPosition) &gt;= length) {
    var data = null;
    if (this.data.buffer != null) { //Pure BSON
      data = this.data.buffer.slice(this.internalPosition, this.internalPosition + length);
    } else { //Native BSON
      data = new Buffer(length);
      length = this.data.readInto(data, this.internalPosition);
    }
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.rewind" id="apidoc.element.mongolass.Chunk.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function () {
  this.internalPosition = 0;
  this.data = new Binary();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.save" id="apidoc.element.mongolass.Chunk.prototype.save">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>save
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function (options, callback) {
  var self = this;
  if(typeof options == 'function') {
    callback = options;
    options = {};
  }

  self.file.chunkCollection(function(err, collection) {
    if(err) return callback(err);

    // Merge the options
    var writeOptions = { upsert: true };
    for(var name in options) writeOptions[name] = options[name];
    for(name in self.writeConcern) writeOptions[name] = self.writeConcern[name];

    if(self.data.length() &gt; 0) {
      self.buildMongoObject(function(mongoObject) {
        var options = {forceServerObjectId:true};
        for(var name in self.writeConcern) {
          options[name] = self.writeConcern[name];
        }

        collection.replaceOne({'_id':self.objectId}, mongoObject, writeOptions, function(err) {
          callback(err, self);
        });
      });
    } else {
      callback(null, self);
    }
    // });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.write" id="apidoc.element.mongolass.Chunk.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>write
        <span class="apidocSignatureSpan">(data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (data, callback) {
  this.data.write(data, this.internalPosition, data.length, 'binary');
  this.internalPosition = this.data.length();
  if(callback != null) return callback(null, this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.buildMongoObject" id="apidoc.module.mongolass.Chunk.prototype.buildMongoObject">module mongolass.Chunk.prototype.buildMongoObject</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.buildMongoObject.buildMongoObject" id="apidoc.element.mongolass.Chunk.prototype.buildMongoObject.buildMongoObject">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>buildMongoObject
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildMongoObject = function (callback) {
  var mongoObject = {
    'files_id': this.file.fileId,
    'n': this.chunkNumber,
    'data': this.data};
  // If we are saving using a specific ObjectId
  if(this.objectId != null) mongoObject._id = this.objectId;

  callback(mongoObject);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.eof" id="apidoc.module.mongolass.Chunk.prototype.eof">module mongolass.Chunk.prototype.eof</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.eof.eof" id="apidoc.element.mongolass.Chunk.prototype.eof.eof">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eof = function () {
  return this.internalPosition == this.length() ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.getc" id="apidoc.module.mongolass.Chunk.prototype.getc">module mongolass.Chunk.prototype.getc</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.getc.getc" id="apidoc.element.mongolass.Chunk.prototype.getc.getc">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>getc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getc = function () {
  return this.read(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.length" id="apidoc.module.mongolass.Chunk.prototype.length">module mongolass.Chunk.prototype.length</a></h1>

</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.read" id="apidoc.module.mongolass.Chunk.prototype.read">module mongolass.Chunk.prototype.read</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.read.read" id="apidoc.element.mongolass.Chunk.prototype.read.read">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>read
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (length) {
  // Default to full read if no index defined
  length = length == null || length == 0 ? this.length() : length;

  if(this.length() - this.internalPosition + 1 &gt;= length) {
    var data = this.data.read(this.internalPosition, length);
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return '';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.readSlice" id="apidoc.module.mongolass.Chunk.prototype.readSlice">module mongolass.Chunk.prototype.readSlice</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.readSlice.readSlice" id="apidoc.element.mongolass.Chunk.prototype.readSlice.readSlice">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>readSlice
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readSlice = function (length) {
  if ((this.length() - this.internalPosition) &gt;= length) {
    var data = null;
    if (this.data.buffer != null) { //Pure BSON
      data = this.data.buffer.slice(this.internalPosition, this.internalPosition + length);
    } else { //Native BSON
      data = new Buffer(length);
      length = this.data.readInto(data, this.internalPosition);
    }
    this.internalPosition = this.internalPosition + length;
    return data;
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.rewind" id="apidoc.module.mongolass.Chunk.prototype.rewind">module mongolass.Chunk.prototype.rewind</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.rewind.rewind" id="apidoc.element.mongolass.Chunk.prototype.rewind.rewind">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function () {
  this.internalPosition = 0;
  this.data = new Binary();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.save" id="apidoc.module.mongolass.Chunk.prototype.save">module mongolass.Chunk.prototype.save</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.save.save" id="apidoc.element.mongolass.Chunk.prototype.save.save">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>save
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function (options, callback) {
  var self = this;
  if(typeof options == 'function') {
    callback = options;
    options = {};
  }

  self.file.chunkCollection(function(err, collection) {
    if(err) return callback(err);

    // Merge the options
    var writeOptions = { upsert: true };
    for(var name in options) writeOptions[name] = options[name];
    for(name in self.writeConcern) writeOptions[name] = self.writeConcern[name];

    if(self.data.length() &gt; 0) {
      self.buildMongoObject(function(mongoObject) {
        var options = {forceServerObjectId:true};
        for(var name in self.writeConcern) {
          options[name] = self.writeConcern[name];
        }

        collection.replaceOne({'_id':self.objectId}, mongoObject, writeOptions, function(err) {
          callback(err, self);
        });
      });
    } else {
      callback(null, self);
    }
    // });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Chunk.prototype.write" id="apidoc.module.mongolass.Chunk.prototype.write">module mongolass.Chunk.prototype.write</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Chunk.prototype.write.write" id="apidoc.element.mongolass.Chunk.prototype.write.write">
        function <span class="apidocSignatureSpan">mongolass.Chunk.prototype.</span>write
        <span class="apidocSignatureSpan">(data, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (data, callback) {
  this.data.write(data, this.internalPosition, data.length, 'binary');
  this.internalPosition = this.data.length();
  if(callback != null) return callback(null, this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Code" id="apidoc.module.mongolass.Code">module mongolass.Code</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Code.Code" id="apidoc.element.mongolass.Code.Code">
        function <span class="apidocSignatureSpan">mongolass.</span>Code
        <span class="apidocSignatureSpan">(code, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Code(code, scope) {
  if(!(this instanceof Code)) return new Code(code, scope);
  this._bsontype = 'Code';
  this.code = code;
  this.scope = scope;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Code.prototype" id="apidoc.module.mongolass.Code.prototype">module mongolass.Code.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Code.prototype.toJSON" id="apidoc.element.mongolass.Code.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Code.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {scope:this.scope, code:this.code};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Code.prototype.toJSON" id="apidoc.module.mongolass.Code.prototype.toJSON">module mongolass.Code.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Code.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Code.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Code.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {scope:this.scope, code:this.code};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection" id="apidoc.module.mongolass.Collection">module mongolass.Collection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.Collection" id="apidoc.element.mongolass.Collection.Collection">
        function <span class="apidocSignatureSpan">mongolass.</span>Collection
        <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection = function (db, topology, dbName, name, pkFactory, options) {
  checkCollectionName(name);

  // Unpack variables
  var internalHint = null;
  var slaveOk = options == null || options.slaveOk == null ? db.slaveOk : options.slaveOk;
  var serializeFunctions = options == null || options.serializeFunctions == null ? db.s.options.serializeFunctions : options.serializeFunctions
;
  var raw = options == null || options.raw == null ? db.s.options.raw : options.raw;
  var promoteLongs = options == null || options.promoteLongs == null ? db.s.options.promoteLongs : options.promoteLongs;
  var promoteValues = options == null || options.promoteValues == null ? db.s.options.promoteValues : options.promoteValues;
  var promoteBuffers = options == null || options.promoteBuffers == null ? db.s.options.promoteBuffers : options.promoteBuffers;
  var readPreference = null;
  var collectionHint = null;
  var namespace = f("%s.%s", dbName, name);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Assign the right collection level readPreference
  if(options &amp;&amp; options.readPreference) {
    readPreference = options.readPreference;
  } else if(db.options.readPreference) {
    readPreference = db.options.readPreference;
  }

  // Set custom primary key factory if provided
  pkFactory = pkFactory == null
    ? ObjectID
    : pkFactory;

  // Internal state
  this.s = {
    // Set custom primary key factory if provided
      pkFactory: pkFactory
    // Db
    , db: db
    // Topology
    , topology: topology
    // dbName
    , dbName: dbName
    // Options
    , options: options
    // Namespace
    , namespace: namespace
    // Read preference
    , readPreference: readPreference
    // SlaveOK
    , slaveOk: slaveOk
    // Serialize functions
    , serializeFunctions: serializeFunctions
    // Raw
    , raw: raw
    // promoteLongs
    , promoteLongs: promoteLongs
    // promoteValues
    , promoteValues: promoteValues
    // promoteBuffers
    , promoteBuffers: promoteBuffers
    // internalHint
    , internalHint: internalHint
    // collectionHint
    , collectionHint: collectionHint
    // Name
    , name: name
    // Promise library
    , promiseLibrary: promiseLibrary
    // Read Concern
    , readConcern: options.readConcern
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.define" id="apidoc.module.mongolass.Collection.define">module mongolass.Collection.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Collection.define.object" id="apidoc.element.mongolass.Collection.define.object">
        function <span class="apidocSignatureSpan">mongolass.Collection.define.</span>object
        <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (db, topology, dbName, name, pkFactory, options) {
  checkCollectionName(name);

  // Unpack variables
  var internalHint = null;
  var slaveOk = options == null || options.slaveOk == null ? db.slaveOk : options.slaveOk;
  var serializeFunctions = options == null || options.serializeFunctions == null ? db.s.options.serializeFunctions : options.serializeFunctions
;
  var raw = options == null || options.raw == null ? db.s.options.raw : options.raw;
  var promoteLongs = options == null || options.promoteLongs == null ? db.s.options.promoteLongs : options.promoteLongs;
  var promoteValues = options == null || options.promoteValues == null ? db.s.options.promoteValues : options.promoteValues;
  var promoteBuffers = options == null || options.promoteBuffers == null ? db.s.options.promoteBuffers : options.promoteBuffers;
  var readPreference = null;
  var collectionHint = null;
  var namespace = f("%s.%s", dbName, name);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Assign the right collection level readPreference
  if(options &amp;&amp; options.readPreference) {
    readPreference = options.readPreference;
  } else if(db.options.readPreference) {
    readPreference = db.options.readPreference;
  }

  // Set custom primary key factory if provided
  pkFactory = pkFactory == null
    ? ObjectID
    : pkFactory;

  // Internal state
  this.s = {
    // Set custom primary key factory if provided
      pkFactory: pkFactory
    // Db
    , db: db
    // Topology
    , topology: topology
    // dbName
    , dbName: dbName
    // Options
    , options: options
    // Namespace
    , namespace: namespace
    // Read preference
    , readPreference: readPreference
    // SlaveOK
    , slaveOk: slaveOk
    // Serialize functions
    , serializeFunctions: serializeFunctions
    // Raw
    , raw: raw
    // promoteLongs
    , promoteLongs: promoteLongs
    // promoteValues
    , promoteValues: promoteValues
    // promoteBuffers
    , promoteBuffers: promoteBuffers
    // internalHint
    , internalHint: internalHint
    // collectionHint
    , collectionHint: collectionHint
    // Name
    , name: name
    // Promise library
    , promiseLibrary: promiseLibrary
    // Read Concern
    , readConcern: options.readConcern
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype" id="apidoc.module.mongolass.Collection.prototype">module mongolass.Collection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.aggregate" id="apidoc.element.mongolass.Collection.prototype.aggregate">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>aggregate
        <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">aggregate = function (pipeline, options, callback) {
  var self = this;

  if(Array.isArray(pipeline)) {
    // Set up callback if one is provided
    if(typeof options == 'function') {
      callback = options;
      options = {};
    }

    // If we have no options or callback we are doing
    // a cursor based aggregation
    if(options == null &amp;&amp; callback == null) {
      options = {};
    }
  } else {
    // Aggregation pipeline passed as arguments on the method
    var args = Array.prototype.slice.call(arguments, 0);
    // Get the callback
    callback = args.pop();
    // Get the possible options object
    var opts = args[args.length - 1];
    // If it contains any of the admissible options pop it of the args
    options = opts &amp;&amp; (opts.readPreference
      || opts.explain || opts.cursor || opts.out
      || opts.maxTimeMS || opts.allowDiskUse) ? args.pop() : {};
      // Left over arguments is the pipeline
    pipeline = args;
  }

  // Ignore readConcern option
  var ignoreReadConcern = false;

  // Build the command
  var command = { aggregate : this.s.name, pipeline : pipeline};

  // If out was specified
  if(typeof options.out == 'string') {
    pipeline.push({$out: options.out});
    // Ignore read concern
    ignoreReadConcern = true;
  } else if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    ignoreReadConcern = true;
  }

  // Decorate command with writeConcern if out has been specified
  if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    decorateWithWriteConcern(command, self, options);
  }

  // Have we specified collation
  decorateWithCollation(command, self, options);

  // If we have bypassDocumentValidation set
  if(typeof options.bypassDocumentValidation == 'boolean') {
    command.bypassDocumentValidation = options.bypassDocumentValidation;
  }

  // Do we have a readConcern specified
  if(!ignoreReadConcern &amp;&amp; this.s.readConcern) {
    command.readConcern = this.s.readConcern;
  }

  // If we have allowDiskUse defined
  if(options.allowDiskUse) command.allowDiskUse = options.allowDiskUse;
  if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // If explain has been specified add it
  if(options.explain) command.explain = options.explain;

  // Validate that cursor options is valid
  if(options.cursor != null &amp;&amp; typeof options.cursor != 'object') {
    throw toError('cursor options must be an object');
  }

  // promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Set the AggregationCursor constructor
  options.cursorFactory = AggregationCursor;
  if(typeof callback != 'function') {
    if(!this.s.topology.capabilities()) {
      throw new MongoError('cannot connect to server');
    }

    if(this.s.topology.capabilities().hasAggregationCursor) {
      options.cursor = options.cursor || { batchSize : 1000 };
      command.cursor = options.cursor;
    }

    // Allow disk usage command
    if(typeof options.allowDiskUse == 'boolean') command.allowDiskUse = options.allowDiskUse;
    if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

    // Execute the cursor
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // We do not allow cursor
  if(options.cursor) {
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // Execute the command
  this.s.db.command(command, options, function(err, result) {
    if(err) {
      handleCallback(callback, err);
    } else if(result['err'] || result['errmsg']) {
      handleCallback(callback, toError(result));
    } else if(typeof result == 'object' &amp;&amp; result['serverPipeline']) {
      handleCallback(callback, null, result['serverPipeline']);
    } else if(typeof result == 'object' &amp;&amp; result['stages']) {
      handleCallback(callback, null, result['stages']);
    } else {
      handleCallback(callback, null, result.result);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.bulkWrite" id="apidoc.element.mongolass.Collection.prototype.bulkWrite">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>bulkWrite
        <span class="apidocSignatureSpan">(operations, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bulkWrite = function (operations, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};

  if(!Array.isArray(operations)) {
    throw MongoError.create({message: "operations must be an array of documents", driver:true });
  }

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err &amp;&amp; r == null) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.count" id="apidoc.element.mongolass.Collection.prototype.count">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>count
        <span class="apidocSignatureSpan">(query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, queryOption, optionsOption, callback);

  // Check if query is empty
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndex" id="apidoc.element.mongolass.Collection.prototype.createIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;

  // Execute using callback
  if(typeof callback == 'function') return createIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndexes" id="apidoc.element.mongolass.Collection.prototype.createIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndexes
        <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndexes = function (indexSpecs, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return createIndexes(self, indexSpecs, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndexes(self, indexSpecs, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteMany" id="apidoc.element.mongolass.Collection.prototype.deleteMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteMany
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteMany = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteMany(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteMany(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteOne" id="apidoc.element.mongolass.Collection.prototype.deleteOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteOne
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteOne = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteOne(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteOne(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.distinct" id="apidoc.element.mongolass.Collection.prototype.distinct">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>distinct
        <span class="apidocSignatureSpan">(key, query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">distinct = function (key, query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return distinct(self, key, queryOption, optionsOption, callback);

  // Ensure the query and options are set
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    distinct(self, key, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.drop" id="apidoc.element.mongolass.Collection.prototype.drop">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>drop
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drop = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return self.s.db.dropCollection(self.s.name, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.dropCollection(self.s.name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropAllIndexes" id="apidoc.element.mongolass.Collection.prototype.dropAllIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropAllIndexes
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropAllIndexes = function (options, callback) {
  var self = this;

  // Do we have options
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return dropIndexes(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndex" id="apidoc.element.mongolass.Collection.prototype.dropIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndex
        <span class="apidocSignatureSpan">(indexName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndex = function (indexName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  // Run only against primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return dropIndex(self, indexName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndex(self, indexName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndexes" id="apidoc.element.mongolass.Collection.prototype.dropIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndexes
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndexes = function (options, callback) {
  var self = this;

  // Do we have options
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return dropIndexes(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.ensureIndex" id="apidoc.element.mongolass.Collection.prototype.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>ensureIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensureIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return ensureIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.find" id="apidoc.element.mongolass.Collection.prototype.find">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>find
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function () {
  var options
    , args = Array.prototype.slice.call(arguments, 0)
    , has_callback = typeof args[args.length - 1] === 'function'
    , has_weird_callback = typeof args[0] === 'function'
    , callback = has_callback ? args.pop() : (has_weird_callback ? args.shift() : null)
    , len = args.length
    , selector = len &gt;= 1 ? args[0] : {}
    , fields = len &gt;= 2 ? args[1] : undefined;

  if(len === 1 &amp;&amp; has_weird_callback) {
    // backwards compat for callback?, options case
    selector = {};
    options = args[0];
  }

  if(len === 2 &amp;&amp; fields !== undefined &amp;&amp; !Array.isArray(fields)) {
    var fieldKeys = Object.keys(fields);
    var is_option = false;

    for(var i = 0; i &lt; fieldKeys.length; i++) {
      if(testForFields[fieldKeys[i]] != null) {
        is_option = true;
        break;
      }
    }

    if(is_option) {
      options = fields;
      fields = undefined;
    } else {
      options = {};
    }
  } else if(len === 2 &amp;&amp; Array.isArray(fields) &amp;&amp; !Array.isArray(fields[0])) {
    var newFields = {};
    // Rewrite the array
    for(i = 0; i &lt; fields.length; i++) {
      newFields[fields[i]] = 1;
    }
    // Set the fields
    fields = newFields;
  }

  if(3 === len) {
    options = args[2];
  }

  // Ensure selector is not null
  selector = selector == null ? {} : selector;
  // Validate correctness off the selector
  var object = selector;
  if(Buffer.isBuffer(object)) {
    var object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      var error = new Error("query selector raw message size does not match message header size [" + object.length + "] != [" +
object_size + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Validate correctness of the field selector
  object = fields;
  if(Buffer.isBuffer(object)) {
    object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      error = new Error("query fields raw message size does not match message header size [" + object.length + "] != [" + object_size
 + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Check special case where we are using an objectId
  if(selector != null &amp;&amp; selector._bsontype == 'ObjectID') {
    selector = {_id:selector};
  }

  // If it's a serialized fields field we need to just let it through
  // user be warned it better be good
  if(options &amp;&amp; options.fields &amp;&amp; !(Buffer.isBuffer(options.fields))) {
    fields = {};

    if(Array.isArray(options.fields)) {
      if(!options.fields.length) {
        fields['_id'] = 1;
      } else {
        var l = options.fields.length;

        for (i = 0; i &lt; l; i++) {
          fields[options.fields[i]] = 1;
        }
      }
    } else {
      fields = options.fields;
    }
  }

  if (!options) options = {};

  var newOptions = {};
  // Make a shallow copy of options
  for (var key in options) {
    newOptions[key] = options[key];
  }

  // Unpack options
  newOptions.skip = len &gt; 3 ? args[2] : options.skip ? options.skip : 0;
  newOptions.limit = len &gt; 3 ? args[3] : options.limit ? options.limit : 0;
  newOptions.raw = options.raw != null &amp;&amp; typeof options.raw === 'boolean' ? options.raw : this.s.raw;
  newOptions.hint = options.hint != null ? normalizeHintField(options.hint) : this.s.collectionHint;
  newOptions.timeout = len == 5 ? args[4] : typeof options.timeout === 'undefined' ? undefined : options.timeout;
  // // If we have overridden slaveOk otherwise use the default db setting
  newOptions.slaveOk = options.slaveOk != null ? options.slaveOk : this.s.db.slaveOk;

  // Add read preference if needed
  newOptions = getReadPreference(this, newOptions, this.s.db, this);

  // Set slave ok to true if read preference different from primary
  if(newOptions.readPreference != null
    &amp;&amp; (newOptions.readPreference != 'primary' || newOptions.readPreference.mode != 'primary')) {
    newOptions.slaveOk = true;
  }

  // Ensure the query is an object
  if(selector != null &amp;&amp; typeof selector != 'object') { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .<span class="apidocCodeKeywordSpan">find</span>()
  .select({ name: 1, age: 1 })
  .sort({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndModify" id="apidoc.element.mongolass.Collection.prototype.findAndModify">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndModify
        <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findAndModify = function (query, sort, doc, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  doc = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Clone options
  options = shallowClone(options);
  // Force read preference primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return findAndModify(self, query, sort, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findAndModify(self, query, sort, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndRemove" id="apidoc.element.mongolass.Collection.prototype.findAndRemove">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndRemove
        <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findAndRemove = function (query, sort, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return findAndRemove(self, query, sort, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findAndRemove(self, query, sort, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOne" id="apidoc.element.mongolass.Collection.prototype.findOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOne
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOne = function () {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  var callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return findOne(self, args, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findOne(self, args, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return user;
  });
}
});

co(function* () {
yield User.insert({ firstname: 'san', lastname: 'zhang' }).addCreatedAt('YYYY-MM-DD');// when use
yield, .exec() is omissible.
console.log(yield User.<span class="apidocCodeKeywordSpan">findOne</span>().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
// [ { _id: 5850186544c3b82d23a82e45,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete" id="apidoc.element.mongolass.Collection.prototype.findOneAndDelete">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndDelete
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndDelete = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndDelete(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndDelete(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace" id="apidoc.element.mongolass.Collection.prototype.findOneAndReplace">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndReplace
        <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndReplace = function (filter, replacement, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(replacement == null || typeof replacement != 'object') throw toError('replacement parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndReplace(self, filter, replacement, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndReplace(self, filter, replacement, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate" id="apidoc.element.mongolass.Collection.prototype.findOneAndUpdate">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndUpdate
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndUpdate = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(update == null || typeof update != 'object') throw toError('update parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndUpdate(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndUpdate(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch" id="apidoc.element.mongolass.Collection.prototype.geoHaystackSearch">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoHaystackSearch
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">geoHaystackSearch = function (x, y, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoHaystackSearch(self, x, y, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoHaystackSearch(self, x, y, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoNear" id="apidoc.element.mongolass.Collection.prototype.geoNear">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoNear
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">geoNear = function (x, y, options, callback) {
  var self = this;
  var point = typeof(x) == 'object' &amp;&amp; x
    , args = Array.prototype.slice.call(arguments, point?1:2);

  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoNear(self, x, y, point, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoNear(self, x, y, point, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.group" id="apidoc.element.mongolass.Collection.prototype.group">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>group
        <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">group = function (keys, condition, initial, reduce, finalize, command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 3);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  reduce = args.length ? args.shift() : null;
  finalize = args.length ? args.shift() : null;
  command = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Make sure we are backward compatible
  if(!(typeof finalize == 'function')) {
    command = finalize;
    finalize = null;
  }

  if (!Array.isArray(keys) &amp;&amp; keys instanceof Object &amp;&amp; typeof(keys) !== 'function' &amp;&amp; !(keys._bsontype == 'Code')) {
    keys = Object.keys(keys);
  }

  if(typeof reduce === 'function') {
    reduce = reduce.toString();
  }

  if(typeof finalize === 'function') {
    finalize = finalize.toString();
  }

  // Set up the command as default
  command = command == null ? true : command;

  // Execute using callback
  if(typeof callback == 'function') return group(self, keys, condition, initial, reduce, finalize, command, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    group(self, keys, condition, initial, reduce, finalize, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexExists" id="apidoc.element.mongolass.Collection.prototype.indexExists">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexExists
        <span class="apidocSignatureSpan">(indexes, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexExists = function (indexes, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return indexExists(self, indexes, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexExists(self, indexes, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexInformation" id="apidoc.element.mongolass.Collection.prototype.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexInformation
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexInformation = function (options, callback) {
  var self = this;
  // Unpack calls
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return indexInformation(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexes" id="apidoc.element.mongolass.Collection.prototype.indexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexes
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexes = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return indexes(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeOrderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initializeOrderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return ordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeUnorderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initializeUnorderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return unordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insert" id="apidoc.element.mongolass.Collection.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insert
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (docs, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:false};
  docs = !Array.isArray(docs) ? [docs] : docs;

  if(options.keepGoing == true) {
    options.ordered = false;
  }

  return this.insertMany(docs, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertMany" id="apidoc.element.mongolass.Collection.prototype.insertMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertMany
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertMany = function (docs, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};
  if(!Array.isArray(docs) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
  } else if(!Array.isArray(docs)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
    });
  }

  // Get the write concern options
  if(typeof options.checkKeys != 'boolean') {
    options.checkKeys = true;
  }

  // If keep going set unordered
  options['serializeFunctions'] = options['serializeFunctions'] || self.s.serializeFunctions;

  // Set up the force server object id
  var forceServerObjectId = typeof options.forceServerObjectId == 'boolean'
    ? options.forceServerObjectId : self.s.db.options.forceServerObjectId;

  // Do we want to force the server to assign the _id key
  if(forceServerObjectId !== true) {
    // Add _id if not specified
    for(var i = 0; i &lt; docs.length; i++) {
      if(docs[i]._id == null) docs[i]._id = self.s.pkFactory.createPk();
    }
  }

  // Generate the bulk write operations
  var operations = [{
    insertMany: docs
  }];

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, function(err, r) {
    if(err) return callback(err, r);
    callback(null, mapInserManyResults(docs, r));
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err) return reject(err);
      resolve(mapInserManyResults(docs, r));
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertOne" id="apidoc.element.mongolass.Collection.prototype.insertOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertOne
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertOne = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  if(Array.isArray(doc) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'doc parameter must be an object', driver:true }));
  } else if(Array.isArray(doc)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'doc parameter must be an object', driver:true }));
    });
  }

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return insertOne(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    insertOne(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  name: { type: 'string' },
  age: { type: 'number' }
});
will create inner schema named `UserSchema`.
 */

User
  .<span class="apidocCodeKeywordSpan">insertOne</span>({ name: 'nswbmw', age: 'wrong age' })
  .exec()
  .then(console.log)
  .catch(function (e) {
    console.error(e);
    console.error(e.stack);
  });
/*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.isCapped" id="apidoc.element.mongolass.Collection.prototype.isCapped">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>isCapped
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCapped = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return isCapped(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    isCapped(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.listIndexes" id="apidoc.element.mongolass.Collection.prototype.listIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>listIndexes
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listIndexes = function (options) {
  options = options || {};
  // Clone the options
  options = shallowClone(options);
  // Determine the read preference in the options.
  options = getReadPreference(this, options, this.s.db, this);
  // Set the CommandCursor constructor
  options.cursorFactory = CommandCursor;
  // Set the promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  if(!this.s.topology.capabilities()) {
    throw new MongoError('cannot connect to server');
  }

  // We have a list collections command
  if(this.s.topology.capabilities().hasListIndexesCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listIndexes: this.s.name, cursor: cursor };
    // Execute the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.dbName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) cursor.setReadPreference(options.readPreference);
    // Return the cursor
    return cursor;
  }

  // Get the namespace
  var ns = f('%s.system.indexes', this.s.dbName);
  // Get the query
  cursor = this.s.topology.cursor(ns, {find: ns, query: {ns: this.s.namespace}}, options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // Return the cursor
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.mapReduce" id="apidoc.element.mongolass.Collection.prototype.mapReduce">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>mapReduce
        <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapReduce = function (map, reduce, options, callback) {
  var self = this;
  if('function' === typeof options) callback = options, options = {};
  // Out must allways be defined (make sure we don't break weirdly on pre 1.8+ servers)
  if(null == options.out) {
    throw new Error("the out option parameter must be defined, see mongodb docs for possible values");
  }

  if('function' === typeof map) {
    map = map.toString();
  }

  if('function' === typeof reduce) {
    reduce = reduce.toString();
  }

  if('function' === typeof options.finalize) {
    options.finalize = options.finalize.toString();
  }

  // Execute using callback
  if(typeof callback == 'function') return mapReduce(self, map, reduce, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    mapReduce(self, map, reduce, options, function(err, r, r1) {
      if(err) return reject(err);
      if(!r1) return resolve(r);
      resolve({results: r, stats: r1});
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.options" id="apidoc.element.mongolass.Collection.prototype.options">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>options
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return options(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan" id="apidoc.element.mongolass.Collection.prototype.parallelCollectionScan">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>parallelCollectionScan
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallelCollectionScan = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {numCursors: 1};
  // Set number of cursors to 1
  options.numCursors = options.numCursors || 1;
  options.batchSize = options.batchSize || 1000;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // Add a promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Execute using callback
  if(typeof callback == 'function') return parallelCollectionScan(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    parallelCollectionScan(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.reIndex" id="apidoc.element.mongolass.Collection.prototype.reIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>reIndex
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reIndex = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return reIndex(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    reIndex(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.remove" id="apidoc.element.mongolass.Collection.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>remove
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (selector, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return removeDocuments(self, selector, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeDocuments(self, selector, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.removeMany" id="apidoc.element.mongolass.Collection.prototype.removeMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>removeMany
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeMany = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteMany(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteMany(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.removeOne" id="apidoc.element.mongolass.Collection.prototype.removeOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>removeOne
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeOne = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteOne(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteOne(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.rename" id="apidoc.element.mongolass.Collection.prototype.rename">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>rename
        <span class="apidocSignatureSpan">(newName, opt, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function (newName, opt, callback) {
  var self = this;
  if(typeof opt == 'function') callback = opt, opt = {};
  opt = assign({}, opt, {readPreference: ReadPreference.PRIMARY});

  // Execute using callback
  if(typeof callback == 'function') return rename(self, newName, opt, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    rename(self, newName, opt, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.replaceOne" id="apidoc.element.mongolass.Collection.prototype.replaceOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>replaceOne
        <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceOne = function (filter, doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return replaceOne(self, filter, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replaceOne(self, filter, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.save" id="apidoc.element.mongolass.Collection.prototype.save">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>save
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return save(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    save(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.stats" id="apidoc.element.mongolass.Collection.prototype.stats">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stats = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return stats(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    stats(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.update" id="apidoc.element.mongolass.Collection.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>update
        <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (selector, document, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateDocuments(self, selector, document, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateDocuments(self, selector, document, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateMany" id="apidoc.element.mongolass.Collection.prototype.updateMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateMany
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateMany = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateMany(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateMany(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateOne" id="apidoc.element.mongolass.Collection.prototype.updateOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateOne
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateOne = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateOne(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateOne(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.aggregate" id="apidoc.module.mongolass.Collection.prototype.aggregate">module mongolass.Collection.prototype.aggregate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.aggregate.aggregate" id="apidoc.element.mongolass.Collection.prototype.aggregate.aggregate">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>aggregate
        <span class="apidocSignatureSpan">(pipeline, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">aggregate = function (pipeline, options, callback) {
  var self = this;

  if(Array.isArray(pipeline)) {
    // Set up callback if one is provided
    if(typeof options == 'function') {
      callback = options;
      options = {};
    }

    // If we have no options or callback we are doing
    // a cursor based aggregation
    if(options == null &amp;&amp; callback == null) {
      options = {};
    }
  } else {
    // Aggregation pipeline passed as arguments on the method
    var args = Array.prototype.slice.call(arguments, 0);
    // Get the callback
    callback = args.pop();
    // Get the possible options object
    var opts = args[args.length - 1];
    // If it contains any of the admissible options pop it of the args
    options = opts &amp;&amp; (opts.readPreference
      || opts.explain || opts.cursor || opts.out
      || opts.maxTimeMS || opts.allowDiskUse) ? args.pop() : {};
      // Left over arguments is the pipeline
    pipeline = args;
  }

  // Ignore readConcern option
  var ignoreReadConcern = false;

  // Build the command
  var command = { aggregate : this.s.name, pipeline : pipeline};

  // If out was specified
  if(typeof options.out == 'string') {
    pipeline.push({$out: options.out});
    // Ignore read concern
    ignoreReadConcern = true;
  } else if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    ignoreReadConcern = true;
  }

  // Decorate command with writeConcern if out has been specified
  if(pipeline.length &gt; 0 &amp;&amp; pipeline[pipeline.length - 1]['$out']) {
    decorateWithWriteConcern(command, self, options);
  }

  // Have we specified collation
  decorateWithCollation(command, self, options);

  // If we have bypassDocumentValidation set
  if(typeof options.bypassDocumentValidation == 'boolean') {
    command.bypassDocumentValidation = options.bypassDocumentValidation;
  }

  // Do we have a readConcern specified
  if(!ignoreReadConcern &amp;&amp; this.s.readConcern) {
    command.readConcern = this.s.readConcern;
  }

  // If we have allowDiskUse defined
  if(options.allowDiskUse) command.allowDiskUse = options.allowDiskUse;
  if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // If explain has been specified add it
  if(options.explain) command.explain = options.explain;

  // Validate that cursor options is valid
  if(options.cursor != null &amp;&amp; typeof options.cursor != 'object') {
    throw toError('cursor options must be an object');
  }

  // promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Set the AggregationCursor constructor
  options.cursorFactory = AggregationCursor;
  if(typeof callback != 'function') {
    if(!this.s.topology.capabilities()) {
      throw new MongoError('cannot connect to server');
    }

    if(this.s.topology.capabilities().hasAggregationCursor) {
      options.cursor = options.cursor || { batchSize : 1000 };
      command.cursor = options.cursor;
    }

    // Allow disk usage command
    if(typeof options.allowDiskUse == 'boolean') command.allowDiskUse = options.allowDiskUse;
    if(typeof options.maxTimeMS == 'number') command.maxTimeMS = options.maxTimeMS;

    // Execute the cursor
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // We do not allow cursor
  if(options.cursor) {
    return this.s.topology.cursor(this.s.namespace, command, options);
  }

  // Execute the command
  this.s.db.command(command, options, function(err, result) {
    if(err) {
      handleCallback(callback, err);
    } else if(result['err'] || result['errmsg']) {
      handleCallback(callback, toError(result));
    } else if(typeof result == 'object' &amp;&amp; result['serverPipeline']) {
      handleCallback(callback, null, result['serverPipeline']);
    } else if(typeof result == 'object' &amp;&amp; result['stages']) {
      handleCallback(callback, null, result['stages']);
    } else {
      handleCallback(callback, null, result.result);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.bulkWrite" id="apidoc.module.mongolass.Collection.prototype.bulkWrite">module mongolass.Collection.prototype.bulkWrite</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.bulkWrite.bulkWrite" id="apidoc.element.mongolass.Collection.prototype.bulkWrite.bulkWrite">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>bulkWrite
        <span class="apidocSignatureSpan">(operations, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bulkWrite = function (operations, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};

  if(!Array.isArray(operations)) {
    throw MongoError.create({message: "operations must be an array of documents", driver:true });
  }

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err &amp;&amp; r == null) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.count" id="apidoc.module.mongolass.Collection.prototype.count">module mongolass.Collection.prototype.count</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.count.count" id="apidoc.element.mongolass.Collection.prototype.count.count">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>count
        <span class="apidocSignatureSpan">(query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, queryOption, optionsOption, callback);

  // Check if query is empty
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.createIndex" id="apidoc.module.mongolass.Collection.prototype.createIndex">module mongolass.Collection.prototype.createIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndex.createIndex" id="apidoc.element.mongolass.Collection.prototype.createIndex.createIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;

  // Execute using callback
  if(typeof callback == 'function') return createIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.createIndexes" id="apidoc.module.mongolass.Collection.prototype.createIndexes">module mongolass.Collection.prototype.createIndexes</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.createIndexes.createIndexes" id="apidoc.element.mongolass.Collection.prototype.createIndexes.createIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>createIndexes
        <span class="apidocSignatureSpan">(indexSpecs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndexes = function (indexSpecs, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return createIndexes(self, indexSpecs, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndexes(self, indexSpecs, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.deleteMany" id="apidoc.module.mongolass.Collection.prototype.deleteMany">module mongolass.Collection.prototype.deleteMany</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteMany.deleteMany" id="apidoc.element.mongolass.Collection.prototype.deleteMany.deleteMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteMany
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteMany = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteMany(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteMany(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.deleteOne" id="apidoc.module.mongolass.Collection.prototype.deleteOne">module mongolass.Collection.prototype.deleteOne</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.deleteOne.deleteOne" id="apidoc.element.mongolass.Collection.prototype.deleteOne.deleteOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>deleteOne
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteOne = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options);

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return deleteOne(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    deleteOne(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.distinct" id="apidoc.module.mongolass.Collection.prototype.distinct">module mongolass.Collection.prototype.distinct</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.distinct.distinct" id="apidoc.element.mongolass.Collection.prototype.distinct.distinct">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>distinct
        <span class="apidocSignatureSpan">(key, query, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">distinct = function (key, query, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  var queryOption = args.length ? args.shift() || {} : {};
  var optionsOption = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return distinct(self, key, queryOption, optionsOption, callback);

  // Ensure the query and options are set
  query = query || {};
  options = options || {};

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    distinct(self, key, query, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.drop" id="apidoc.module.mongolass.Collection.prototype.drop">module mongolass.Collection.prototype.drop</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.drop.drop" id="apidoc.element.mongolass.Collection.prototype.drop.drop">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>drop
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drop = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return self.s.db.dropCollection(self.s.name, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.db.dropCollection(self.s.name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.dropIndex" id="apidoc.module.mongolass.Collection.prototype.dropIndex">module mongolass.Collection.prototype.dropIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndex.dropIndex" id="apidoc.element.mongolass.Collection.prototype.dropIndex.dropIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndex
        <span class="apidocSignatureSpan">(indexName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndex = function (indexName, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  // Run only against primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return dropIndex(self, indexName, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndex(self, indexName, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.dropIndexes" id="apidoc.module.mongolass.Collection.prototype.dropIndexes">module mongolass.Collection.prototype.dropIndexes</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.dropIndexes.dropIndexes" id="apidoc.element.mongolass.Collection.prototype.dropIndexes.dropIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>dropIndexes
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropIndexes = function (options, callback) {
  var self = this;

  // Do we have options
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return dropIndexes(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    dropIndexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.ensureIndex" id="apidoc.module.mongolass.Collection.prototype.ensureIndex">module mongolass.Collection.prototype.ensureIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.ensureIndex.ensureIndex" id="apidoc.element.mongolass.Collection.prototype.ensureIndex.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>ensureIndex
        <span class="apidocSignatureSpan">(fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensureIndex = function (fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return ensureIndex(self, fieldOrSpec, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.find" id="apidoc.module.mongolass.Collection.prototype.find">module mongolass.Collection.prototype.find</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.find.find" id="apidoc.element.mongolass.Collection.prototype.find.find">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>find
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function () {
  var options
    , args = Array.prototype.slice.call(arguments, 0)
    , has_callback = typeof args[args.length - 1] === 'function'
    , has_weird_callback = typeof args[0] === 'function'
    , callback = has_callback ? args.pop() : (has_weird_callback ? args.shift() : null)
    , len = args.length
    , selector = len &gt;= 1 ? args[0] : {}
    , fields = len &gt;= 2 ? args[1] : undefined;

  if(len === 1 &amp;&amp; has_weird_callback) {
    // backwards compat for callback?, options case
    selector = {};
    options = args[0];
  }

  if(len === 2 &amp;&amp; fields !== undefined &amp;&amp; !Array.isArray(fields)) {
    var fieldKeys = Object.keys(fields);
    var is_option = false;

    for(var i = 0; i &lt; fieldKeys.length; i++) {
      if(testForFields[fieldKeys[i]] != null) {
        is_option = true;
        break;
      }
    }

    if(is_option) {
      options = fields;
      fields = undefined;
    } else {
      options = {};
    }
  } else if(len === 2 &amp;&amp; Array.isArray(fields) &amp;&amp; !Array.isArray(fields[0])) {
    var newFields = {};
    // Rewrite the array
    for(i = 0; i &lt; fields.length; i++) {
      newFields[fields[i]] = 1;
    }
    // Set the fields
    fields = newFields;
  }

  if(3 === len) {
    options = args[2];
  }

  // Ensure selector is not null
  selector = selector == null ? {} : selector;
  // Validate correctness off the selector
  var object = selector;
  if(Buffer.isBuffer(object)) {
    var object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      var error = new Error("query selector raw message size does not match message header size [" + object.length + "] != [" +
object_size + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Validate correctness of the field selector
  object = fields;
  if(Buffer.isBuffer(object)) {
    object_size = object[0] | object[1] &lt;&lt; 8 | object[2] &lt;&lt; 16 | object[3] &lt;&lt; 24;
    if(object_size != object.length)  {
      error = new Error("query fields raw message size does not match message header size [" + object.length + "] != [" + object_size
 + "]");
      error.name = 'MongoError';
      throw error;
    }
  }

  // Check special case where we are using an objectId
  if(selector != null &amp;&amp; selector._bsontype == 'ObjectID') {
    selector = {_id:selector};
  }

  // If it's a serialized fields field we need to just let it through
  // user be warned it better be good
  if(options &amp;&amp; options.fields &amp;&amp; !(Buffer.isBuffer(options.fields))) {
    fields = {};

    if(Array.isArray(options.fields)) {
      if(!options.fields.length) {
        fields['_id'] = 1;
      } else {
        var l = options.fields.length;

        for (i = 0; i &lt; l; i++) {
          fields[options.fields[i]] = 1;
        }
      }
    } else {
      fields = options.fields;
    }
  }

  if (!options) options = {};

  var newOptions = {};
  // Make a shallow copy of options
  for (var key in options) {
    newOptions[key] = options[key];
  }

  // Unpack options
  newOptions.skip = len &gt; 3 ? args[2] : options.skip ? options.skip : 0;
  newOptions.limit = len &gt; 3 ? args[3] : options.limit ? options.limit : 0;
  newOptions.raw = options.raw != null &amp;&amp; typeof options.raw === 'boolean' ? options.raw : this.s.raw;
  newOptions.hint = options.hint != null ? normalizeHintField(options.hint) : this.s.collectionHint;
  newOptions.timeout = len == 5 ? args[4] : typeof options.timeout === 'undefined' ? undefined : options.timeout;
  // // If we have overridden slaveOk otherwise use the default db setting
  newOptions.slaveOk = options.slaveOk != null ? options.slaveOk : this.s.db.slaveOk;

  // Add read preference if needed
  newOptions = getReadPreference(this, newOptions, this.s.db, this);

  // Set slave ok to true if read preference different from primary
  if(newOptions.readPreference != null
    &amp;&amp; (newOptions.readPreference != 'primary' || newOptions.readPreference.mode != 'primary')) {
    newOptions.slaveOk = true;
  }

  // Ensure the query is an object
  if(selector != null &amp;&amp; typeof selector != 'object') { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .<span class="apidocCodeKeywordSpan">find</span>()
  .select({ name: 1, age: 1 })
  .sort({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findAndModify" id="apidoc.module.mongolass.Collection.prototype.findAndModify">module mongolass.Collection.prototype.findAndModify</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndModify.findAndModify" id="apidoc.element.mongolass.Collection.prototype.findAndModify.findAndModify">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndModify
        <span class="apidocSignatureSpan">(query, sort, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findAndModify = function (query, sort, doc, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  doc = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Clone options
  options = shallowClone(options);
  // Force read preference primary
  options.readPreference = ReadPreference.PRIMARY;

  // Execute using callback
  if(typeof callback == 'function') return findAndModify(self, query, sort, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findAndModify(self, query, sort, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findAndRemove" id="apidoc.module.mongolass.Collection.prototype.findAndRemove">module mongolass.Collection.prototype.findAndRemove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findAndRemove.findAndRemove" id="apidoc.element.mongolass.Collection.prototype.findAndRemove.findAndRemove">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findAndRemove
        <span class="apidocSignatureSpan">(query, sort, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findAndRemove = function (query, sort, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  sort = args.length ? args.shift() || [] : [];
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return findAndRemove(self, query, sort, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findAndRemove(self, query, sort, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findOne" id="apidoc.module.mongolass.Collection.prototype.findOne">module mongolass.Collection.prototype.findOne</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOne.findOne" id="apidoc.element.mongolass.Collection.prototype.findOne.findOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOne
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOne = function () {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  var callback = args.pop();
  if(typeof callback != 'function') args.push(callback);

  // Execute using callback
  if(typeof callback == 'function') return findOne(self, args, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    findOne(self, args, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return user;
  });
}
});

co(function* () {
yield User.insert({ firstname: 'san', lastname: 'zhang' }).addCreatedAt('YYYY-MM-DD');// when use
yield, .exec() is omissible.
console.log(yield User.<span class="apidocCodeKeywordSpan">findOne</span>().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
// [ { _id: 5850186544c3b82d23a82e45,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndDelete" id="apidoc.module.mongolass.Collection.prototype.findOneAndDelete">module mongolass.Collection.prototype.findOneAndDelete</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndDelete.findOneAndDelete" id="apidoc.element.mongolass.Collection.prototype.findOneAndDelete.findOneAndDelete">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndDelete
        <span class="apidocSignatureSpan">(filter, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndDelete = function (filter, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndDelete(self, filter, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndDelete(self, filter, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndReplace" id="apidoc.module.mongolass.Collection.prototype.findOneAndReplace">module mongolass.Collection.prototype.findOneAndReplace</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndReplace.findOneAndReplace" id="apidoc.element.mongolass.Collection.prototype.findOneAndReplace.findOneAndReplace">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndReplace
        <span class="apidocSignatureSpan">(filter, replacement, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndReplace = function (filter, replacement, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(replacement == null || typeof replacement != 'object') throw toError('replacement parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndReplace(self, filter, replacement, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndReplace(self, filter, replacement, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.findOneAndUpdate" id="apidoc.module.mongolass.Collection.prototype.findOneAndUpdate">module mongolass.Collection.prototype.findOneAndUpdate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.findOneAndUpdate.findOneAndUpdate" id="apidoc.element.mongolass.Collection.prototype.findOneAndUpdate.findOneAndUpdate">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>findOneAndUpdate
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOneAndUpdate = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Basic validation
  if(filter == null || typeof filter != 'object') throw toError('filter parameter must be an object');
  if(update == null || typeof update != 'object') throw toError('update parameter must be an object');

  // Execute using callback
  if(typeof callback == 'function') return findOneAndUpdate(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options = options || {};

    findOneAndUpdate(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.geoHaystackSearch" id="apidoc.module.mongolass.Collection.prototype.geoHaystackSearch">module mongolass.Collection.prototype.geoHaystackSearch</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoHaystackSearch.geoHaystackSearch" id="apidoc.element.mongolass.Collection.prototype.geoHaystackSearch.geoHaystackSearch">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoHaystackSearch
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">geoHaystackSearch = function (x, y, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoHaystackSearch(self, x, y, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoHaystackSearch(self, x, y, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.geoNear" id="apidoc.module.mongolass.Collection.prototype.geoNear">module mongolass.Collection.prototype.geoNear</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.geoNear.geoNear" id="apidoc.element.mongolass.Collection.prototype.geoNear.geoNear">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>geoNear
        <span class="apidocSignatureSpan">(x, y, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">geoNear = function (x, y, options, callback) {
  var self = this;
  var point = typeof(x) == 'object' &amp;&amp; x
    , args = Array.prototype.slice.call(arguments, point?1:2);

  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return geoNear(self, x, y, point, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    geoNear(self, x, y, point, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.group" id="apidoc.module.mongolass.Collection.prototype.group">module mongolass.Collection.prototype.group</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.group.group" id="apidoc.element.mongolass.Collection.prototype.group.group">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>group
        <span class="apidocSignatureSpan">(keys, condition, initial, reduce, finalize, command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">group = function (keys, condition, initial, reduce, finalize, command, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 3);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  reduce = args.length ? args.shift() : null;
  finalize = args.length ? args.shift() : null;
  command = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Make sure we are backward compatible
  if(!(typeof finalize == 'function')) {
    command = finalize;
    finalize = null;
  }

  if (!Array.isArray(keys) &amp;&amp; keys instanceof Object &amp;&amp; typeof(keys) !== 'function' &amp;&amp; !(keys._bsontype == 'Code')) {
    keys = Object.keys(keys);
  }

  if(typeof reduce === 'function') {
    reduce = reduce.toString();
  }

  if(typeof finalize === 'function') {
    finalize = finalize.toString();
  }

  // Set up the command as default
  command = command == null ? true : command;

  // Execute using callback
  if(typeof callback == 'function') return group(self, keys, condition, initial, reduce, finalize, command, options, callback);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    group(self, keys, condition, initial, reduce, finalize, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.indexExists" id="apidoc.module.mongolass.Collection.prototype.indexExists">module mongolass.Collection.prototype.indexExists</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexExists.indexExists" id="apidoc.element.mongolass.Collection.prototype.indexExists.indexExists">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexExists
        <span class="apidocSignatureSpan">(indexes, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexExists = function (indexes, callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return indexExists(self, indexes, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexExists(self, indexes, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.indexInformation" id="apidoc.module.mongolass.Collection.prototype.indexInformation">module mongolass.Collection.prototype.indexInformation</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexInformation.indexInformation" id="apidoc.element.mongolass.Collection.prototype.indexInformation.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexInformation
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexInformation = function (options, callback) {
  var self = this;
  // Unpack calls
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return indexInformation(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.indexes" id="apidoc.module.mongolass.Collection.prototype.indexes">module mongolass.Collection.prototype.indexes</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.indexes.indexes" id="apidoc.element.mongolass.Collection.prototype.indexes.indexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>indexes
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexes = function (callback) {
  var self = this;
  // Execute using callback
  if(typeof callback == 'function') return indexes(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexes(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.initializeOrderedBulkOp" id="apidoc.module.mongolass.Collection.prototype.initializeOrderedBulkOp">module mongolass.Collection.prototype.initializeOrderedBulkOp</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp.initializeOrderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeOrderedBulkOp.initializeOrderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeOrderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initializeOrderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return ordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.initializeUnorderedBulkOp" id="apidoc.module.mongolass.Collection.prototype.initializeUnorderedBulkOp">module mongolass.Collection.prototype.initializeUnorderedBulkOp</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp.initializeUnorderedBulkOp" id="apidoc.element.mongolass.Collection.prototype.initializeUnorderedBulkOp.initializeUnorderedBulkOp">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>initializeUnorderedBulkOp
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initializeUnorderedBulkOp = function (options) {
  options = options || {};
  options.promiseLibrary = this.s.promiseLibrary;
  return unordered(this.s.topology, this, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.insert" id="apidoc.module.mongolass.Collection.prototype.insert">module mongolass.Collection.prototype.insert</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insert.insert" id="apidoc.element.mongolass.Collection.prototype.insert.insert">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insert
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (docs, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:false};
  docs = !Array.isArray(docs) ? [docs] : docs;

  if(options.keepGoing == true) {
    options.ordered = false;
  }

  return this.insertMany(docs, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.insertMany" id="apidoc.module.mongolass.Collection.prototype.insertMany">module mongolass.Collection.prototype.insertMany</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertMany.insertMany" id="apidoc.element.mongolass.Collection.prototype.insertMany.insertMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertMany
        <span class="apidocSignatureSpan">(docs, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertMany = function (docs, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {ordered:true};
  if(!Array.isArray(docs) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
  } else if(!Array.isArray(docs)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'docs parameter must be an array of documents', driver:true }));
    });
  }

  // Get the write concern options
  if(typeof options.checkKeys != 'boolean') {
    options.checkKeys = true;
  }

  // If keep going set unordered
  options['serializeFunctions'] = options['serializeFunctions'] || self.s.serializeFunctions;

  // Set up the force server object id
  var forceServerObjectId = typeof options.forceServerObjectId == 'boolean'
    ? options.forceServerObjectId : self.s.db.options.forceServerObjectId;

  // Do we want to force the server to assign the _id key
  if(forceServerObjectId !== true) {
    // Add _id if not specified
    for(var i = 0; i &lt; docs.length; i++) {
      if(docs[i]._id == null) docs[i]._id = self.s.pkFactory.createPk();
    }
  }

  // Generate the bulk write operations
  var operations = [{
    insertMany: docs
  }];

  // Execute using callback
  if(typeof callback == 'function') return bulkWrite(self, operations, options, function(err, r) {
    if(err) return callback(err, r);
    callback(null, mapInserManyResults(docs, r));
  });

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    bulkWrite(self, operations, options, function(err, r) {
      if(err) return reject(err);
      resolve(mapInserManyResults(docs, r));
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.insertOne" id="apidoc.module.mongolass.Collection.prototype.insertOne">module mongolass.Collection.prototype.insertOne</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.insertOne.insertOne" id="apidoc.element.mongolass.Collection.prototype.insertOne.insertOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>insertOne
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertOne = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  if(Array.isArray(doc) &amp;&amp; typeof callback == 'function') {
    return callback(MongoError.create({message: 'doc parameter must be an object', driver:true }));
  } else if(Array.isArray(doc)) {
    return new this.s.promiseLibrary(function(resolve, reject) {
      reject(MongoError.create({message: 'doc parameter must be an object', driver:true }));
    });
  }

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return insertOne(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    insertOne(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  name: { type: 'string' },
  age: { type: 'number' }
});
will create inner schema named `UserSchema`.
 */

User
  .<span class="apidocCodeKeywordSpan">insertOne</span>({ name: 'nswbmw', age: 'wrong age' })
  .exec()
  .then(console.log)
  .catch(function (e) {
    console.error(e);
    console.error(e.stack);
  });
/*
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.isCapped" id="apidoc.module.mongolass.Collection.prototype.isCapped">module mongolass.Collection.prototype.isCapped</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.isCapped.isCapped" id="apidoc.element.mongolass.Collection.prototype.isCapped.isCapped">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>isCapped
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCapped = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return isCapped(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    isCapped(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.listIndexes" id="apidoc.module.mongolass.Collection.prototype.listIndexes">module mongolass.Collection.prototype.listIndexes</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.listIndexes.listIndexes" id="apidoc.element.mongolass.Collection.prototype.listIndexes.listIndexes">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>listIndexes
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listIndexes = function (options) {
  options = options || {};
  // Clone the options
  options = shallowClone(options);
  // Determine the read preference in the options.
  options = getReadPreference(this, options, this.s.db, this);
  // Set the CommandCursor constructor
  options.cursorFactory = CommandCursor;
  // Set the promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  if(!this.s.topology.capabilities()) {
    throw new MongoError('cannot connect to server');
  }

  // We have a list collections command
  if(this.s.topology.capabilities().hasListIndexesCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listIndexes: this.s.name, cursor: cursor };
    // Execute the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.dbName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) cursor.setReadPreference(options.readPreference);
    // Return the cursor
    return cursor;
  }

  // Get the namespace
  var ns = f('%s.system.indexes', this.s.dbName);
  // Get the query
  cursor = this.s.topology.cursor(ns, {find: ns, query: {ns: this.s.namespace}}, options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // Return the cursor
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.mapReduce" id="apidoc.module.mongolass.Collection.prototype.mapReduce">module mongolass.Collection.prototype.mapReduce</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.mapReduce.mapReduce" id="apidoc.element.mongolass.Collection.prototype.mapReduce.mapReduce">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>mapReduce
        <span class="apidocSignatureSpan">(map, reduce, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapReduce = function (map, reduce, options, callback) {
  var self = this;
  if('function' === typeof options) callback = options, options = {};
  // Out must allways be defined (make sure we don't break weirdly on pre 1.8+ servers)
  if(null == options.out) {
    throw new Error("the out option parameter must be defined, see mongodb docs for possible values");
  }

  if('function' === typeof map) {
    map = map.toString();
  }

  if('function' === typeof reduce) {
    reduce = reduce.toString();
  }

  if('function' === typeof options.finalize) {
    options.finalize = options.finalize.toString();
  }

  // Execute using callback
  if(typeof callback == 'function') return mapReduce(self, map, reduce, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    mapReduce(self, map, reduce, options, function(err, r, r1) {
      if(err) return reject(err);
      if(!r1) return resolve(r);
      resolve({results: r, stats: r1});
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.options" id="apidoc.module.mongolass.Collection.prototype.options">module mongolass.Collection.prototype.options</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.options.options" id="apidoc.element.mongolass.Collection.prototype.options.options">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>options
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') return options(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    options(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.parallelCollectionScan" id="apidoc.module.mongolass.Collection.prototype.parallelCollectionScan">module mongolass.Collection.prototype.parallelCollectionScan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.parallelCollectionScan.parallelCollectionScan" id="apidoc.element.mongolass.Collection.prototype.parallelCollectionScan.parallelCollectionScan">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>parallelCollectionScan
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallelCollectionScan = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {numCursors: 1};
  // Set number of cursors to 1
  options.numCursors = options.numCursors || 1;
  options.batchSize = options.batchSize || 1000;

  options = shallowClone(options);
  // Ensure we have the right read preference inheritance
  options = getReadPreference(this, options, this.s.db, this);

  // Add a promiseLibrary
  options.promiseLibrary = this.s.promiseLibrary;

  // Execute using callback
  if(typeof callback == 'function') return parallelCollectionScan(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    parallelCollectionScan(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.reIndex" id="apidoc.module.mongolass.Collection.prototype.reIndex">module mongolass.Collection.prototype.reIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.reIndex.reIndex" id="apidoc.element.mongolass.Collection.prototype.reIndex.reIndex">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>reIndex
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reIndex = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Execute using callback
  if(typeof callback == 'function') return reIndex(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    reIndex(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.remove" id="apidoc.module.mongolass.Collection.prototype.remove">module mongolass.Collection.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.remove.remove" id="apidoc.element.mongolass.Collection.prototype.remove.remove">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>remove
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (selector, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return removeDocuments(self, selector, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeDocuments(self, selector, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.rename" id="apidoc.module.mongolass.Collection.prototype.rename">module mongolass.Collection.prototype.rename</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.rename.rename" id="apidoc.element.mongolass.Collection.prototype.rename.rename">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>rename
        <span class="apidocSignatureSpan">(newName, opt, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function (newName, opt, callback) {
  var self = this;
  if(typeof opt == 'function') callback = opt, opt = {};
  opt = assign({}, opt, {readPreference: ReadPreference.PRIMARY});

  // Execute using callback
  if(typeof callback == 'function') return rename(self, newName, opt, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    rename(self, newName, opt, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.replaceOne" id="apidoc.module.mongolass.Collection.prototype.replaceOne">module mongolass.Collection.prototype.replaceOne</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.replaceOne.replaceOne" id="apidoc.element.mongolass.Collection.prototype.replaceOne.replaceOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>replaceOne
        <span class="apidocSignatureSpan">(filter, doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceOne = function (filter, doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return replaceOne(self, filter, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    replaceOne(self, filter, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.save" id="apidoc.module.mongolass.Collection.prototype.save">module mongolass.Collection.prototype.save</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.save.save" id="apidoc.element.mongolass.Collection.prototype.save.save">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>save
        <span class="apidocSignatureSpan">(doc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">save = function (doc, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return save(self, doc, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    save(self, doc, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.stats" id="apidoc.module.mongolass.Collection.prototype.stats">module mongolass.Collection.prototype.stats</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.stats.stats" id="apidoc.element.mongolass.Collection.prototype.stats.stats">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stats = function (options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  // Fetch all commands
  options = args.length ? args.shift() || {} : {};

  // Execute using callback
  if(typeof callback == 'function') return stats(self, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    stats(self, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.update" id="apidoc.module.mongolass.Collection.prototype.update">module mongolass.Collection.prototype.update</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.update.update" id="apidoc.element.mongolass.Collection.prototype.update.update">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>update
        <span class="apidocSignatureSpan">(selector, document, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (selector, document, options, callback) {
  var self = this;

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateDocuments(self, selector, document, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateDocuments(self, selector, document, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.updateMany" id="apidoc.module.mongolass.Collection.prototype.updateMany">module mongolass.Collection.prototype.updateMany</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateMany.updateMany" id="apidoc.element.mongolass.Collection.prototype.updateMany.updateMany">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateMany
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateMany = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateMany(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateMany(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Collection.prototype.updateOne" id="apidoc.module.mongolass.Collection.prototype.updateOne">module mongolass.Collection.prototype.updateOne</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Collection.prototype.updateOne.updateOne" id="apidoc.element.mongolass.Collection.prototype.updateOne.updateOne">
        function <span class="apidocSignatureSpan">mongolass.Collection.prototype.</span>updateOne
        <span class="apidocSignatureSpan">(filter, update, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateOne = function (filter, update, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = shallowClone(options)

  // Add ignoreUndfined
  if(this.s.options.ignoreUndefined) {
    options = shallowClone(options);
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute using callback
  if(typeof callback == 'function') return updateOne(self, filter, update, options, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    updateOne(self, filter, update, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection" id="apidoc.module.mongolass.CoreConnection">module mongolass.CoreConnection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.CoreConnection" id="apidoc.element.mongolass.CoreConnection.CoreConnection">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreConnection
        <span class="apidocSignatureSpan">(messageHandler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection = function (messageHandler, options) {
  // Add event listener
  EventEmitter.call(this);
  // Set empty if no options passed
  this.options = options || {};
  // Identification information
  this.id = _id++;
  // Logger instance
  this.logger = Logger('Connection', options);
  // No bson parser passed in
  if(!options.bson) throw new Error("must pass in valid bson parser");
  // Get bson parser
  this.bson = options.bson;
  // Grouping tag used for debugging purposes
  this.tag = options.tag;
  // Message handler
  this.messageHandler = messageHandler;

  // Max BSON message size
  this.maxBsonMessageSize = options.maxBsonMessageSize || (1024 * 1024 * 16 * 4);
  // Debug information
  if(this.logger.isDebug()) this.logger.debug(f('creating connection %s with options [%s]', this.id, JSON.stringify(debugOptions
(debugFields, options))));

  // Default options
  this.port = options.port || 27017;
  this.host = options.host || 'localhost';
  this.keepAlive = typeof options.keepAlive == 'boolean' ? options.keepAlive : true;
  this.keepAliveInitialDelay = options.keepAliveInitialDelay || 0;
  this.noDelay = typeof options.noDelay == 'boolean' ? options.noDelay : true;
  this.connectionTimeout = options.connectionTimeout || 0;
  this.socketTimeout = options.socketTimeout || 0;

  // If connection was destroyed
  this.destroyed = false;

  // Check if we have a domain socket
  this.domainSocket = this.host.indexOf('\/') != -1;

  // Serialize commands using function
  this.singleBufferSerializtion = typeof options.singleBufferSerializtion == 'boolean' ? options.singleBufferSerializtion : true
;
  this.serializationFunction = this.singleBufferSerializtion ? 'toBinUnified' : 'toBin';

  // SSL options
  this.ca = options.ca || null;
  this.crl = options.crl || null;
  this.cert = options.cert || null;
  this.key = options.key || null;
  this.passphrase = options.passphrase || null;
  this.ssl = typeof options.ssl == 'boolean' ? options.ssl : false;
  this.rejectUnauthorized = typeof options.rejectUnauthorized == 'boolean' ? options.rejectUnauthorized : true;
  this.checkServerIdentity = typeof options.checkServerIdentity == 'boolean'
    || typeof options.checkServerIdentity == 'function' ? options.checkServerIdentity : true;

  // If ssl not enabled
  if(!this.ssl) this.rejectUnauthorized = false;

  // Response options
  this.responseOptions = {
    promoteLongs: typeof options.promoteLongs == 'boolean' ?  options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers: false
  }

  // Flushing
  this.flushing = false;
  this.queue = [];

  // Internal state
  this.connection = null;
  this.writeStream = null;

  // Create hash method
  var hash = crypto.createHash('sha1');
  hash.update(f('%s:%s', this.host, this.port));

  // Create a hash name
  this.hashedName = hash.digest('hex');

  // All operations in flight on the connection
  this.workItems = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.connections" id="apidoc.element.mongolass.CoreConnection.connections">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return connections;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.disableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>disableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableConnectionAccounting = function () {
  connectionAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.enableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>enableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableConnectionAccounting = function () {
  connectionAccounting = true;
  connections = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.super_" id="apidoc.element.mongolass.CoreConnection.super_">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.connections" id="apidoc.module.mongolass.CoreConnection.connections">module mongolass.CoreConnection.connections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.connections.connections" id="apidoc.element.mongolass.CoreConnection.connections.connections">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return connections;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.disableConnectionAccounting" id="apidoc.module.mongolass.CoreConnection.disableConnectionAccounting">module mongolass.CoreConnection.disableConnectionAccounting</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.disableConnectionAccounting.disableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.disableConnectionAccounting.disableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>disableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableConnectionAccounting = function () {
  connectionAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.enableConnectionAccounting" id="apidoc.module.mongolass.CoreConnection.enableConnectionAccounting">module mongolass.CoreConnection.enableConnectionAccounting</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.enableConnectionAccounting.enableConnectionAccounting" id="apidoc.element.mongolass.CoreConnection.enableConnectionAccounting.enableConnectionAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.</span>enableConnectionAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableConnectionAccounting = function () {
  connectionAccounting = true;
  connections = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype" id="apidoc.module.mongolass.CoreConnection.prototype">module mongolass.CoreConnection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.connect" id="apidoc.element.mongolass.CoreConnection.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>connect
        <span class="apidocSignatureSpan">(_options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (_options) {
  var self = this;
  _options = _options || {};
  // Set the connections
  if(connectionAccounting) addConnection(this.id, this);
  // Check if we are overriding the promoteLongs
  if(typeof _options.promoteLongs == 'boolean') {
    self.responseOptions.promoteLongs = _options.promoteLongs;
    self.responseOptions.promoteValues = _options.promoteValues;
    self.responseOptions.promoteBuffers = _options.promoteBuffers;
  }

  // Create new connection instance
  self.connection = self.domainSocket
    ? net.createConnection(self.host)
    : net.createConnection(self.port, self.host);

  // Set the options for the connection
  self.connection.setKeepAlive(self.keepAlive, self.keepAliveInitialDelay);
  self.connection.setTimeout(self.connectionTimeout);
  self.connection.setNoDelay(self.noDelay);

  // If we have ssl enabled
  if(self.ssl) {
    var sslOptions = {
        socket: self.connection
      , rejectUnauthorized: self.rejectUnauthorized
    }

    // Merge in options
    merge(sslOptions, this.options);
    merge(sslOptions, _options);

    // Set options for ssl
    if(self.ca) sslOptions.ca = self.ca;
    if(self.crl) sslOptions.crl = self.crl;
    if(self.cert) sslOptions.cert = self.cert;
    if(self.key) sslOptions.key = self.key;
    if(self.passphrase) sslOptions.passphrase = self.passphrase;

    // Override checkServerIdentity behavior
    if(self.checkServerIdentity == false) {
      // Skip the identiy check by retuning undefined as per node documents
      // https://nodejs.org/api/tls.html#tls_tls_connect_options_callback
      sslOptions.checkServerIdentity = function() {
        return undefined;
      }
    } else if(typeof self.checkServerIdentity == 'function') {
      sslOptions.checkServerIdentity = self.checkServerIdentity;
    }

    // Set default sni servername to be the same as host
    if(sslOptions.servername == null) {
      sslOptions.servername = self.host;
    }

    // Attempt SSL connection
    self.connection = tls.connect(self.port, self.host, sslOptions, function() {
      // Error on auth or skip
      if(self.connection.authorizationError &amp;&amp; self.rejectUnauthorized) {
        return self.emit("error", self.connection.authorizationError, self, {ssl:true});
      }

      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // We are done emit connect
      self.emit('connect', self);
    });
    self.connection.setTimeout(self.connectionTimeout);
  } else {
    self.connection.on('connect', function() {
      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // Emit connect event
      self.emit('connect', self);
    });
  }

  // Add handlers for events
  self.connection.once('error', errorHandler(self));
  self.connection.once('timeout', timeoutHandler(self));
  self.connection.once('close', closeHandler(self));
  self.connection.on('data', dataHandler(self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.destroy" id="apidoc.element.mongolass.CoreConnection.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  // Set the connections
  if(connectionAccounting) deleteConnection(this.id);
  if(this.connection) {
    this.connection.end();
    this.connection.destroy();
  }

  this.destroyed = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected" id="apidoc.element.mongolass.CoreConnection.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  if(this.destroyed) return false;
  return !this.connection.destroyed &amp;&amp; this.connection.writable;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>resetSocketTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetSocketTimeout = function () {
  if(this.connection) {
    this.connection.setTimeout(this.socketTimeout);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>setSocketTimeout
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setSocketTimeout = function (value) {
  if(this.connection) {
    this.connection.setTimeout(value);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON" id="apidoc.element.mongolass.CoreConnection.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {id: this.id, host: this.host, port: this.port};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toString" id="apidoc.element.mongolass.CoreConnection.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return "" + this.id;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.unref" id="apidoc.element.mongolass.CoreConnection.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  if (this.connection) this.connection.unref();
  else {
    var self = this;
    this.once('connect', function() {
      self.connection.unref();
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.write" id="apidoc.element.mongolass.CoreConnection.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>write
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buffer) {
  var i;
  // Debug Log
  if(this.logger.isDebug()) {
    if(!Array.isArray(buffer)) {
      this.logger.debug(f('writing buffer [%s] to %s:%s', buffer.toString('hex'), this.host, this.port));
    } else {
      for(i = 0; i &lt; buffer.length; i++)
        this.logger.debug(f('writing buffer [%s] to %s:%s', buffer[i].toString('hex'), this.host, this.port));
    }
  }

  // Write out the command
  if(!Array.isArray(buffer)) return this.connection.write(buffer, 'binary');
  // Iterate over all buffers and write them in order to the socket
  for(i = 0; i &lt; buffer.length; i++) this.connection.write(buffer[i], 'binary');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.connect" id="apidoc.module.mongolass.CoreConnection.prototype.connect">module mongolass.CoreConnection.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.connect.connect" id="apidoc.element.mongolass.CoreConnection.prototype.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>connect
        <span class="apidocSignatureSpan">(_options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (_options) {
  var self = this;
  _options = _options || {};
  // Set the connections
  if(connectionAccounting) addConnection(this.id, this);
  // Check if we are overriding the promoteLongs
  if(typeof _options.promoteLongs == 'boolean') {
    self.responseOptions.promoteLongs = _options.promoteLongs;
    self.responseOptions.promoteValues = _options.promoteValues;
    self.responseOptions.promoteBuffers = _options.promoteBuffers;
  }

  // Create new connection instance
  self.connection = self.domainSocket
    ? net.createConnection(self.host)
    : net.createConnection(self.port, self.host);

  // Set the options for the connection
  self.connection.setKeepAlive(self.keepAlive, self.keepAliveInitialDelay);
  self.connection.setTimeout(self.connectionTimeout);
  self.connection.setNoDelay(self.noDelay);

  // If we have ssl enabled
  if(self.ssl) {
    var sslOptions = {
        socket: self.connection
      , rejectUnauthorized: self.rejectUnauthorized
    }

    // Merge in options
    merge(sslOptions, this.options);
    merge(sslOptions, _options);

    // Set options for ssl
    if(self.ca) sslOptions.ca = self.ca;
    if(self.crl) sslOptions.crl = self.crl;
    if(self.cert) sslOptions.cert = self.cert;
    if(self.key) sslOptions.key = self.key;
    if(self.passphrase) sslOptions.passphrase = self.passphrase;

    // Override checkServerIdentity behavior
    if(self.checkServerIdentity == false) {
      // Skip the identiy check by retuning undefined as per node documents
      // https://nodejs.org/api/tls.html#tls_tls_connect_options_callback
      sslOptions.checkServerIdentity = function() {
        return undefined;
      }
    } else if(typeof self.checkServerIdentity == 'function') {
      sslOptions.checkServerIdentity = self.checkServerIdentity;
    }

    // Set default sni servername to be the same as host
    if(sslOptions.servername == null) {
      sslOptions.servername = self.host;
    }

    // Attempt SSL connection
    self.connection = tls.connect(self.port, self.host, sslOptions, function() {
      // Error on auth or skip
      if(self.connection.authorizationError &amp;&amp; self.rejectUnauthorized) {
        return self.emit("error", self.connection.authorizationError, self, {ssl:true});
      }

      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // We are done emit connect
      self.emit('connect', self);
    });
    self.connection.setTimeout(self.connectionTimeout);
  } else {
    self.connection.on('connect', function() {
      // Set socket timeout instead of connection timeout
      self.connection.setTimeout(self.socketTimeout);
      // Emit connect event
      self.emit('connect', self);
    });
  }

  // Add handlers for events
  self.connection.once('error', errorHandler(self));
  self.connection.once('timeout', timeoutHandler(self));
  self.connection.once('close', closeHandler(self));
  self.connection.on('data', dataHandler(self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.destroy" id="apidoc.module.mongolass.CoreConnection.prototype.destroy">module mongolass.CoreConnection.prototype.destroy</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.destroy.destroy" id="apidoc.element.mongolass.CoreConnection.prototype.destroy.destroy">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  // Set the connections
  if(connectionAccounting) deleteConnection(this.id);
  if(this.connection) {
    this.connection.end();
    this.connection.destroy();
  }

  this.destroyed = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.isConnected" id="apidoc.module.mongolass.CoreConnection.prototype.isConnected">module mongolass.CoreConnection.prototype.isConnected</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.isConnected.isConnected" id="apidoc.element.mongolass.CoreConnection.prototype.isConnected.isConnected">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  if(this.destroyed) return false;
  return !this.connection.destroyed &amp;&amp; this.connection.writable;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.resetSocketTimeout" id="apidoc.module.mongolass.CoreConnection.prototype.resetSocketTimeout">module mongolass.CoreConnection.prototype.resetSocketTimeout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout.resetSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.resetSocketTimeout.resetSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>resetSocketTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetSocketTimeout = function () {
  if(this.connection) {
    this.connection.setTimeout(this.socketTimeout);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.setSocketTimeout" id="apidoc.module.mongolass.CoreConnection.prototype.setSocketTimeout">module mongolass.CoreConnection.prototype.setSocketTimeout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout.setSocketTimeout" id="apidoc.element.mongolass.CoreConnection.prototype.setSocketTimeout.setSocketTimeout">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>setSocketTimeout
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setSocketTimeout = function (value) {
  if(this.connection) {
    this.connection.setTimeout(value);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.toJSON" id="apidoc.module.mongolass.CoreConnection.prototype.toJSON">module mongolass.CoreConnection.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toJSON.toJSON" id="apidoc.element.mongolass.CoreConnection.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {id: this.id, host: this.host, port: this.port};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.toString" id="apidoc.module.mongolass.CoreConnection.prototype.toString">module mongolass.CoreConnection.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.toString.toString" id="apidoc.element.mongolass.CoreConnection.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.unref" id="apidoc.module.mongolass.CoreConnection.prototype.unref">module mongolass.CoreConnection.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.unref.unref" id="apidoc.element.mongolass.CoreConnection.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  if (this.connection) this.connection.unref();
  else {
    var self = this;
    this.once('connect', function() {
      self.connection.unref();
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreConnection.prototype.write" id="apidoc.module.mongolass.CoreConnection.prototype.write">module mongolass.CoreConnection.prototype.write</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreConnection.prototype.write.write" id="apidoc.element.mongolass.CoreConnection.prototype.write.write">
        function <span class="apidocSignatureSpan">mongolass.CoreConnection.prototype.</span>write
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buffer) {
  var i;
  // Debug Log
  if(this.logger.isDebug()) {
    if(!Array.isArray(buffer)) {
      this.logger.debug(f('writing buffer [%s] to %s:%s', buffer.toString('hex'), this.host, this.port));
    } else {
      for(i = 0; i &lt; buffer.length; i++)
        this.logger.debug(f('writing buffer [%s] to %s:%s', buffer[i].toString('hex'), this.host, this.port));
    }
  }

  // Write out the command
  if(!Array.isArray(buffer)) return this.connection.write(buffer, 'binary');
  // Iterate over all buffers and write them in order to the socket
  for(i = 0; i &lt; buffer.length; i++) this.connection.write(buffer[i], 'binary');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer" id="apidoc.module.mongolass.CoreServer">module mongolass.CoreServer</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.CoreServer" id="apidoc.element.mongolass.CoreServer.CoreServer">
        function <span class="apidocSignatureSpan">mongolass.</span>CoreServer
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer = function (options) {
  options = options || {};

  // Add event listener
  EventEmitter.call(this);

  // Server instance id
  this.id = id++;

  // Internal state
  this.s = {
    // Options
    options: options,
    // Logger
    logger: Logger('Server', options),
    // Factory overrides
    Cursor: options.cursorFactory || BasicCursor,
    // BSON instance
    bson: options.bson || new BSON([BSON.Binary, BSON.Code, BSON.DBRef, BSON.Decimal128,
      BSON.Double, BSON.Int32, BSON.Long, BSON.Map, BSON.MaxKey, BSON.MinKey,
      BSON.ObjectId, BSON.BSONRegExp, BSON.Symbol, BSON.Timestamp]),
    // Pool
    pool: null,
    // Disconnect handler
    disconnectHandler: options.disconnectHandler,
    // Monitor thread (keeps the connection alive)
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : true,
    // Is the server in a topology
    inTopology: typeof options.inTopology == 'boolean' ? options.inTopology : false,
    // Monitoring timeout
    monitoringInterval: typeof options.monitoringInterval == 'number'
      ? options.monitoringInterval
      : 5000,
    // Topology id
    topologyId: -1
  }

  // Curent ismaster
  this.ismaster = null;
  // Current ping time
  this.lastIsMasterMS = -1;
  // The monitoringProcessId
  this.monitoringProcessId = null;
  // Initial connection
  this.initalConnect = true;
  // Wire protocol handler, default to oldest known protocol handler
  // this gets changed when the first ismaster is called.
  this.wireProtocolHandler = new PreTwoSixWireProtocolSupport();
  // Default type
  this._type = 'server';
  // Set the client info
  this.clientInfo = createClientInfo(options);

  // Max Stalleness values
  // last time we updated the ismaster state
  this.lastUpdateTime = 0;
  // Last write time
  this.lastWriteDate = 0;
  // Stalleness
  this.staleness = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.disableServerAccounting" id="apidoc.element.mongolass.CoreServer.disableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>disableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableServerAccounting = function () {
  serverAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.enableServerAccounting" id="apidoc.element.mongolass.CoreServer.enableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>enableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableServerAccounting = function () {
  serverAccounting = true;
  servers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.servers" id="apidoc.element.mongolass.CoreServer.servers">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>servers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">servers = function () {
  return servers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.super_" id="apidoc.element.mongolass.CoreServer.super_">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.disableServerAccounting" id="apidoc.module.mongolass.CoreServer.disableServerAccounting">module mongolass.CoreServer.disableServerAccounting</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.disableServerAccounting.disableServerAccounting" id="apidoc.element.mongolass.CoreServer.disableServerAccounting.disableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>disableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableServerAccounting = function () {
  serverAccounting = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.enableServerAccounting" id="apidoc.module.mongolass.CoreServer.enableServerAccounting">module mongolass.CoreServer.enableServerAccounting</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.enableServerAccounting.enableServerAccounting" id="apidoc.element.mongolass.CoreServer.enableServerAccounting.enableServerAccounting">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>enableServerAccounting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableServerAccounting = function () {
  serverAccounting = true;
  servers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype" id="apidoc.module.mongolass.CoreServer.prototype">module mongolass.CoreServer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.auth" id="apidoc.element.mongolass.CoreServer.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>auth
        <span class="apidocSignatureSpan">(mechanism, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function (mechanism, db) {
  var self = this;

  // If we have the default mechanism we pick mechanism based on the wire
  // protocol max version. If it's &gt;= 3 then scram-sha1 otherwise mongodb-cr
  if(mechanism == 'default' &amp;&amp; self.ismaster &amp;&amp; self.ismaster.maxWireVersion &gt;= 3) {
    mechanism = 'scram-sha-1';
  } else if(mechanism == 'default') {
    mechanism = 'mongocr';
  }

  // Slice all the arguments off
  var args = Array.prototype.slice.call(arguments, 0);
  // Set the mechanism
  args[0] = mechanism;
  // Get the callback
  var callback = args[args.length - 1];

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'auth', db, args, {}, callback)) {
    return;
  }

  // Do not authenticate if we are an arbiter
  if(this.lastIsMaster() &amp;&amp; this.lastIsMaster().arbiterOnly) {
    return callback(null, true);
  }

  // Apply the arguments to the pool
  self.s.pool.auth.apply(self.s.pool, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.command" id="apidoc.element.mongolass.CoreServer.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicReadValidations(self, options);
  if(result) return callback(result);

  // Debug log
  if(self.s.logger.isDebug()) self.s.logger.debug(f('executing command [%s] against %s', JSON.stringify({
    ns: ns, cmd: cmd, options: debugOptions(debugFields, options)
  }), self.name));

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'command', ns, cmd, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; cmd.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Query options
  var queryOptions = {
    numberToSkip: 0,
    numberToReturn: -1,
    checkKeys: typeof options.checkKeys == 'boolean' ? options.checkKeys: false,
    serializeFunctions: typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false,
    ignoreUndefined: typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false
  };

  // Are we executing against a specific topology
  var topology = options.topology || {};
  // Create the query object
  var query = self.wireProtocolHandler.command(self.s.bson, ns, cmd, {}, topology, options);
  // Set slave OK of the query
  query.slaveOk = options.readPreference ? options.readPreference.slaveOk() : false;

  // Write options
  var writeOptions = {
    raw: typeof options.raw == 'boolean' ? options.raw : false,
    promoteLongs: typeof options.promoteLongs == 'boolean' ? options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers : false,
    command: true,
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : false,
    fullResult: typeof options.fullResult == 'boolean' ? options.fullResult : false,
    requestId: query.requestId,
    socketTimeout: typeof options.socketTimeout == 'number' ? options.socketTimeout : null,
  };

  // Write the operation to the pool
  self.s.pool.write(query, writeOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connect" id="apidoc.element.mongolass.CoreServer.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connect
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (options) {
  var self = this;
  options = options || {};

  // Set the connections
  if(serverAccounting) servers[this.id] = this;

  // Do not allow connect to be called on anything that's not disconnected
  if(self.s.pool &amp;&amp; !self.s.pool.isDisconnected() &amp;&amp; !self.s.pool.isDestroyed()) {
    throw MongoError.create(f('server instance in invalid state %s', self.s.state));
  }

  // Create a pool
  self.s.pool = new Pool(assign(self.s.options, options, {bson: this.s.bson}));

  // Set up listeners
  self.s.pool.on('close', eventHandler(self, 'close'));
  self.s.pool.on('error', eventHandler(self, 'error'));
  self.s.pool.on('timeout', eventHandler(self, 'timeout'));
  self.s.pool.on('parseError', eventHandler(self, 'parseError'));
  self.s.pool.on('connect', eventHandler(self, 'connect'));
  self.s.pool.on('reconnect', eventHandler(self, 'reconnect'));
  self.s.pool.on('reconnectFailed', eventHandler(self, 'reconnectFailed'));

  // Emit toplogy opening event if not in topology
  if(!self.s.inTopology) {
    this.emit('topologyOpening', { topologyId: self.id });
  }

  // Emit opening server event
  self.emit('serverOpening', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id,
    address: self.name
  });

  // Connect with optional auth settings
  if(options.auth) {
    self.s.pool.connect.apply(self.s.pool, options.auth);
  } else {
    self.s.pool.connect();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connections" id="apidoc.element.mongolass.CoreServer.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.pool.allConnections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.cursor" id="apidoc.element.mongolass.CoreServer.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, cursorOptions) {
  var s = this.s;
  cursorOptions = cursorOptions || {};
  // Set up final cursor type
  var FinalCursor = cursorOptions.cursorFactory || s.Cursor;
  // Return the cursor
  return new FinalCursor(s.bson, ns, cmd, cursorOptions, this, s.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.destroy" id="apidoc.element.mongolass.CoreServer.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>destroy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (options) {
  options = options || {};
  var self = this;

  // Set the connections
  if(serverAccounting) delete servers[this.id];

  // Destroy the monitoring process if any
  if(this.monitoringProcessId) {
    clearTimeout(this.monitoringProcessId);
  }

  // No pool, return
  if(!self.s.pool) return;

  // Emit close event
  if(options.emitClose) {
    self.emit('close', self);
  }

  // Emit destroy event
  if(options.emitDestroy) {
    self.emit('destroy', self);
  }

  // Remove all listeners
  listeners.forEach(function(event) {
    self.s.pool.removeAllListeners(event);
  });

  // Emit opening server event
  if(self.listeners('serverClosed').length &gt; 0) self.emit('serverClosed', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id, address: self.name
  });

  // Emit toplogy opening event if not in topology
  if(self.listeners('topologyClosed').length &gt; 0 &amp;&amp; !self.s.inTopology) {
    self.emit('topologyClosed', { topologyId: self.id });
  }

  if(self.s.logger.isDebug()) {
    self.s.logger.debug(f('destroy called on server %s', self.name));
  }

  // Destroy the pool
  this.s.pool.destroy(options.force);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.equals" id="apidoc.element.mongolass.CoreServer.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>equals
        <span class="apidocSignatureSpan">(server)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (server) {
  if(typeof server == 'string') return this.name.toLowerCase() == server.toLowerCase();
  if(server.name) return this.name.toLowerCase() == server.name.toLowerCase();
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getConnection" id="apidoc.element.mongolass.CoreServer.prototype.getConnection">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnection = function () {
  return this.s.pool.get();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getDescription" id="apidoc.element.mongolass.CoreServer.prototype.getDescription">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getDescription
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDescription = function () {
  var ismaster = this.ismaster || {};
  var description = {
    type: sdam.getTopologyType(this),
    address: this.name,
  };

  // Add fields if available
  if(ismaster.hosts) description.hosts = ismaster.hosts;
  if(ismaster.arbiters) description.arbiters = ismaster.arbiters;
  if(ismaster.passives) description.passives = ismaster.passives;
  if(ismaster.setName) description.setName = ismaster.setName;
  return description;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getServer" id="apidoc.element.mongolass.CoreServer.prototype.getServer">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getServer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getServer = function () {
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.insert" id="apidoc.element.mongolass.CoreServer.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'insert', ns, ops, options, callback)) return;

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];

  // Execute write
  return self.wireProtocolHandler.insert(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isConnected" id="apidoc.element.mongolass.CoreServer.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed" id="apidoc.element.mongolass.CoreServer.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster" id="apidoc.element.mongolass.CoreServer.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.ismaster;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.logout" id="apidoc.element.mongolass.CoreServer.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>logout
        <span class="apidocSignatureSpan">(dbName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (dbName, callback) {
  this.s.pool.logout(dbName, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.remove" id="apidoc.element.mongolass.CoreServer.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'remove', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.remove(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.unref" id="apidoc.element.mongolass.CoreServer.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.pool.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.update" id="apidoc.element.mongolass.CoreServer.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'update', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.update(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.auth" id="apidoc.module.mongolass.CoreServer.prototype.auth">module mongolass.CoreServer.prototype.auth</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.auth.auth" id="apidoc.element.mongolass.CoreServer.prototype.auth.auth">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>auth
        <span class="apidocSignatureSpan">(mechanism, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function (mechanism, db) {
  var self = this;

  // If we have the default mechanism we pick mechanism based on the wire
  // protocol max version. If it's &gt;= 3 then scram-sha1 otherwise mongodb-cr
  if(mechanism == 'default' &amp;&amp; self.ismaster &amp;&amp; self.ismaster.maxWireVersion &gt;= 3) {
    mechanism = 'scram-sha-1';
  } else if(mechanism == 'default') {
    mechanism = 'mongocr';
  }

  // Slice all the arguments off
  var args = Array.prototype.slice.call(arguments, 0);
  // Set the mechanism
  args[0] = mechanism;
  // Get the callback
  var callback = args[args.length - 1];

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'auth', db, args, {}, callback)) {
    return;
  }

  // Do not authenticate if we are an arbiter
  if(this.lastIsMaster() &amp;&amp; this.lastIsMaster().arbiterOnly) {
    return callback(null, true);
  }

  // Apply the arguments to the pool
  self.s.pool.auth.apply(self.s.pool, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.command" id="apidoc.module.mongolass.CoreServer.prototype.command">module mongolass.CoreServer.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.command.command" id="apidoc.element.mongolass.CoreServer.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicReadValidations(self, options);
  if(result) return callback(result);

  // Debug log
  if(self.s.logger.isDebug()) self.s.logger.debug(f('executing command [%s] against %s', JSON.stringify({
    ns: ns, cmd: cmd, options: debugOptions(debugFields, options)
  }), self.name));

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'command', ns, cmd, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; cmd.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Query options
  var queryOptions = {
    numberToSkip: 0,
    numberToReturn: -1,
    checkKeys: typeof options.checkKeys == 'boolean' ? options.checkKeys: false,
    serializeFunctions: typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false,
    ignoreUndefined: typeof options.ignoreUndefined == 'boolean' ? options.ignoreUndefined : false
  };

  // Are we executing against a specific topology
  var topology = options.topology || {};
  // Create the query object
  var query = self.wireProtocolHandler.command(self.s.bson, ns, cmd, {}, topology, options);
  // Set slave OK of the query
  query.slaveOk = options.readPreference ? options.readPreference.slaveOk() : false;

  // Write options
  var writeOptions = {
    raw: typeof options.raw == 'boolean' ? options.raw : false,
    promoteLongs: typeof options.promoteLongs == 'boolean' ? options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers : false,
    command: true,
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : false,
    fullResult: typeof options.fullResult == 'boolean' ? options.fullResult : false,
    requestId: query.requestId,
    socketTimeout: typeof options.socketTimeout == 'number' ? options.socketTimeout : null,
  };

  // Write the operation to the pool
  self.s.pool.write(query, writeOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.connect" id="apidoc.module.mongolass.CoreServer.prototype.connect">module mongolass.CoreServer.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connect.connect" id="apidoc.element.mongolass.CoreServer.prototype.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connect
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (options) {
  var self = this;
  options = options || {};

  // Set the connections
  if(serverAccounting) servers[this.id] = this;

  // Do not allow connect to be called on anything that's not disconnected
  if(self.s.pool &amp;&amp; !self.s.pool.isDisconnected() &amp;&amp; !self.s.pool.isDestroyed()) {
    throw MongoError.create(f('server instance in invalid state %s', self.s.state));
  }

  // Create a pool
  self.s.pool = new Pool(assign(self.s.options, options, {bson: this.s.bson}));

  // Set up listeners
  self.s.pool.on('close', eventHandler(self, 'close'));
  self.s.pool.on('error', eventHandler(self, 'error'));
  self.s.pool.on('timeout', eventHandler(self, 'timeout'));
  self.s.pool.on('parseError', eventHandler(self, 'parseError'));
  self.s.pool.on('connect', eventHandler(self, 'connect'));
  self.s.pool.on('reconnect', eventHandler(self, 'reconnect'));
  self.s.pool.on('reconnectFailed', eventHandler(self, 'reconnectFailed'));

  // Emit toplogy opening event if not in topology
  if(!self.s.inTopology) {
    this.emit('topologyOpening', { topologyId: self.id });
  }

  // Emit opening server event
  self.emit('serverOpening', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id,
    address: self.name
  });

  // Connect with optional auth settings
  if(options.auth) {
    self.s.pool.connect.apply(self.s.pool, options.auth);
  } else {
    self.s.pool.connect();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.connections" id="apidoc.module.mongolass.CoreServer.prototype.connections">module mongolass.CoreServer.prototype.connections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.connections.connections" id="apidoc.element.mongolass.CoreServer.prototype.connections.connections">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.pool.allConnections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.cursor" id="apidoc.module.mongolass.CoreServer.prototype.cursor">module mongolass.CoreServer.prototype.cursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.cursor.cursor" id="apidoc.element.mongolass.CoreServer.prototype.cursor.cursor">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, cursorOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, cursorOptions) {
  var s = this.s;
  cursorOptions = cursorOptions || {};
  // Set up final cursor type
  var FinalCursor = cursorOptions.cursorFactory || s.Cursor;
  // Return the cursor
  return new FinalCursor(s.bson, ns, cmd, cursorOptions, this, s.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.destroy" id="apidoc.module.mongolass.CoreServer.prototype.destroy">module mongolass.CoreServer.prototype.destroy</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.destroy.destroy" id="apidoc.element.mongolass.CoreServer.prototype.destroy.destroy">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>destroy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (options) {
  options = options || {};
  var self = this;

  // Set the connections
  if(serverAccounting) delete servers[this.id];

  // Destroy the monitoring process if any
  if(this.monitoringProcessId) {
    clearTimeout(this.monitoringProcessId);
  }

  // No pool, return
  if(!self.s.pool) return;

  // Emit close event
  if(options.emitClose) {
    self.emit('close', self);
  }

  // Emit destroy event
  if(options.emitDestroy) {
    self.emit('destroy', self);
  }

  // Remove all listeners
  listeners.forEach(function(event) {
    self.s.pool.removeAllListeners(event);
  });

  // Emit opening server event
  if(self.listeners('serverClosed').length &gt; 0) self.emit('serverClosed', {
    topologyId: self.s.topologyId != -1 ? self.s.topologyId : self.id, address: self.name
  });

  // Emit toplogy opening event if not in topology
  if(self.listeners('topologyClosed').length &gt; 0 &amp;&amp; !self.s.inTopology) {
    self.emit('topologyClosed', { topologyId: self.id });
  }

  if(self.s.logger.isDebug()) {
    self.s.logger.debug(f('destroy called on server %s', self.name));
  }

  // Destroy the pool
  this.s.pool.destroy(options.force);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.equals" id="apidoc.module.mongolass.CoreServer.prototype.equals">module mongolass.CoreServer.prototype.equals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.equals.equals" id="apidoc.element.mongolass.CoreServer.prototype.equals.equals">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>equals
        <span class="apidocSignatureSpan">(server)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (server) {
  if(typeof server == 'string') return this.name.toLowerCase() == server.toLowerCase();
  if(server.name) return this.name.toLowerCase() == server.name.toLowerCase();
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.getConnection" id="apidoc.module.mongolass.CoreServer.prototype.getConnection">module mongolass.CoreServer.prototype.getConnection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getConnection.getConnection" id="apidoc.element.mongolass.CoreServer.prototype.getConnection.getConnection">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnection = function () {
  return this.s.pool.get();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.getDescription" id="apidoc.module.mongolass.CoreServer.prototype.getDescription">module mongolass.CoreServer.prototype.getDescription</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getDescription.getDescription" id="apidoc.element.mongolass.CoreServer.prototype.getDescription.getDescription">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getDescription
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDescription = function () {
  var ismaster = this.ismaster || {};
  var description = {
    type: sdam.getTopologyType(this),
    address: this.name,
  };

  // Add fields if available
  if(ismaster.hosts) description.hosts = ismaster.hosts;
  if(ismaster.arbiters) description.arbiters = ismaster.arbiters;
  if(ismaster.passives) description.passives = ismaster.passives;
  if(ismaster.setName) description.setName = ismaster.setName;
  return description;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.getServer" id="apidoc.module.mongolass.CoreServer.prototype.getServer">module mongolass.CoreServer.prototype.getServer</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.getServer.getServer" id="apidoc.element.mongolass.CoreServer.prototype.getServer.getServer">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>getServer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getServer = function () {
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.insert" id="apidoc.module.mongolass.CoreServer.prototype.insert">module mongolass.CoreServer.prototype.insert</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.insert.insert" id="apidoc.element.mongolass.CoreServer.prototype.insert.insert">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'insert', ns, ops, options, callback)) return;

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];

  // Execute write
  return self.wireProtocolHandler.insert(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.isConnected" id="apidoc.module.mongolass.CoreServer.prototype.isConnected">module mongolass.CoreServer.prototype.isConnected</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isConnected.isConnected" id="apidoc.element.mongolass.CoreServer.prototype.isConnected.isConnected">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.isDestroyed" id="apidoc.module.mongolass.CoreServer.prototype.isDestroyed">module mongolass.CoreServer.prototype.isDestroyed</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.isDestroyed.isDestroyed" id="apidoc.element.mongolass.CoreServer.prototype.isDestroyed.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  if(!this.s.pool) return false;
  return this.s.pool.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.lastIsMaster" id="apidoc.module.mongolass.CoreServer.prototype.lastIsMaster">module mongolass.CoreServer.prototype.lastIsMaster</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.lastIsMaster.lastIsMaster" id="apidoc.element.mongolass.CoreServer.prototype.lastIsMaster.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.ismaster;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.logout" id="apidoc.module.mongolass.CoreServer.prototype.logout">module mongolass.CoreServer.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.logout.logout" id="apidoc.element.mongolass.CoreServer.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>logout
        <span class="apidocSignatureSpan">(dbName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (dbName, callback) {
  this.s.pool.logout(dbName, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.remove" id="apidoc.module.mongolass.CoreServer.prototype.remove">module mongolass.CoreServer.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.remove.remove" id="apidoc.element.mongolass.CoreServer.prototype.remove.remove">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'remove', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.remove(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.unref" id="apidoc.module.mongolass.CoreServer.prototype.unref">module mongolass.CoreServer.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.unref.unref" id="apidoc.element.mongolass.CoreServer.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.pool.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.prototype.update" id="apidoc.module.mongolass.CoreServer.prototype.update">module mongolass.CoreServer.prototype.update</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.prototype.update.update" id="apidoc.element.mongolass.CoreServer.prototype.update.update">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {}, options = options || {};
  var result = basicWriteValidations(self, options);
  if(result) return callback(result);

  // If we are not connected or have a disconnectHandler specified
  if(disconnectHandler(self, 'update', ns, ops, options, callback)) return;

  // Check if we have collation support
  if(this.ismaster &amp;&amp; this.ismaster.maxWireVersion &lt; 5 &amp;&amp; options.collation) {
    return callback(new MongoError(f('server %s does not support collation', this.name)));
  }

  // Setup the docs as an array
  ops = Array.isArray(ops) ? ops : [ops];
  // Execute write
  return self.wireProtocolHandler.update(self.s.pool, self.ismaster, ns, self.s.bson, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.CoreServer.servers" id="apidoc.module.mongolass.CoreServer.servers">module mongolass.CoreServer.servers</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.CoreServer.servers.servers" id="apidoc.element.mongolass.CoreServer.servers.servers">
        function <span class="apidocSignatureSpan">mongolass.CoreServer.</span>servers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">servers = function () {
  return servers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor" id="apidoc.module.mongolass.Cursor">module mongolass.Cursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.Cursor" id="apidoc.element.mongolass.Cursor.Cursor">
        function <span class="apidocSignatureSpan">mongolass.</span>Cursor
        <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor = function (bson, ns, cmd, options, topology, topologyOptions) {
  CoreCursor.apply(this, Array.prototype.slice.call(arguments, 0));
  var self = this;
  var state = Cursor.INIT;
  var streamOptions = {};

  // Tailable cursor options
  var numberOfRetries = options.numberOfRetries || 5;
  var tailableRetryInterval = options.tailableRetryInterval || 500;
  var currentNumberOfRetries = numberOfRetries;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set up
  Readable.call(this, {objectMode: true});

  // Internal cursor state
  this.s = {
    // Tailable cursor options
      numberOfRetries: numberOfRetries
    , tailableRetryInterval: tailableRetryInterval
    , currentNumberOfRetries: currentNumberOfRetries
    // State
    , state: state
    // Stream options
    , streamOptions: streamOptions
    // BSON
    , bson: bson
    // Namespace
    , ns: ns
    // Command
    , cmd: cmd
    // Options
    , options: options
    // Topology
    , topology: topology
    // Topology options
    , topologyOptions: topologyOptions
    // Promise library
    , promiseLibrary: promiseLibrary
    // Current doc
    , currentDoc: null
  }

  // Translate correctly
  if(self.s.options.noCursorTimeout == true) {
    self.addCursorFlag('noCursorTimeout', true);
  }

  // Set the sort value
  this.sortValue = self.s.cmd.sort;

  // Get the batchSize
  var batchSize = cmd.cursor &amp;&amp; cmd.cursor.batchSize
    ? cmd.cursor &amp;&amp; cmd.cursor.batchSize
    : (options.cursor &amp;&amp; options.cursor.batchSize ? options.cursor.batchSize : 1000);

  // Set the batchSize
  this.setCursorBatchSize(batchSize);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.super_" id="apidoc.element.mongolass.Cursor.super_">
        function <span class="apidocSignatureSpan">mongolass.Cursor.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Readable(options) {
  if (!(this instanceof Readable))
    return new Readable(options);

  this._readableState = new ReadableState(options, this);

  // legacy
  this.readable = true;

  if (options &amp;&amp; typeof options.read === 'function')
    this._read = options.read;

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.define" id="apidoc.module.mongolass.Cursor.define">module mongolass.Cursor.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Cursor.define.object" id="apidoc.element.mongolass.Cursor.define.object">
        function <span class="apidocSignatureSpan">mongolass.Cursor.define.</span>object
        <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (bson, ns, cmd, options, topology, topologyOptions) {
  CoreCursor.apply(this, Array.prototype.slice.call(arguments, 0));
  var self = this;
  var state = Cursor.INIT;
  var streamOptions = {};

  // Tailable cursor options
  var numberOfRetries = options.numberOfRetries || 5;
  var tailableRetryInterval = options.tailableRetryInterval || 500;
  var currentNumberOfRetries = numberOfRetries;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set up
  Readable.call(this, {objectMode: true});

  // Internal cursor state
  this.s = {
    // Tailable cursor options
      numberOfRetries: numberOfRetries
    , tailableRetryInterval: tailableRetryInterval
    , currentNumberOfRetries: currentNumberOfRetries
    // State
    , state: state
    // Stream options
    , streamOptions: streamOptions
    // BSON
    , bson: bson
    // Namespace
    , ns: ns
    // Command
    , cmd: cmd
    // Options
    , options: options
    // Topology
    , topology: topology
    // Topology options
    , topologyOptions: topologyOptions
    // Promise library
    , promiseLibrary: promiseLibrary
    // Current doc
    , currentDoc: null
  }

  // Translate correctly
  if(self.s.options.noCursorTimeout == true) {
    self.addCursorFlag('noCursorTimeout', true);
  }

  // Set the sort value
  this.sortValue = self.s.cmd.sort;

  // Get the batchSize
  var batchSize = cmd.cursor &amp;&amp; cmd.cursor.batchSize
    ? cmd.cursor &amp;&amp; cmd.cursor.batchSize
    : (options.cursor &amp;&amp; options.cursor.batchSize ? options.cursor.batchSize : 1000);

  // Set the batchSize
  this.setCursorBatchSize(batchSize);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype" id="apidoc.module.mongolass.Cursor.prototype">module mongolass.Cursor.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._find" id="apidoc.element.mongolass.Cursor.prototype._find">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_find
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_find = function (callback) {
  var self = this;

  if(self.logger.isDebug()) {
    self.logger.debug(f('issue initial query [%s] with flags [%s]'
      , JSON.stringify(self.cmd)
      , JSON.stringify(self.query)));
  }

  var queryCallback = function(err, r) {
    if(err) return callback(err);

    // Get the raw message
    var result = r.message;

    // Query failure bit set
    if(result.queryFailure) {
      return callback(MongoError.create(result.documents[0]), null);
    }

    // Check if we have a command cursor
    if(Array.isArray(result.documents) &amp;&amp; result.documents.length == 1
      &amp;&amp; (!self.cmd.find || (self.cmd.find &amp;&amp; self.cmd.virtual == false))
      &amp;&amp; (result.documents[0].cursor != 'string'
        || result.documents[0]['$err']
        || result.documents[0]['errmsg']
        || Array.isArray(result.documents[0].result))
      ) {

      // We have a an error document return the error
      if(result.documents[0]['$err']
        || result.documents[0]['errmsg']) {
        return callback(MongoError.create(result.documents[0]), null);
      }

      // We have a cursor document
      if(result.documents[0].cursor != null
        &amp;&amp; typeof result.documents[0].cursor != 'string') {
          var id = result.documents[0].cursor.id;
          // If we have a namespace change set the new namespace for getmores
          if(result.documents[0].cursor.ns) {
            self.ns = result.documents[0].cursor.ns;
          }
          // Promote id to long if needed
          self.cursorState.cursorId = typeof id == 'number' ? Long.fromNumber(id) : id;
          self.cursorState.lastCursorId = self.cursorState.cursorId;
          // If we have a firstBatch set it
          if(Array.isArray(result.documents[0].cursor.firstBatch)) {
            self.cursorState.documents = result.documents[0].cursor.firstBatch;//.reverse();
          }

          // Return after processing command cursor
          return callback(null, null);
      }

      if(Array.isArray(result.documents[0].result)) {
        self.cursorState.documents = result.documents[0].result;
        self.cursorState.cursorId = Long.ZERO;
        return callback(null, null);
      }
    }

    // Otherwise fall back to regular find path
    self.cursorState.cursorId = result.cursorId;
    self.cursorState.documents = result.documents;
    self.cursorState.lastCursorId = result.cursorId;

    // Transform the results with passed in transformation method if provided
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.query == 'function') {
      self.cursorState.documents = self.cursorState.transforms.query(result);
    }

    // Return callback
    callback(null, null);
  }

  // Options passed to the pool
  var queryOptions = {};

  // If we have a raw query decorate the function
  if(self.options.raw || self.cmd.raw) {
    // queryCallback.raw = self.options.raw || self.cmd.raw;
    queryOptions.raw = self.options.raw || self.cmd.raw;
  }

  // Do we have documentsReturnedIn set on the query
  if(typeof self.query.documentsReturnedIn == 'string') {
    // queryCallback.documentsReturnedIn = self.query.documentsReturnedIn;
    queryOptions.documentsReturnedIn = self.query.documentsReturnedIn;
  }

  // Add promote Long value if defined
  if(typeof self.cursorState.promoteLongs == 'boolean') {
    queryOptions.promoteLongs = self.cursorState.promoteLongs;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteValues == 'boolean') {
    queryOptions.promoteValues = self.cursorState.promoteValues;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteBuffers == 'boolean') {
    queryOptions.promoteBuffers = self.cursorState.promoteBuffers;
  }
  // Write the initial command out
  self.server.s.pool.write(self.query, queryOptions, queryCallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._getmore" id="apidoc.element.mongolass.Cursor.prototype._getmore">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_getmore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getmore = function (callback) {
  if(this.logger.isDebug()) this.logger.debug(f('schedule getMore call for query [%s]', JSON.stringify(this.query)))
  // Determine if it's a raw query
  var raw = this.options.raw || this.cmd.raw;

  // Set the current batchSize
  var batchSize = this.cursorState.batchSize;
  if(this.cursorState.limit &gt; 0
    &amp;&amp; ((this.cursorState.currentLimit + batchSize) &gt; this.cursorState.limit)) {
    batchSize = this.cursorState.limit - this.cursorState.currentLimit;
  }

  // Default pool
  var pool = this.server.s.pool;

  // We have a wire protocol handler
  this.server.wireProtocolHandler.getMore(this.bson, this.ns, this.cursorState, batchSize, raw, pool, this.options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._killcursor" id="apidoc.element.mongolass.Cursor.prototype._killcursor">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_killcursor
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_killcursor = function (callback) {
  // Set cursor to dead
  this.cursorState.dead = true;
  this.cursorState.killed = true;
  // Remove documents
  this.cursorState.documents = [];

  // If no cursor id just return
  if(this.cursorState.cursorId == null || this.cursorState.cursorId.isZero() || this.cursorState.init == false) {
    if(callback) callback(null, null);
    return;
  }

  // Default pool
  var pool = this.server.s.pool;
  // Execute command
  this.server.wireProtocolHandler.killCursor(this.bson, this.ns, this.cursorState.cursorId, pool, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._next" id="apidoc.element.mongolass.Cursor.prototype._next">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_next = function (callback) {
  nextFunction(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._read" id="apidoc.element.mongolass.Cursor.prototype._read">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_read
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_read = function () {
  var self = this;
  if(self.s.state == Cursor.CLOSED || self.isDead()) {
    return self.push(null);
  }

  // Get the next item
  self.nextObject(function(err, result) {
    if(err) {
      if(self.listeners('error') &amp;&amp; self.listeners('error').length &gt; 0) {
        self.emit('error', err);
      }
      if(!self.isDead()) self.close();

      // Emit end event
      self.emit('end');
      return self.emit('finish');
    }

    // If we provided a transformation method
    if(typeof self.s.streamOptions.transform == 'function' &amp;&amp; result != null) {
      return self.push(self.s.streamOptions.transform(result));
    }

    // If we provided a map function
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.doc == 'function' &amp;&amp; result != null) {
      return self.push(self.cursorState.transforms.doc(result));
    }

    // Return the result
    self.push(result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag" id="apidoc.element.mongolass.Cursor.prototype.addCursorFlag">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addCursorFlag
        <span class="apidocSignatureSpan">(flag, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addCursorFlag = function (flag, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(flags.indexOf(flag) == -1) throw MongoError.create({message: f("flag %s not a supported flag %s", flag, flags), driver:true
 });
  if(typeof value != 'boolean') throw MongoError.create({message: f("flag %s must be a boolean value", flag), driver:true});
  this.s.cmd[flag] = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier" id="apidoc.element.mongolass.Cursor.prototype.addQueryModifier">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addQueryModifier
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addQueryModifier = function (name, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(name[0] != '$') throw MongoError.create({message: f("%s is not a valid query modifier"), driver:true});
  // Strip of the $
  var field = name.substr(1);
  // Set on the command
  this.s.cmd[field] = value;
  // Deal with the special case for sort
  if(field == 'orderby') this.s.cmd.sort = this.s.cmd[field];
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.batchSize" id="apidoc.element.mongolass.Cursor.prototype.batchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>batchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchSize = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support batchSize", driver:true});
  if(this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "batchSize requires an integer", driver:true});
  this.s.cmd.batchSize = value;
  this.setCursorBatchSize(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount" id="apidoc.element.mongolass.Cursor.prototype.bufferedCount">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>bufferedCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bufferedCount = function () {
  return this.cursorState.documents.length - this.cursorState.cursorIndex;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.clone" id="apidoc.element.mongolass.Cursor.prototype.clone">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  return this.topology.cursor(this.ns, this.cmd, this.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.close" id="apidoc.element.mongolass.Cursor.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (callback) {
  this.s.state = Cursor.CLOSED;
  // Kill the cursor
  this.kill();
  // Emit the close event for the cursor
  this.emit('close');
  // Callback if provided
  if(typeof callback == 'function') return handleCallback(callback, null, this);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.collation" id="apidoc.element.mongolass.Cursor.prototype.collation">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>collation
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collation = function (value) {
  this.s.cmd.collation = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.comment" id="apidoc.element.mongolass.Cursor.prototype.comment">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>comment
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">comment = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.comment = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.count" id="apidoc.element.mongolass.Cursor.prototype.count">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>count
        <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (applySkipLimit, opts, callback) {
  var self = this;
  if(self.s.cmd.query == null) throw MongoError.create({message: "count can only be used with find command", driver:true});
  if(typeof opts == 'function') callback = opts, opts = {};
  opts = opts || {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, applySkipLimit, opts, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, applySkipLimit, opts, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.cursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorBatchSize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBatchSize = function () {
  return this.cursorState.batchSize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit" id="apidoc.element.mongolass.Cursor.prototype.cursorLimit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorLimit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorLimit = function () {
  return this.cursorState.limit;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip" id="apidoc.element.mongolass.Cursor.prototype.cursorSkip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorSkip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorSkip = function () {
  return this.cursorState.skip;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.destroy" id="apidoc.element.mongolass.Cursor.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>destroy
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (err) {
  if(err) this.emit('error', err);
  this.pause();
  this.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.each" id="apidoc.element.mongolass.Cursor.prototype.each">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (callback) {
  // Rewind cursor state
  this.rewind();
  // Set current cursor to INIT
  this.s.state = Cursor.INIT;
  // Run the query
  _each(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.explain" id="apidoc.element.mongolass.Cursor.prototype.explain">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>explain
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">explain = function (callback) {
  var self = this;
  this.s.cmd.explain = true;

  // Do we have a readConcern
  if(this.s.cmd.readConcern) {
    delete this.s.cmd['readConcern'];
  }

  // Execute using callback
  if(typeof callback == 'function') return this._next(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self._next(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.filter" id="apidoc.element.mongolass.Cursor.prototype.filter">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>filter
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (filter) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.query = filter;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
};

function execBeforePlugins() {
let self = this;
let hookName = 'before' + _.upperFirst(this._op);
let plugins = _.<span class="apidocCodeKeywordSpan">filter</span>(this._plugins, plugin =&gt; plugin.hooks[hookName]);
if (!plugins.length) {
  return;
}
return co(function* () {
  for (let plugin of plugins) {
    debug('%s %s before plugin %s: args -&gt; %j', self._model._name, hookName, plugin.name, self._args);
    try {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.forEach" id="apidoc.element.mongolass.Cursor.prototype.forEach">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>forEach
        <span class="apidocSignatureSpan">(iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (iterator, callback) {
  this.each(function(err, doc){
    if(err) { callback(err); return false; }
    if(doc != null) { iterator(doc); return true; }
    if(doc == null &amp;&amp; callback) {
      var internalCallback = callback;
      callback = null;
      internalCallback(null);
      return false;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'use strict';

const populate = require('mongolass-plugin-populate');

// built-in plugins
const options = ['limit', 'sort', 'fields', 'skip', 'hint', 'explain'
;, 'snapshot', 'timeout', 'tailable', 'tailableRetryInterval', 'numberOfRetries'
;, 'awaitdata', 'oplogReplay', 'exhaust', 'batchSize', 'returnKey', 'maxScan
', 'min', 'max', 'showDiskLoc', 'comment', 'raw', 'readPreference'
;, 'partial', 'maxTimeMS'];

options.<span class="apidocCodeKeywordSpan">forEach</span>(function (key) {
exports[key] = {
  beforeFind: function beforeFind(value) {
    bindOption.call(this, key, value);
  },
  beforeFindOne: function beforeFindOne(value) {
    bindOption.call(this, key, value);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hasNext" id="apidoc.element.mongolass.Cursor.prototype.hasNext">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hasNext
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasNext = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    if(self.s.currentDoc){
      return callback(null, true);
    } else {
      return nextObject(self, function(err, doc) {
        if(!doc) return callback(null, false);
        self.s.currentDoc = doc;
        callback(null, true);
      });
    }
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    if(self.s.currentDoc){
      resolve(true);
    } else {
      nextObject(self, function(err, doc) {
        if(self.s.state == Cursor.CLOSED || self.isDead()) return resolve(false);
        if(err) return reject(err);
        if(!doc) return resolve(false);
        self.s.currentDoc = doc;
        resolve(true);
      });
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hint" id="apidoc.element.mongolass.Cursor.prototype.hint">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hint
        <span class="apidocSignatureSpan">(hint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hint = function (hint) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.hint = hint;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isClosed" id="apidoc.element.mongolass.Cursor.prototype.isClosed">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isClosed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isClosed = function () {
  return this.isDead();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isDead" id="apidoc.element.mongolass.Cursor.prototype.isDead">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isDead
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDead = function () {
  return this.cursorState.dead == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isKilled" id="apidoc.element.mongolass.Cursor.prototype.isKilled">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isKilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isKilled = function () {
  return this.cursorState.killed == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isNotified" id="apidoc.element.mongolass.Cursor.prototype.isNotified">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNotified = function () {
  return this.cursorState.notified == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.kill" id="apidoc.element.mongolass.Cursor.prototype.kill">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>kill
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">kill = function (callback) {
  this._killcursor(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.limit" id="apidoc.element.mongolass.Cursor.prototype.limit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>limit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">limit = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support limit", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "limit requires an integer", driver:true});
  this.s.cmd.limit = value;
  // this.cursorLimit = value;
  this.setCursorLimit(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

co(function* () {
  yield User.insert({ name: '1' });
  yield User.insert({ name: '2' });
  const result = yield User
    .find()
    .skip(1)
    .<span class="apidocCodeKeywordSpan">limit</span>(1);
  console.log(result);
  // [ { _id: 58501c1281ea915a2760a2ee, name: '2' } ]
}).catch(console.error.bind(console));
```

## Test
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.map" id="apidoc.element.mongolass.Cursor.prototype.map">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>map
        <span class="apidocSignatureSpan">(transform)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (transform) {
  this.cursorState.transforms = { doc: transform };
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  },
  afterFind: async function (users, opt) {
    console.log('afterFind', this._op, this._args, opt);
    // afterFind find [ { firstname: 'san' } ] { sep: ' ' }
    if (!users.length) return users;
    return users.<span class="apidocCodeKeywordSpan">map</span>(user =&gt; {
      user.fullname = user.firstname + opt.sep + user.lastname;
      return user;
    });
  }
});

co(function* () {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.max" id="apidoc.element.mongolass.Cursor.prototype.max">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>max
        <span class="apidocSignatureSpan">(max)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">max = function (max) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.max = max;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxAwaitTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxAwaitTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxAwaitTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxAwaitTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxScan" id="apidoc.element.mongolass.Cursor.prototype.maxScan">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxScan
        <span class="apidocSignatureSpan">(maxScan)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxScan = function (maxScan) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxScan = maxScan;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxTimeMS">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMs" id="apidoc.element.mongolass.Cursor.prototype.maxTimeMs">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMs
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxTimeMs = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.min" id="apidoc.element.mongolass.Cursor.prototype.min">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>min
        <span class="apidocSignatureSpan">(min)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">min = function (min) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.min = min;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.next" id="apidoc.element.mongolass.Cursor.prototype.next">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return callback(null, doc);
    }

    // Return the next object
    return nextObject(self, callback)
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return resolve(doc);
    }

    nextObject(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.nextObject" id="apidoc.element.mongolass.Cursor.prototype.nextObject">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>nextObject
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextObject = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return callback(null, doc);
    }

    // Return the next object
    return nextObject(self, callback)
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return resolve(doc);
    }

    nextObject(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.project" id="apidoc.element.mongolass.Cursor.prototype.project">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>project
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">project = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.fields = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments" id="apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>readBufferedDocuments
        <span class="apidocSignatureSpan">(number)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readBufferedDocuments = function (number) {
  var unreadDocumentsLength = this.cursorState.documents.length - this.cursorState.cursorIndex;
  var length = number &lt; unreadDocumentsLength ? number : unreadDocumentsLength;
  var elements = this.cursorState.documents.slice(this.cursorState.cursorIndex, this.cursorState.cursorIndex + length);

  // Transform the doc with passed in transformation method if provided
  if(this.cursorState.transforms &amp;&amp; typeof this.cursorState.transforms.doc == 'function') {
    // Transform all the elements
    for(var i = 0; i &lt; elements.length; i++) {
      elements[i] = this.cursorState.transforms.doc(elements[i]);
    }
  }

  // Ensure we do not return any more documents than the limit imposed
  // Just return the number of elements up to the limit
  if(this.cursorState.limit &gt; 0 &amp;&amp; (this.cursorState.currentLimit + elements.length) &gt; this.cursorState.limit) {
    elements = elements.slice(0, (this.cursorState.limit - this.cursorState.currentLimit));
    this.kill();
  }

  // Adjust current limit
  this.cursorState.currentLimit = this.cursorState.currentLimit + elements.length;
  this.cursorState.cursorIndex = this.cursorState.cursorIndex + elements.length;

  // Return elements
  return elements;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.returnKey" id="apidoc.element.mongolass.Cursor.prototype.returnKey">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>returnKey
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">returnKey = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.returnKey = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.rewind" id="apidoc.element.mongolass.Cursor.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function () {
  if(this.cursorState.init) {
    if(!this.cursorState.dead) {
      this.kill();
    }

    this.cursorState.currentLimit = 0;
    this.cursorState.init = false;
    this.cursorState.dead = false;
    this.cursorState.killed = false;
    this.cursorState.notified = false;
    this.cursorState.documents = [];
    this.cursorState.cursorId = null;
    this.cursorState.cursorIndex = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorBatchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorBatchSize = function (value) {
  this.cursorState.batchSize = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit" id="apidoc.element.mongolass.Cursor.prototype.setCursorLimit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorLimit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorLimit = function (value) {
  this.cursorState.limit = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption" id="apidoc.element.mongolass.Cursor.prototype.setCursorOption">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorOption
        <span class="apidocSignatureSpan">(field, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorOption = function (field, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(fields.indexOf(field) == -1) throw MongoError.create({message: f("option %s not a supported option %s", field, fields), driver
:true });
  this.s[field] = value;
  if(field == 'numberOfRetries')
    this.s.currentNumberOfRetries = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip" id="apidoc.element.mongolass.Cursor.prototype.setCursorSkip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorSkip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorSkip = function (value) {
  this.cursorState.skip = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference" id="apidoc.element.mongolass.Cursor.prototype.setReadPreference">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setReadPreference
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setReadPreference = function (r) {
  if(this.s.state != Cursor.INIT) throw MongoError.create({message: 'cannot change cursor readPreference after cursor has been accessed
', driver:true});
  if(r instanceof ReadPreference) {
    this.s.options.readPreference = new CoreReadPreference(r.mode, r.tags, {maxStalenessSeconds: r.maxStalenessSeconds});
  } else if(typeof r == 'string'){
    this.s.options.readPreference = new CoreReadPreference(r);
  } else if(r instanceof CoreReadPreference) {
    this.s.options.readPreference = r;
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.showRecordId" id="apidoc.element.mongolass.Cursor.prototype.showRecordId">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>showRecordId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">showRecordId = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.showDiskLoc = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.skip" id="apidoc.element.mongolass.Cursor.prototype.skip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>skip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support skip", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "skip requires an integer", driver:true});
  this.s.cmd.skip = value;
  this.setCursorSkip(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const User = mongolass.model('User');

co(function* () {
  yield User.insert({ name: '1' });
  yield User.insert({ name: '2' });
  const result = yield User
    .find()
    .<span class="apidocCodeKeywordSpan">skip</span>(1)
    .limit(1);
  console.log(result);
  // [ { _id: 58501c1281ea915a2760a2ee, name: '2' } ]
}).catch(console.error.bind(console));
```

## Test
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.snapshot" id="apidoc.element.mongolass.Cursor.prototype.snapshot">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>snapshot
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">snapshot = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.snapshot = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.sort" id="apidoc.element.mongolass.Cursor.prototype.sort">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>sort
        <span class="apidocSignatureSpan">(keyOrList, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sort = function (keyOrList, direction) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support sorting", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  var order = keyOrList;

  // We have an array of arrays, we need to preserve the order of the sort
  // so we will us a Map
  if(Array.isArray(order) &amp;&amp; Array.isArray(order[0])) {
    order = new Map(order.map(function(x) {
      var value = [x[0], null];
      if(x[1] == 'asc') {
        value[1] = 1;
      } else if(x[1] == 'desc') {
        value[1] = -1;
      } else if(x[1] == 1 || x[1] == -1) {
        value[1] = x[1];
      } else {
        throw new MongoError("Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending
|descending)']]");
      }

      return value;
    }));
  }

  if(direction != null) {
    order = [[keyOrList, direction]];
  }

  this.s.cmd.sort = order;
  this.sortValue = order;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .find()
  .select({ name: 1, age: 1 })
  .<span class="apidocCodeKeywordSpan">sort</span>({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```

or use optional schema:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.stream" id="apidoc.element.mongolass.Cursor.prototype.stream">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function (options) {
  this.s.streamOptions = options || {};
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.toArray" id="apidoc.element.mongolass.Cursor.prototype.toArray">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>toArray
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toArray = function (callback) {
  var self = this;
  if(self.s.options.tailable) throw MongoError.create({message: 'Tailable cursor cannot be converted to array', driver:true});

  // Execute using callback
  if(typeof callback == 'function') return toArray(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    toArray(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exec(cb) {
  return Promise.resolve()
    .then(() =&gt; execBeforePlugins.call(this))
    .then(() =&gt; ctx._connect())
    .then(conn =&gt; {
      let res = conn[this._op].apply(conn, this._args);
      if (res.toArray &amp;&amp; (typeof res.toArray === 'function')) {
        return res.<span class="apidocCodeKeywordSpan">toArray</span>();
      }
      return res;
    })
    .then(result =&gt; execAfterPlugins.call(this, result))
    .catch(e =&gt; addMongoErrorDetail.call(this, e))
    .asCallback(cb);
}
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype._find" id="apidoc.module.mongolass.Cursor.prototype._find">module mongolass.Cursor.prototype._find</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._find._find" id="apidoc.element.mongolass.Cursor.prototype._find._find">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_find
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_find = function (callback) {
  var self = this;

  if(self.logger.isDebug()) {
    self.logger.debug(f('issue initial query [%s] with flags [%s]'
      , JSON.stringify(self.cmd)
      , JSON.stringify(self.query)));
  }

  var queryCallback = function(err, r) {
    if(err) return callback(err);

    // Get the raw message
    var result = r.message;

    // Query failure bit set
    if(result.queryFailure) {
      return callback(MongoError.create(result.documents[0]), null);
    }

    // Check if we have a command cursor
    if(Array.isArray(result.documents) &amp;&amp; result.documents.length == 1
      &amp;&amp; (!self.cmd.find || (self.cmd.find &amp;&amp; self.cmd.virtual == false))
      &amp;&amp; (result.documents[0].cursor != 'string'
        || result.documents[0]['$err']
        || result.documents[0]['errmsg']
        || Array.isArray(result.documents[0].result))
      ) {

      // We have a an error document return the error
      if(result.documents[0]['$err']
        || result.documents[0]['errmsg']) {
        return callback(MongoError.create(result.documents[0]), null);
      }

      // We have a cursor document
      if(result.documents[0].cursor != null
        &amp;&amp; typeof result.documents[0].cursor != 'string') {
          var id = result.documents[0].cursor.id;
          // If we have a namespace change set the new namespace for getmores
          if(result.documents[0].cursor.ns) {
            self.ns = result.documents[0].cursor.ns;
          }
          // Promote id to long if needed
          self.cursorState.cursorId = typeof id == 'number' ? Long.fromNumber(id) : id;
          self.cursorState.lastCursorId = self.cursorState.cursorId;
          // If we have a firstBatch set it
          if(Array.isArray(result.documents[0].cursor.firstBatch)) {
            self.cursorState.documents = result.documents[0].cursor.firstBatch;//.reverse();
          }

          // Return after processing command cursor
          return callback(null, null);
      }

      if(Array.isArray(result.documents[0].result)) {
        self.cursorState.documents = result.documents[0].result;
        self.cursorState.cursorId = Long.ZERO;
        return callback(null, null);
      }
    }

    // Otherwise fall back to regular find path
    self.cursorState.cursorId = result.cursorId;
    self.cursorState.documents = result.documents;
    self.cursorState.lastCursorId = result.cursorId;

    // Transform the results with passed in transformation method if provided
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.query == 'function') {
      self.cursorState.documents = self.cursorState.transforms.query(result);
    }

    // Return callback
    callback(null, null);
  }

  // Options passed to the pool
  var queryOptions = {};

  // If we have a raw query decorate the function
  if(self.options.raw || self.cmd.raw) {
    // queryCallback.raw = self.options.raw || self.cmd.raw;
    queryOptions.raw = self.options.raw || self.cmd.raw;
  }

  // Do we have documentsReturnedIn set on the query
  if(typeof self.query.documentsReturnedIn == 'string') {
    // queryCallback.documentsReturnedIn = self.query.documentsReturnedIn;
    queryOptions.documentsReturnedIn = self.query.documentsReturnedIn;
  }

  // Add promote Long value if defined
  if(typeof self.cursorState.promoteLongs == 'boolean') {
    queryOptions.promoteLongs = self.cursorState.promoteLongs;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteValues == 'boolean') {
    queryOptions.promoteValues = self.cursorState.promoteValues;
  }

  // Add promote values if defined
  if(typeof self.cursorState.promoteBuffers == 'boolean') {
    queryOptions.promoteBuffers = self.cursorState.promoteBuffers;
  }
  // Write the initial command out
  self.server.s.pool.write(self.query, queryOptions, queryCallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype._getmore" id="apidoc.module.mongolass.Cursor.prototype._getmore">module mongolass.Cursor.prototype._getmore</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._getmore._getmore" id="apidoc.element.mongolass.Cursor.prototype._getmore._getmore">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_getmore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getmore = function (callback) {
  if(this.logger.isDebug()) this.logger.debug(f('schedule getMore call for query [%s]', JSON.stringify(this.query)))
  // Determine if it's a raw query
  var raw = this.options.raw || this.cmd.raw;

  // Set the current batchSize
  var batchSize = this.cursorState.batchSize;
  if(this.cursorState.limit &gt; 0
    &amp;&amp; ((this.cursorState.currentLimit + batchSize) &gt; this.cursorState.limit)) {
    batchSize = this.cursorState.limit - this.cursorState.currentLimit;
  }

  // Default pool
  var pool = this.server.s.pool;

  // We have a wire protocol handler
  this.server.wireProtocolHandler.getMore(this.bson, this.ns, this.cursorState, batchSize, raw, pool, this.options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype._killcursor" id="apidoc.module.mongolass.Cursor.prototype._killcursor">module mongolass.Cursor.prototype._killcursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._killcursor._killcursor" id="apidoc.element.mongolass.Cursor.prototype._killcursor._killcursor">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_killcursor
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_killcursor = function (callback) {
  // Set cursor to dead
  this.cursorState.dead = true;
  this.cursorState.killed = true;
  // Remove documents
  this.cursorState.documents = [];

  // If no cursor id just return
  if(this.cursorState.cursorId == null || this.cursorState.cursorId.isZero() || this.cursorState.init == false) {
    if(callback) callback(null, null);
    return;
  }

  // Default pool
  var pool = this.server.s.pool;
  // Execute command
  this.server.wireProtocolHandler.killCursor(this.bson, this.ns, this.cursorState.cursorId, pool, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype._next" id="apidoc.module.mongolass.Cursor.prototype._next">module mongolass.Cursor.prototype._next</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._next._next" id="apidoc.element.mongolass.Cursor.prototype._next._next">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_next = function (callback) {
  nextFunction(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype._read" id="apidoc.module.mongolass.Cursor.prototype._read">module mongolass.Cursor.prototype._read</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype._read._read" id="apidoc.element.mongolass.Cursor.prototype._read._read">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>_read
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_read = function () {
  var self = this;
  if(self.s.state == Cursor.CLOSED || self.isDead()) {
    return self.push(null);
  }

  // Get the next item
  self.nextObject(function(err, result) {
    if(err) {
      if(self.listeners('error') &amp;&amp; self.listeners('error').length &gt; 0) {
        self.emit('error', err);
      }
      if(!self.isDead()) self.close();

      // Emit end event
      self.emit('end');
      return self.emit('finish');
    }

    // If we provided a transformation method
    if(typeof self.s.streamOptions.transform == 'function' &amp;&amp; result != null) {
      return self.push(self.s.streamOptions.transform(result));
    }

    // If we provided a map function
    if(self.cursorState.transforms &amp;&amp; typeof self.cursorState.transforms.doc == 'function' &amp;&amp; result != null) {
      return self.push(self.cursorState.transforms.doc(result));
    }

    // Return the result
    self.push(result);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.addCursorFlag" id="apidoc.module.mongolass.Cursor.prototype.addCursorFlag">module mongolass.Cursor.prototype.addCursorFlag</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addCursorFlag.addCursorFlag" id="apidoc.element.mongolass.Cursor.prototype.addCursorFlag.addCursorFlag">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addCursorFlag
        <span class="apidocSignatureSpan">(flag, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addCursorFlag = function (flag, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(flags.indexOf(flag) == -1) throw MongoError.create({message: f("flag %s not a supported flag %s", flag, flags), driver:true
 });
  if(typeof value != 'boolean') throw MongoError.create({message: f("flag %s must be a boolean value", flag), driver:true});
  this.s.cmd[flag] = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.addQueryModifier" id="apidoc.module.mongolass.Cursor.prototype.addQueryModifier">module mongolass.Cursor.prototype.addQueryModifier</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.addQueryModifier.addQueryModifier" id="apidoc.element.mongolass.Cursor.prototype.addQueryModifier.addQueryModifier">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>addQueryModifier
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addQueryModifier = function (name, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(name[0] != '$') throw MongoError.create({message: f("%s is not a valid query modifier"), driver:true});
  // Strip of the $
  var field = name.substr(1);
  // Set on the command
  this.s.cmd[field] = value;
  // Deal with the special case for sort
  if(field == 'orderby') this.s.cmd.sort = this.s.cmd[field];
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.batchSize" id="apidoc.module.mongolass.Cursor.prototype.batchSize">module mongolass.Cursor.prototype.batchSize</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.batchSize.batchSize" id="apidoc.element.mongolass.Cursor.prototype.batchSize.batchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>batchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchSize = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support batchSize", driver:true});
  if(this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "batchSize requires an integer", driver:true});
  this.s.cmd.batchSize = value;
  this.setCursorBatchSize(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.bufferedCount" id="apidoc.module.mongolass.Cursor.prototype.bufferedCount">module mongolass.Cursor.prototype.bufferedCount</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.bufferedCount.bufferedCount" id="apidoc.element.mongolass.Cursor.prototype.bufferedCount.bufferedCount">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>bufferedCount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bufferedCount = function () {
  return this.cursorState.documents.length - this.cursorState.cursorIndex;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.clone" id="apidoc.module.mongolass.Cursor.prototype.clone">module mongolass.Cursor.prototype.clone</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.clone.clone" id="apidoc.element.mongolass.Cursor.prototype.clone.clone">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  return this.topology.cursor(this.ns, this.cmd, this.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.close" id="apidoc.module.mongolass.Cursor.prototype.close">module mongolass.Cursor.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.close.close" id="apidoc.element.mongolass.Cursor.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (callback) {
  this.s.state = Cursor.CLOSED;
  // Kill the cursor
  this.kill();
  // Emit the close event for the cursor
  this.emit('close');
  // Callback if provided
  if(typeof callback == 'function') return handleCallback(callback, null, this);
  // Return a Promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.collation" id="apidoc.module.mongolass.Cursor.prototype.collation">module mongolass.Cursor.prototype.collation</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.collation.collation" id="apidoc.element.mongolass.Cursor.prototype.collation.collation">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>collation
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collation = function (value) {
  this.s.cmd.collation = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.comment" id="apidoc.module.mongolass.Cursor.prototype.comment">module mongolass.Cursor.prototype.comment</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.comment.comment" id="apidoc.element.mongolass.Cursor.prototype.comment.comment">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>comment
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">comment = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.comment = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.count" id="apidoc.module.mongolass.Cursor.prototype.count">module mongolass.Cursor.prototype.count</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.count.count" id="apidoc.element.mongolass.Cursor.prototype.count.count">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>count
        <span class="apidocSignatureSpan">(applySkipLimit, opts, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (applySkipLimit, opts, callback) {
  var self = this;
  if(self.s.cmd.query == null) throw MongoError.create({message: "count can only be used with find command", driver:true});
  if(typeof opts == 'function') callback = opts, opts = {};
  opts = opts || {};

  // Execute using callback
  if(typeof callback == 'function') return count(self, applySkipLimit, opts, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    count(self, applySkipLimit, opts, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.cursorBatchSize" id="apidoc.module.mongolass.Cursor.prototype.cursorBatchSize">module mongolass.Cursor.prototype.cursorBatchSize</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorBatchSize.cursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.cursorBatchSize.cursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorBatchSize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBatchSize = function () {
  return this.cursorState.batchSize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.cursorLimit" id="apidoc.module.mongolass.Cursor.prototype.cursorLimit">module mongolass.Cursor.prototype.cursorLimit</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorLimit.cursorLimit" id="apidoc.element.mongolass.Cursor.prototype.cursorLimit.cursorLimit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorLimit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorLimit = function () {
  return this.cursorState.limit;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.cursorSkip" id="apidoc.module.mongolass.Cursor.prototype.cursorSkip">module mongolass.Cursor.prototype.cursorSkip</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.cursorSkip.cursorSkip" id="apidoc.element.mongolass.Cursor.prototype.cursorSkip.cursorSkip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>cursorSkip
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorSkip = function () {
  return this.cursorState.skip;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.destroy" id="apidoc.module.mongolass.Cursor.prototype.destroy">module mongolass.Cursor.prototype.destroy</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.destroy.destroy" id="apidoc.element.mongolass.Cursor.prototype.destroy.destroy">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>destroy
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (err) {
  if(err) this.emit('error', err);
  this.pause();
  this.close();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.each" id="apidoc.module.mongolass.Cursor.prototype.each">module mongolass.Cursor.prototype.each</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.each.each" id="apidoc.element.mongolass.Cursor.prototype.each.each">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>each
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (callback) {
  // Rewind cursor state
  this.rewind();
  // Set current cursor to INIT
  this.s.state = Cursor.INIT;
  // Run the query
  _each(this, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.explain" id="apidoc.module.mongolass.Cursor.prototype.explain">module mongolass.Cursor.prototype.explain</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.explain.explain" id="apidoc.element.mongolass.Cursor.prototype.explain.explain">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>explain
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">explain = function (callback) {
  var self = this;
  this.s.cmd.explain = true;

  // Do we have a readConcern
  if(this.s.cmd.readConcern) {
    delete this.s.cmd['readConcern'];
  }

  // Execute using callback
  if(typeof callback == 'function') return this._next(callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self._next(function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.filter" id="apidoc.module.mongolass.Cursor.prototype.filter">module mongolass.Cursor.prototype.filter</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.filter.filter" id="apidoc.element.mongolass.Cursor.prototype.filter.filter">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>filter
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (filter) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.query = filter;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
};

function execBeforePlugins() {
let self = this;
let hookName = 'before' + _.upperFirst(this._op);
let plugins = _.<span class="apidocCodeKeywordSpan">filter</span>(this._plugins, plugin =&gt; plugin.hooks[hookName]);
if (!plugins.length) {
  return;
}
return co(function* () {
  for (let plugin of plugins) {
    debug('%s %s before plugin %s: args -&gt; %j', self._model._name, hookName, plugin.name, self._args);
    try {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.forEach" id="apidoc.module.mongolass.Cursor.prototype.forEach">module mongolass.Cursor.prototype.forEach</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.forEach.forEach" id="apidoc.element.mongolass.Cursor.prototype.forEach.forEach">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>forEach
        <span class="apidocSignatureSpan">(iterator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (iterator, callback) {
  this.each(function(err, doc){
    if(err) { callback(err); return false; }
    if(doc != null) { iterator(doc); return true; }
    if(doc == null &amp;&amp; callback) {
      var internalCallback = callback;
      callback = null;
      internalCallback(null);
      return false;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'use strict';

const populate = require('mongolass-plugin-populate');

// built-in plugins
const options = ['limit', 'sort', 'fields', 'skip', 'hint', 'explain'
;, 'snapshot', 'timeout', 'tailable', 'tailableRetryInterval', 'numberOfRetries'
;, 'awaitdata', 'oplogReplay', 'exhaust', 'batchSize', 'returnKey', 'maxScan
', 'min', 'max', 'showDiskLoc', 'comment', 'raw', 'readPreference'
;, 'partial', 'maxTimeMS'];

options.<span class="apidocCodeKeywordSpan">forEach</span>(function (key) {
exports[key] = {
  beforeFind: function beforeFind(value) {
    bindOption.call(this, key, value);
  },
  beforeFindOne: function beforeFindOne(value) {
    bindOption.call(this, key, value);
  }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.hasNext" id="apidoc.module.mongolass.Cursor.prototype.hasNext">module mongolass.Cursor.prototype.hasNext</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hasNext.hasNext" id="apidoc.element.mongolass.Cursor.prototype.hasNext.hasNext">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hasNext
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasNext = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    if(self.s.currentDoc){
      return callback(null, true);
    } else {
      return nextObject(self, function(err, doc) {
        if(!doc) return callback(null, false);
        self.s.currentDoc = doc;
        callback(null, true);
      });
    }
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    if(self.s.currentDoc){
      resolve(true);
    } else {
      nextObject(self, function(err, doc) {
        if(self.s.state == Cursor.CLOSED || self.isDead()) return resolve(false);
        if(err) return reject(err);
        if(!doc) return resolve(false);
        self.s.currentDoc = doc;
        resolve(true);
      });
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.hint" id="apidoc.module.mongolass.Cursor.prototype.hint">module mongolass.Cursor.prototype.hint</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.hint.hint" id="apidoc.element.mongolass.Cursor.prototype.hint.hint">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>hint
        <span class="apidocSignatureSpan">(hint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hint = function (hint) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.hint = hint;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.isClosed" id="apidoc.module.mongolass.Cursor.prototype.isClosed">module mongolass.Cursor.prototype.isClosed</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isClosed.isClosed" id="apidoc.element.mongolass.Cursor.prototype.isClosed.isClosed">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isClosed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isClosed = function () {
  return this.isDead();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.isDead" id="apidoc.module.mongolass.Cursor.prototype.isDead">module mongolass.Cursor.prototype.isDead</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isDead.isDead" id="apidoc.element.mongolass.Cursor.prototype.isDead.isDead">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isDead
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDead = function () {
  return this.cursorState.dead == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.isKilled" id="apidoc.module.mongolass.Cursor.prototype.isKilled">module mongolass.Cursor.prototype.isKilled</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isKilled.isKilled" id="apidoc.element.mongolass.Cursor.prototype.isKilled.isKilled">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isKilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isKilled = function () {
  return this.cursorState.killed == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.isNotified" id="apidoc.module.mongolass.Cursor.prototype.isNotified">module mongolass.Cursor.prototype.isNotified</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.isNotified.isNotified" id="apidoc.element.mongolass.Cursor.prototype.isNotified.isNotified">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>isNotified
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNotified = function () {
  return this.cursorState.notified == true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.kill" id="apidoc.module.mongolass.Cursor.prototype.kill">module mongolass.Cursor.prototype.kill</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.kill.kill" id="apidoc.element.mongolass.Cursor.prototype.kill.kill">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>kill
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">kill = function (callback) {
  this._killcursor(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.limit" id="apidoc.module.mongolass.Cursor.prototype.limit">module mongolass.Cursor.prototype.limit</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.limit.limit" id="apidoc.element.mongolass.Cursor.prototype.limit.limit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>limit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">limit = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support limit", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "limit requires an integer", driver:true});
  this.s.cmd.limit = value;
  // this.cursorLimit = value;
  this.setCursorLimit(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

co(function* () {
  yield User.insert({ name: '1' });
  yield User.insert({ name: '2' });
  const result = yield User
    .find()
    .skip(1)
    .<span class="apidocCodeKeywordSpan">limit</span>(1);
  console.log(result);
  // [ { _id: 58501c1281ea915a2760a2ee, name: '2' } ]
}).catch(console.error.bind(console));
```

## Test
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.map" id="apidoc.module.mongolass.Cursor.prototype.map">module mongolass.Cursor.prototype.map</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.map.map" id="apidoc.element.mongolass.Cursor.prototype.map.map">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>map
        <span class="apidocSignatureSpan">(transform)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (transform) {
  this.cursorState.transforms = { doc: transform };
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  },
  afterFind: async function (users, opt) {
    console.log('afterFind', this._op, this._args, opt);
    // afterFind find [ { firstname: 'san' } ] { sep: ' ' }
    if (!users.length) return users;
    return users.<span class="apidocCodeKeywordSpan">map</span>(user =&gt; {
      user.fullname = user.firstname + opt.sep + user.lastname;
      return user;
    });
  }
});

co(function* () {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.max" id="apidoc.module.mongolass.Cursor.prototype.max">module mongolass.Cursor.prototype.max</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.max.max" id="apidoc.element.mongolass.Cursor.prototype.max.max">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>max
        <span class="apidocSignatureSpan">(max)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">max = function (max) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.max = max;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.maxAwaitTimeMS" id="apidoc.module.mongolass.Cursor.prototype.maxAwaitTimeMS">module mongolass.Cursor.prototype.maxAwaitTimeMS</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS.maxAwaitTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxAwaitTimeMS.maxAwaitTimeMS">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxAwaitTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxAwaitTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxAwaitTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxAwaitTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.maxScan" id="apidoc.module.mongolass.Cursor.prototype.maxScan">module mongolass.Cursor.prototype.maxScan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxScan.maxScan" id="apidoc.element.mongolass.Cursor.prototype.maxScan.maxScan">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxScan
        <span class="apidocSignatureSpan">(maxScan)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxScan = function (maxScan) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxScan = maxScan;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.maxTimeMS" id="apidoc.module.mongolass.Cursor.prototype.maxTimeMS">module mongolass.Cursor.prototype.maxTimeMS</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.maxTimeMS.maxTimeMS" id="apidoc.element.mongolass.Cursor.prototype.maxTimeMS.maxTimeMS">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>maxTimeMS
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxTimeMS = function (value) {
  if(typeof value != 'number') throw MongoError.create({message: "maxTimeMS must be a number", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.maxTimeMS = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.min" id="apidoc.module.mongolass.Cursor.prototype.min">module mongolass.Cursor.prototype.min</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.min.min" id="apidoc.element.mongolass.Cursor.prototype.min.min">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>min
        <span class="apidocSignatureSpan">(min)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">min = function (min) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.min = min;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.next" id="apidoc.module.mongolass.Cursor.prototype.next">module mongolass.Cursor.prototype.next</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.next.next" id="apidoc.element.mongolass.Cursor.prototype.next.next">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>next
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (callback) {
  var self = this;

  // Execute using callback
  if(typeof callback == 'function') {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return callback(null, doc);
    }

    // Return the next object
    return nextObject(self, callback)
  }

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Return the currentDoc if someone called hasNext first
    if(self.s.currentDoc) {
      var doc = self.s.currentDoc;
      self.s.currentDoc = null;
      return resolve(doc);
    }

    nextObject(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.project" id="apidoc.module.mongolass.Cursor.prototype.project">module mongolass.Cursor.prototype.project</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.project.project" id="apidoc.element.mongolass.Cursor.prototype.project.project">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>project
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">project = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.fields = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.readBufferedDocuments" id="apidoc.module.mongolass.Cursor.prototype.readBufferedDocuments">module mongolass.Cursor.prototype.readBufferedDocuments</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments.readBufferedDocuments" id="apidoc.element.mongolass.Cursor.prototype.readBufferedDocuments.readBufferedDocuments">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>readBufferedDocuments
        <span class="apidocSignatureSpan">(number)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readBufferedDocuments = function (number) {
  var unreadDocumentsLength = this.cursorState.documents.length - this.cursorState.cursorIndex;
  var length = number &lt; unreadDocumentsLength ? number : unreadDocumentsLength;
  var elements = this.cursorState.documents.slice(this.cursorState.cursorIndex, this.cursorState.cursorIndex + length);

  // Transform the doc with passed in transformation method if provided
  if(this.cursorState.transforms &amp;&amp; typeof this.cursorState.transforms.doc == 'function') {
    // Transform all the elements
    for(var i = 0; i &lt; elements.length; i++) {
      elements[i] = this.cursorState.transforms.doc(elements[i]);
    }
  }

  // Ensure we do not return any more documents than the limit imposed
  // Just return the number of elements up to the limit
  if(this.cursorState.limit &gt; 0 &amp;&amp; (this.cursorState.currentLimit + elements.length) &gt; this.cursorState.limit) {
    elements = elements.slice(0, (this.cursorState.limit - this.cursorState.currentLimit));
    this.kill();
  }

  // Adjust current limit
  this.cursorState.currentLimit = this.cursorState.currentLimit + elements.length;
  this.cursorState.cursorIndex = this.cursorState.cursorIndex + elements.length;

  // Return elements
  return elements;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.returnKey" id="apidoc.module.mongolass.Cursor.prototype.returnKey">module mongolass.Cursor.prototype.returnKey</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.returnKey.returnKey" id="apidoc.element.mongolass.Cursor.prototype.returnKey.returnKey">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>returnKey
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">returnKey = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.returnKey = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.rewind" id="apidoc.module.mongolass.Cursor.prototype.rewind">module mongolass.Cursor.prototype.rewind</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.rewind.rewind" id="apidoc.element.mongolass.Cursor.prototype.rewind.rewind">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>rewind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function () {
  if(this.cursorState.init) {
    if(!this.cursorState.dead) {
      this.kill();
    }

    this.cursorState.currentLimit = 0;
    this.cursorState.init = false;
    this.cursorState.dead = false;
    this.cursorState.killed = false;
    this.cursorState.notified = false;
    this.cursorState.documents = [];
    this.cursorState.cursorId = null;
    this.cursorState.cursorIndex = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorBatchSize" id="apidoc.module.mongolass.Cursor.prototype.setCursorBatchSize">module mongolass.Cursor.prototype.setCursorBatchSize</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize.setCursorBatchSize" id="apidoc.element.mongolass.Cursor.prototype.setCursorBatchSize.setCursorBatchSize">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorBatchSize
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorBatchSize = function (value) {
  this.cursorState.batchSize = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorLimit" id="apidoc.module.mongolass.Cursor.prototype.setCursorLimit">module mongolass.Cursor.prototype.setCursorLimit</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorLimit.setCursorLimit" id="apidoc.element.mongolass.Cursor.prototype.setCursorLimit.setCursorLimit">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorLimit
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorLimit = function (value) {
  this.cursorState.limit = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorOption" id="apidoc.module.mongolass.Cursor.prototype.setCursorOption">module mongolass.Cursor.prototype.setCursorOption</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorOption.setCursorOption" id="apidoc.element.mongolass.Cursor.prototype.setCursorOption.setCursorOption">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorOption
        <span class="apidocSignatureSpan">(field, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorOption = function (field, value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(fields.indexOf(field) == -1) throw MongoError.create({message: f("option %s not a supported option %s", field, fields), driver
:true });
  this.s[field] = value;
  if(field == 'numberOfRetries')
    this.s.currentNumberOfRetries = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.setCursorSkip" id="apidoc.module.mongolass.Cursor.prototype.setCursorSkip">module mongolass.Cursor.prototype.setCursorSkip</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setCursorSkip.setCursorSkip" id="apidoc.element.mongolass.Cursor.prototype.setCursorSkip.setCursorSkip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setCursorSkip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCursorSkip = function (value) {
  this.cursorState.skip = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.setReadPreference" id="apidoc.module.mongolass.Cursor.prototype.setReadPreference">module mongolass.Cursor.prototype.setReadPreference</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.setReadPreference.setReadPreference" id="apidoc.element.mongolass.Cursor.prototype.setReadPreference.setReadPreference">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>setReadPreference
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setReadPreference = function (r) {
  if(this.s.state != Cursor.INIT) throw MongoError.create({message: 'cannot change cursor readPreference after cursor has been accessed
', driver:true});
  if(r instanceof ReadPreference) {
    this.s.options.readPreference = new CoreReadPreference(r.mode, r.tags, {maxStalenessSeconds: r.maxStalenessSeconds});
  } else if(typeof r == 'string'){
    this.s.options.readPreference = new CoreReadPreference(r);
  } else if(r instanceof CoreReadPreference) {
    this.s.options.readPreference = r;
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.showRecordId" id="apidoc.module.mongolass.Cursor.prototype.showRecordId">module mongolass.Cursor.prototype.showRecordId</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.showRecordId.showRecordId" id="apidoc.element.mongolass.Cursor.prototype.showRecordId.showRecordId">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>showRecordId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">showRecordId = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.showDiskLoc = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.skip" id="apidoc.module.mongolass.Cursor.prototype.skip">module mongolass.Cursor.prototype.skip</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.skip.skip" id="apidoc.element.mongolass.Cursor.prototype.skip.skip">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>skip
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function (value) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support skip", driver:true});
  if(this.s.state == Cursor.OPEN || this.s.state == Cursor.CLOSED || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  if(typeof value != 'number') throw MongoError.create({message: "skip requires an integer", driver:true});
  this.s.cmd.skip = value;
  this.setCursorSkip(value);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const User = mongolass.model('User');

co(function* () {
  yield User.insert({ name: '1' });
  yield User.insert({ name: '2' });
  const result = yield User
    .find()
    .<span class="apidocCodeKeywordSpan">skip</span>(1)
    .limit(1);
  console.log(result);
  // [ { _id: 58501c1281ea915a2760a2ee, name: '2' } ]
}).catch(console.error.bind(console));
```

## Test
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.snapshot" id="apidoc.module.mongolass.Cursor.prototype.snapshot">module mongolass.Cursor.prototype.snapshot</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.snapshot.snapshot" id="apidoc.element.mongolass.Cursor.prototype.snapshot.snapshot">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>snapshot
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">snapshot = function (value) {
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  this.s.cmd.snapshot = value;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.sort" id="apidoc.module.mongolass.Cursor.prototype.sort">module mongolass.Cursor.prototype.sort</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.sort.sort" id="apidoc.element.mongolass.Cursor.prototype.sort.sort">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>sort
        <span class="apidocSignatureSpan">(keyOrList, direction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sort = function (keyOrList, direction) {
  if(this.s.options.tailable) throw MongoError.create({message: "Tailable cursor doesn't support sorting", driver:true});
  if(this.s.state == Cursor.CLOSED || this.s.state == Cursor.OPEN || this.isDead()) throw MongoError.create({message: "Cursor is
 closed", driver:true});
  var order = keyOrList;

  // We have an array of arrays, we need to preserve the order of the sort
  // so we will us a Map
  if(Array.isArray(order) &amp;&amp; Array.isArray(order[0])) {
    order = new Map(order.map(function(x) {
      var value = [x[0], null];
      if(x[1] == 'asc') {
        value[1] = 1;
      } else if(x[1] == 'desc') {
        value[1] = -1;
      } else if(x[1] == 1 || x[1] == -1) {
        value[1] = x[1];
      } else {
        throw new MongoError("Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending
|descending)']]");
      }

      return value;
    }));
  }

  if(direction != null) {
    order = [[keyOrList, direction]];
  }

  this.s.cmd.sort = order;
  this.sortValue = order;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .find()
  .select({ name: 1, age: 1 })
  .<span class="apidocCodeKeywordSpan">sort</span>({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```

or use optional schema:
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.stream" id="apidoc.module.mongolass.Cursor.prototype.stream">module mongolass.Cursor.prototype.stream</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.stream.stream" id="apidoc.element.mongolass.Cursor.prototype.stream.stream">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function (options) {
  this.s.streamOptions = options || {};
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Cursor.prototype.toArray" id="apidoc.module.mongolass.Cursor.prototype.toArray">module mongolass.Cursor.prototype.toArray</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Cursor.prototype.toArray.toArray" id="apidoc.element.mongolass.Cursor.prototype.toArray.toArray">
        function <span class="apidocSignatureSpan">mongolass.Cursor.prototype.</span>toArray
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toArray = function (callback) {
  var self = this;
  if(self.s.options.tailable) throw MongoError.create({message: 'Tailable cursor cannot be converted to array', driver:true});

  // Execute using callback
  if(typeof callback == 'function') return toArray(self, callback);

  // Return a Promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    toArray(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exec(cb) {
  return Promise.resolve()
    .then(() =&gt; execBeforePlugins.call(this))
    .then(() =&gt; ctx._connect())
    .then(conn =&gt; {
      let res = conn[this._op].apply(conn, this._args);
      if (res.toArray &amp;&amp; (typeof res.toArray === 'function')) {
        return res.<span class="apidocCodeKeywordSpan">toArray</span>();
      }
      return res;
    })
    .then(result =&gt; execAfterPlugins.call(this, result))
    .catch(e =&gt; addMongoErrorDetail.call(this, e))
    .asCallback(cb);
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.DBRef" id="apidoc.module.mongolass.DBRef">module mongolass.DBRef</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.DBRef.DBRef" id="apidoc.element.mongolass.DBRef.DBRef">
        function <span class="apidocSignatureSpan">mongolass.</span>DBRef
        <span class="apidocSignatureSpan">(namespace, oid, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DBRef(namespace, oid, db) {
  if(!(this instanceof DBRef)) return new DBRef(namespace, oid, db);

  this._bsontype = 'DBRef';
  this.namespace = namespace;
  this.oid = oid;
  this.db = db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.DBRef.prototype" id="apidoc.module.mongolass.DBRef.prototype">module mongolass.DBRef.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.DBRef.prototype.toJSON" id="apidoc.element.mongolass.DBRef.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.DBRef.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {
    '$ref':this.namespace,
    '$id':this.oid,
    '$db':this.db == null ? '' : this.db
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.DBRef.prototype.toJSON" id="apidoc.module.mongolass.DBRef.prototype.toJSON">module mongolass.DBRef.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.DBRef.prototype.toJSON.toJSON" id="apidoc.element.mongolass.DBRef.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.DBRef.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return {
    '$ref':this.namespace,
    '$id':this.oid,
    '$db':this.db == null ? '' : this.db
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db" id="apidoc.module.mongolass.Db">module mongolass.Db</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.Db" id="apidoc.element.mongolass.Db.Db">
        function <span class="apidocSignatureSpan">mongolass.</span>Db
        <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db = function (databaseName, topology, options) {
  options = options || {};
  if(!(this instanceof Db)) return new Db(databaseName, topology, options);
  EventEmitter.call(this);
  var self = this;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure we put the promiseLib in the options
  options.promiseLibrary = promiseLibrary;

  // var self = this;  // Internal state of the db object
  this.s = {
    // Database name
      databaseName: databaseName
    // DbCache
    , dbCache: {}
    // Children db's
    , children: []
    // Topology
    , topology: topology
    // Options
    , options: options
    // Logger instance
    , logger: Logger('Db', options)
    // Get the bson parser
    , bson: topology ? topology.bson : null
    // Authsource if any
    , authSource: options.authSource
    // Unpack read preference
    , readPreference: options.readPreference
    // Set buffermaxEntries
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : -1
    // Parent db (if chained)
    , parentDb: options.parentDb || null
    // Set up the primary key factory or fallback to ObjectID
    , pkFactory: options.pkFactory || ObjectID
    // Get native parser
    , nativeParser: options.nativeParser || options.native_parser
    // Promise library
    , promiseLibrary: promiseLibrary
    // No listener
    , noListener: typeof options.noListener == 'boolean' ? options.noListener : false
    // ReadConcern
    , readConcern: options.readConcern
  }

  // Ensure we have a valid db name
  validateDatabaseName(self.s.databaseName);

  // Add a read Only property
  getSingleProperty(this, 'serverConfig', self.s.topology);
  getSingleProperty(this, 'bufferMaxEntries', self.s.bufferMaxEntries);
  getSingleProperty(this, 'databaseName', self.s.databaseName);

  // This is a child db, do not register any listeners
  if(options.parentDb) return;
  if(this.s.noListener) return;

  // Add listeners
  topology.on('error', createListener(self, 'error', self));
  topology.on('timeout', createListener(self, 'timeout', self));
  topology.on('close', createListener(self, 'close', self));
  topology.on('parseError', createListener(self, 'parseError', self));
  topology.once('open', createListener(self, 'open', self));
  topology.once('fullsetup', createListener(self, 'fullsetup', self));
  topology.once('all', createListener(self, 'all', self));
  topology.on('reconnect', createListener(self, 'reconnect', self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.super_" id="apidoc.element.mongolass.Db.super_">
        function <span class="apidocSignatureSpan">mongolass.Db.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.define" id="apidoc.module.mongolass.Db.define">module mongolass.Db.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Db.define.object" id="apidoc.element.mongolass.Db.define.object">
        function <span class="apidocSignatureSpan">mongolass.Db.define.</span>object
        <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (databaseName, topology, options) {
  options = options || {};
  if(!(this instanceof Db)) return new Db(databaseName, topology, options);
  EventEmitter.call(this);
  var self = this;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure we put the promiseLib in the options
  options.promiseLibrary = promiseLibrary;

  // var self = this;  // Internal state of the db object
  this.s = {
    // Database name
      databaseName: databaseName
    // DbCache
    , dbCache: {}
    // Children db's
    , children: []
    // Topology
    , topology: topology
    // Options
    , options: options
    // Logger instance
    , logger: Logger('Db', options)
    // Get the bson parser
    , bson: topology ? topology.bson : null
    // Authsource if any
    , authSource: options.authSource
    // Unpack read preference
    , readPreference: options.readPreference
    // Set buffermaxEntries
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : -1
    // Parent db (if chained)
    , parentDb: options.parentDb || null
    // Set up the primary key factory or fallback to ObjectID
    , pkFactory: options.pkFactory || ObjectID
    // Get native parser
    , nativeParser: options.nativeParser || options.native_parser
    // Promise library
    , promiseLibrary: promiseLibrary
    // No listener
    , noListener: typeof options.noListener == 'boolean' ? options.noListener : false
    // ReadConcern
    , readConcern: options.readConcern
  }

  // Ensure we have a valid db name
  validateDatabaseName(self.s.databaseName);

  // Add a read Only property
  getSingleProperty(this, 'serverConfig', self.s.topology);
  getSingleProperty(this, 'bufferMaxEntries', self.s.bufferMaxEntries);
  getSingleProperty(this, 'databaseName', self.s.databaseName);

  // This is a child db, do not register any listeners
  if(options.parentDb) return;
  if(this.s.noListener) return;

  // Add listeners
  topology.on('error', createListener(self, 'error', self));
  topology.on('timeout', createListener(self, 'timeout', self));
  topology.on('close', createListener(self, 'close', self));
  topology.on('parseError', createListener(self, 'parseError', self));
  topology.once('open', createListener(self, 'open', self));
  topology.once('fullsetup', createListener(self, 'fullsetup', self));
  topology.once('all', createListener(self, 'all', self));
  topology.on('reconnect', createListener(self, 'reconnect', self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype" id="apidoc.module.mongolass.Db.prototype">module mongolass.Db.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addChild" id="apidoc.element.mongolass.Db.prototype.addChild">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addChild
        <span class="apidocSignatureSpan">(db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addChild = function (db) {
  if(this.s.parentDb) return this.s.parentDb.addChild(db);
  this.s.children.push(db);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addUser" id="apidoc.element.mongolass.Db.prototype.addUser">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addUser = function (username, password, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return addUser(self, username, password, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    addUser(self, username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.admin" id="apidoc.element.mongolass.Db.prototype.admin">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>admin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">admin = function () {
  return new Admin(this, this.s.topology, this.s.promiseLibrary);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.authenticate" id="apidoc.element.mongolass.Db.prototype.authenticate">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (username, password, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  var self = this;
  // Shallow copy the options
  options = shallowClone(options);

  // Set default mechanism
  if(!options.authMechanism) {
    options.authMechanism = 'DEFAULT';
  } else if(options.authMechanism != 'GSSAPI'
    &amp;&amp; options.authMechanism != 'DEFAULT'
    &amp;&amp; options.authMechanism != 'MONGODB-CR'
    &amp;&amp; options.authMechanism != 'MONGODB-X509'
    &amp;&amp; options.authMechanism != 'SCRAM-SHA-1'
    &amp;&amp; options.authMechanism != 'PLAIN') {
      return handleCallback(callback, MongoError.create({message: "only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB
-CR is supported by authMechanism", driver:true}));
  }

  // If we have a callback fallback
  if(typeof callback == 'function') return authenticate(self, username, password, options, function(err, r) {
    // Support failed auth method
    if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
    // Reject error
    if(err) return callback(err, r);
    callback(null, r);
  });

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    authenticate(self, username, password, options, function(err, r) {
      // Support failed auth method
      if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
      // Reject error
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.close" id="apidoc.element.mongolass.Db.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>close
        <span class="apidocSignatureSpan">(force, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (force, callback) {
  if(typeof force == 'function') callback = force, force = false;
  this.s.topology.close(force);
  var self = this;

  // Fire close event if any listeners
  if(this.listeners('close').length &gt; 0) {
    this.emit('close');

    // If it's the top level db emit close on all children
    if(this.parentDb == null) {
      // Fire close on all children
      for(var i = 0; i &lt; this.s.children.length; i++) {
        this.s.children[i].emit('close');
      }
    }

    // Remove listeners after emit
    self.removeAllListeners('close');
  }

  // Close parent db if set
  if(this.s.parentDb) this.s.parentDb.close();
  // Callback after next event loop tick
  if(typeof callback == 'function') return process.nextTick(function() {
    handleCallback(callback, null);
  })

  // Return dummy promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collection" id="apidoc.element.mongolass.Db.prototype.collection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // If we have not set a collection level readConcern set the db level one
  options.readConcern = options.readConcern || this.s.readConcern;

  // Do we have ignoreUndefined set
  if(this.s.options.ignoreUndefined) {
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute
  if(options == null || !options.strict) {
    try {
      var collection = new Collection(this, this.s.topology, this.s.databaseName, name, this.s.pkFactory, options);
      if(callback) callback(null, collection);
      return collection;
    } catch(err) {
      if(callback) return callback(err);
      throw err;
    }
  }

  // Strict mode
  if(typeof callback != 'function') {
    throw toError(f("A callback is required in strict mode. While getting collection %s.", name));
  }

  // Did the user destroy the topology
  if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) {
    return callback(new MongoError('topology was destroyed'));
  }

  // Strict mode
  this.listCollections({name:name}).toArray(function(err, collections) {
    if(err != null) return handleCallback(callback, err, null);
    if(collections.length == 0) return handleCallback(callback, toError(f("Collection %s does not exist. Currently in strict mode
.", name)), null);

    try {
      return handleCallback(callback, null, new Collection(self, self.s.topology, self.s.databaseName, name, self.s.pkFactory, options
));
    } catch(err) {
      return handleCallback(callback, err, null);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collections" id="apidoc.element.mongolass.Db.prototype.collections">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collections
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collections = function (callback) {
  var self = this;

  // Return the callback
  if(typeof callback == 'function') return collections(self, callback);
  // Return the promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    collections(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.command" id="apidoc.element.mongolass.Db.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (command, options, callback) {
  var self = this;
  // Change the callback
  if(typeof options == 'function') callback = options, options = {};
  // Clone the options
  options = shallowClone(options);

  // Do we have a callback
  if(typeof callback == 'function') return executeCommand(self, command, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    executeCommand(self, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createCollection" id="apidoc.element.mongolass.Db.prototype.createCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createCollection = function (name, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  name = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Do we have a promisesLibrary
  options.promiseLibrary = options.promiseLibrary || this.s.promiseLibrary;

  // Check if the callback is in fact a string
  if(typeof callback == 'string') name = callback;

  // Execute the fallback callback
  if(typeof callback == 'function') return createCollection(self, name, options, callback);
  return new this.s.promiseLibrary(function(resolve, reject) {
    createCollection(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createIndex" id="apidoc.element.mongolass.Db.prototype.createIndex">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;
  // Shallow clone the options
  options = shallowClone(options);

  // If we have a callback fallback
  if(typeof callback == 'function') return createIndex(self, name, fieldOrSpec, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.db" id="apidoc.element.mongolass.Db.prototype.db">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>db
        <span class="apidocSignatureSpan">(dbName, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">db = function (dbName, options) {
  options = options || {};

  // Copy the options and add out internal override of the not shared flag
  var finalOptions = assign({}, this.options, options);

  // Do we have the db in the cache already
  if(this.s.dbCache[dbName] &amp;&amp; finalOptions.returnNonCachedInstance !== true) {
    return this.s.dbCache[dbName];
  }

  // Add current db as parentDb
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    finalOptions.parentDb = this;
  }

  // Add promiseLibrary
  finalOptions.promiseLibrary = this.s.promiseLibrary;

  // Return the db object
  var db = new Db(dbName, this.s.topology, finalOptions)

  // Add as child
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    this.addChild(db);
  }

  // Add the db to the cache
  this.s.dbCache[dbName] = db;
  // Return the database
  return db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropCollection" id="apidoc.element.mongolass.Db.prototype.dropCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropCollection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Command to execute
  var cmd = {'drop':name}

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // options
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(err) return handleCallback(callback, err);
    if(result.ok) return handleCallback(callback, null, true);
    handleCallback(callback, null, false);
  });

  // Clone the options
  options = shallowClone(self.s.options);
  // Set readPreference PRIMARY
  options.readPreference = ReadPreference.PRIMARY;

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropDatabase" id="apidoc.element.mongolass.Db.prototype.dropDatabase">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropDatabase
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropDatabase = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Drop database command
  var cmd = {'dropDatabase':1};

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // Ensure primary only
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(callback == null) return;
    if(err) return handleCallback(callback, err, null);
    handleCallback(callback, null, result.ok ? true : false);
  });

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.ensureIndex" id="apidoc.element.mongolass.Db.prototype.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>ensureIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensureIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return ensureIndex(self, name, fieldOrSpec, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.eval" id="apidoc.element.mongolass.Db.prototype.eval">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>eval
        <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eval = function (code, parameters, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  parameters = args.length ? args.shift() : parameters;
  options = args.length ? args.shift() || {} : {};

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return evaluate(self, code, parameters, options, callback);
  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    evaluate(self, code, parameters, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand" id="apidoc.element.mongolass.Db.prototype.executeDbAdminCommand">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>executeDbAdminCommand
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeDbAdminCommand = function (selector, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Return the callback
  if(typeof callback == 'function') {
    // Convert read preference
    if(options.readPreference) {
      options.readPreference = convertReadPreference(options.readPreference)
    }

    return self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
      if(err) return handleCallback(callback, err);
      handleCallback(callback, null, result.result);
    });
  }

  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      resolve(result.result);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.indexInformation" id="apidoc.element.mongolass.Db.prototype.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>indexInformation
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexInformation = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return indexInformation(self, name, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.listCollections" id="apidoc.element.mongolass.Db.prototype.listCollections">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>listCollections
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listCollections = function (filter, options) {
  filter = filter || {};
  options = options || {};

  // Shallow clone the object
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // Ensure valid readPreference
  if(options.readPreference) {
    options.readPreference = convertReadPreference(options.readPreference);
  }

  // We have a list collections command
  if(this.serverConfig.capabilities().hasListCollectionsCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listCollections : true, filter: filter, cursor: cursor };
    // Set the AggregationCursor constructor
    options.cursorFactory = CommandCursor;
    // Create the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.databaseName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) {
      cursor.setReadPreference(options.readPreference);
    }
    // Return the cursor
    return cursor;
  }

  // We cannot use the listCollectionsCommand
  if(!this.serverConfig.capabilities().hasListCollectionsCommand) {
    // If we have legacy mode and have not provided a full db name filter it
    if(typeof filter.name == 'string' &amp;&amp; !(new RegExp('^' + this.databaseName + '\\.').test(filter.name))) {
      filter = shallowClone(filter);
      filter.name = f('%s.%s', this.s.databaseName, filter.name);
    }
  }

  // No filter, filter by current database
  if(filter == null) {
    filter.name = f('/%s/', this.s.databaseName);
  }

  // Rewrite the filter to use $and to filter out indexes
  if(filter.name) {
    filter = {$and: [{name: filter.name}, {name:/^((?!\$).)*$/}]};
  } else {
    filter = {name:/^((?!\$).)*$/};
  }

  // Return options
  var _options = {transforms: listCollectionsTranforms(this.s.databaseName)}
  // Get the cursor
  cursor = this.collection(Db.SYSTEM_NAMESPACE_COLLECTION).find(filter, _options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // We have a fallback mode using legacy systems collections
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.logout" id="apidoc.element.mongolass.Db.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>logout
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Establish the correct database name
  var dbName = this.s.authSource ? this.s.authSource : this.s.databaseName;
  dbName = options.dbName ? options.dbName : dbName;

  // If we have a callback
  if(typeof callback == 'function') {
    return self.s.topology.logout(dbName, function(err) {
      if(err) return callback(err);
      callback(null, true);
    });
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.logout(dbName, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.open" id="apidoc.element.mongolass.Db.prototype.open">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    open(self, function(err, db) {
      if(err) return reject(err);
      resolve(db);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.removeUser" id="apidoc.element.mongolass.Db.prototype.removeUser">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeUser = function (username, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return removeUser(self, username, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeUser(self, username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.renameCollection" id="apidoc.element.mongolass.Db.prototype.renameCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>renameCollection
        <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renameCollection = function (fromCollection, toCollection, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Add return new collection
  options.new_collection = true;

  // Check if the callback is in fact a string
  if(typeof callback == 'function') {
    return this.collection(fromCollection).rename(toCollection, options, callback);
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.collection(fromCollection).rename(toCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.stats" id="apidoc.element.mongolass.Db.prototype.stats">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stats = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Build command object
  var commandObject = { dbStats:true };
  // Check if we have the scale value
  if(options['scale'] != null) commandObject['scale'] = options['scale'];

  // If we have a readPreference set
  if(options.readPreference == null &amp;&amp; this.s.readPreference) {
    options.readPreference = this.s.readPreference;
  }

  // Execute the command
  return this.command(commandObject, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.unref" id="apidoc.element.mongolass.Db.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.topology.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.addChild" id="apidoc.module.mongolass.Db.prototype.addChild">module mongolass.Db.prototype.addChild</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addChild.addChild" id="apidoc.element.mongolass.Db.prototype.addChild.addChild">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addChild
        <span class="apidocSignatureSpan">(db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addChild = function (db) {
  if(this.s.parentDb) return this.s.parentDb.addChild(db);
  this.s.children.push(db);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.addUser" id="apidoc.module.mongolass.Db.prototype.addUser">module mongolass.Db.prototype.addUser</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.addUser.addUser" id="apidoc.element.mongolass.Db.prototype.addUser.addUser">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>addUser
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addUser = function (username, password, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return addUser(self, username, password, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    addUser(self, username, password, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.admin" id="apidoc.module.mongolass.Db.prototype.admin">module mongolass.Db.prototype.admin</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.admin.admin" id="apidoc.element.mongolass.Db.prototype.admin.admin">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>admin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">admin = function () {
  return new Admin(this, this.s.topology, this.s.promiseLibrary);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.authenticate" id="apidoc.module.mongolass.Db.prototype.authenticate">module mongolass.Db.prototype.authenticate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.authenticate.authenticate" id="apidoc.element.mongolass.Db.prototype.authenticate.authenticate">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>authenticate
        <span class="apidocSignatureSpan">(username, password, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (username, password, options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  var self = this;
  // Shallow copy the options
  options = shallowClone(options);

  // Set default mechanism
  if(!options.authMechanism) {
    options.authMechanism = 'DEFAULT';
  } else if(options.authMechanism != 'GSSAPI'
    &amp;&amp; options.authMechanism != 'DEFAULT'
    &amp;&amp; options.authMechanism != 'MONGODB-CR'
    &amp;&amp; options.authMechanism != 'MONGODB-X509'
    &amp;&amp; options.authMechanism != 'SCRAM-SHA-1'
    &amp;&amp; options.authMechanism != 'PLAIN') {
      return handleCallback(callback, MongoError.create({message: "only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, SCRAM-SHA-1 or MONGODB
-CR is supported by authMechanism", driver:true}));
  }

  // If we have a callback fallback
  if(typeof callback == 'function') return authenticate(self, username, password, options, function(err, r) {
    // Support failed auth method
    if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
    // Reject error
    if(err) return callback(err, r);
    callback(null, r);
  });

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    authenticate(self, username, password, options, function(err, r) {
      // Support failed auth method
      if(err &amp;&amp; err.message &amp;&amp; err.message.indexOf('saslStart') != -1) err.code = 59;
      // Reject error
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.close" id="apidoc.module.mongolass.Db.prototype.close">module mongolass.Db.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.close.close" id="apidoc.element.mongolass.Db.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>close
        <span class="apidocSignatureSpan">(force, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (force, callback) {
  if(typeof force == 'function') callback = force, force = false;
  this.s.topology.close(force);
  var self = this;

  // Fire close event if any listeners
  if(this.listeners('close').length &gt; 0) {
    this.emit('close');

    // If it's the top level db emit close on all children
    if(this.parentDb == null) {
      // Fire close on all children
      for(var i = 0; i &lt; this.s.children.length; i++) {
        this.s.children[i].emit('close');
      }
    }

    // Remove listeners after emit
    self.removeAllListeners('close');
  }

  // Close parent db if set
  if(this.s.parentDb) this.s.parentDb.close();
  // Callback after next event loop tick
  if(typeof callback == 'function') return process.nextTick(function() {
    handleCallback(callback, null);
  })

  // Return dummy promise
  return new this.s.promiseLibrary(function(resolve) {
    resolve();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.collection" id="apidoc.module.mongolass.Db.prototype.collection">module mongolass.Db.prototype.collection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collection.collection" id="apidoc.element.mongolass.Db.prototype.collection.collection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // If we have not set a collection level readConcern set the db level one
  options.readConcern = options.readConcern || this.s.readConcern;

  // Do we have ignoreUndefined set
  if(this.s.options.ignoreUndefined) {
    options.ignoreUndefined = this.s.options.ignoreUndefined;
  }

  // Execute
  if(options == null || !options.strict) {
    try {
      var collection = new Collection(this, this.s.topology, this.s.databaseName, name, this.s.pkFactory, options);
      if(callback) callback(null, collection);
      return collection;
    } catch(err) {
      if(callback) return callback(err);
      throw err;
    }
  }

  // Strict mode
  if(typeof callback != 'function') {
    throw toError(f("A callback is required in strict mode. While getting collection %s.", name));
  }

  // Did the user destroy the topology
  if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) {
    return callback(new MongoError('topology was destroyed'));
  }

  // Strict mode
  this.listCollections({name:name}).toArray(function(err, collections) {
    if(err != null) return handleCallback(callback, err, null);
    if(collections.length == 0) return handleCallback(callback, toError(f("Collection %s does not exist. Currently in strict mode
.", name)), null);

    try {
      return handleCallback(callback, null, new Collection(self, self.s.topology, self.s.databaseName, name, self.s.pkFactory, options
));
    } catch(err) {
      return handleCallback(callback, err, null);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.collections" id="apidoc.module.mongolass.Db.prototype.collections">module mongolass.Db.prototype.collections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.collections.collections" id="apidoc.element.mongolass.Db.prototype.collections.collections">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>collections
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collections = function (callback) {
  var self = this;

  // Return the callback
  if(typeof callback == 'function') return collections(self, callback);
  // Return the promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    collections(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.command" id="apidoc.module.mongolass.Db.prototype.command">module mongolass.Db.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.command.command" id="apidoc.element.mongolass.Db.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>command
        <span class="apidocSignatureSpan">(command, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (command, options, callback) {
  var self = this;
  // Change the callback
  if(typeof options == 'function') callback = options, options = {};
  // Clone the options
  options = shallowClone(options);

  // Do we have a callback
  if(typeof callback == 'function') return executeCommand(self, command, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    executeCommand(self, command, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.createCollection" id="apidoc.module.mongolass.Db.prototype.createCollection">module mongolass.Db.prototype.createCollection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createCollection.createCollection" id="apidoc.element.mongolass.Db.prototype.createCollection.createCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createCollection = function (name, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  name = args.length ? args.shift() : null;
  options = args.length ? args.shift() || {} : {};

  // Do we have a promisesLibrary
  options.promiseLibrary = options.promiseLibrary || this.s.promiseLibrary;

  // Check if the callback is in fact a string
  if(typeof callback == 'string') name = callback;

  // Execute the fallback callback
  if(typeof callback == 'function') return createCollection(self, name, options, callback);
  return new this.s.promiseLibrary(function(resolve, reject) {
    createCollection(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.createIndex" id="apidoc.module.mongolass.Db.prototype.createIndex">module mongolass.Db.prototype.createIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.createIndex.createIndex" id="apidoc.element.mongolass.Db.prototype.createIndex.createIndex">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>createIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};
  options = typeof callback === 'function' ? options : callback;
  options = options == null ? {} : options;
  // Shallow clone the options
  options = shallowClone(options);

  // If we have a callback fallback
  if(typeof callback == 'function') return createIndex(self, name, fieldOrSpec, options, callback);
  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    createIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.db" id="apidoc.module.mongolass.Db.prototype.db">module mongolass.Db.prototype.db</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.db.db" id="apidoc.element.mongolass.Db.prototype.db.db">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>db
        <span class="apidocSignatureSpan">(dbName, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">db = function (dbName, options) {
  options = options || {};

  // Copy the options and add out internal override of the not shared flag
  var finalOptions = assign({}, this.options, options);

  // Do we have the db in the cache already
  if(this.s.dbCache[dbName] &amp;&amp; finalOptions.returnNonCachedInstance !== true) {
    return this.s.dbCache[dbName];
  }

  // Add current db as parentDb
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    finalOptions.parentDb = this;
  }

  // Add promiseLibrary
  finalOptions.promiseLibrary = this.s.promiseLibrary;

  // Return the db object
  var db = new Db(dbName, this.s.topology, finalOptions)

  // Add as child
  if(finalOptions.noListener == null || finalOptions.noListener == false) {
    this.addChild(db);
  }

  // Add the db to the cache
  this.s.dbCache[dbName] = db;
  // Return the database
  return db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.dropCollection" id="apidoc.module.mongolass.Db.prototype.dropCollection">module mongolass.Db.prototype.dropCollection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropCollection.dropCollection" id="apidoc.element.mongolass.Db.prototype.dropCollection.dropCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropCollection
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropCollection = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Command to execute
  var cmd = {'drop':name}

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // options
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(err) return handleCallback(callback, err);
    if(result.ok) return handleCallback(callback, null, true);
    handleCallback(callback, null, false);
  });

  // Clone the options
  options = shallowClone(self.s.options);
  // Set readPreference PRIMARY
  options.readPreference = ReadPreference.PRIMARY;

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.dropDatabase" id="apidoc.module.mongolass.Db.prototype.dropDatabase">module mongolass.Db.prototype.dropDatabase</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.dropDatabase.dropDatabase" id="apidoc.element.mongolass.Db.prototype.dropDatabase.dropDatabase">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>dropDatabase
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dropDatabase = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Drop database command
  var cmd = {'dropDatabase':1};

  // Decorate with write concern
  decorateWithWriteConcern(cmd, self, options);

  // Ensure primary only
  options = assign({}, this.s.options, {readPreference: ReadPreference.PRIMARY});

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return this.command(cmd, options, function(err, result) {
    // Did the user destroy the topology
    if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
    if(callback == null) return;
    if(err) return handleCallback(callback, err, null);
    handleCallback(callback, null, result.ok ? true : false);
  });

  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    // Execute command
    self.command(cmd, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      if(result.ok) return resolve(true);
      resolve(false);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.ensureIndex" id="apidoc.module.mongolass.Db.prototype.ensureIndex">module mongolass.Db.prototype.ensureIndex</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.ensureIndex.ensureIndex" id="apidoc.element.mongolass.Db.prototype.ensureIndex.ensureIndex">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>ensureIndex
        <span class="apidocSignatureSpan">(name, fieldOrSpec, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensureIndex = function (name, fieldOrSpec, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return ensureIndex(self, name, fieldOrSpec, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    ensureIndex(self, name, fieldOrSpec, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.eval" id="apidoc.module.mongolass.Db.prototype.eval">module mongolass.Db.prototype.eval</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.eval.eval" id="apidoc.element.mongolass.Db.prototype.eval.eval">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>eval
        <span class="apidocSignatureSpan">(code, parameters, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eval = function (code, parameters, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  parameters = args.length ? args.shift() : parameters;
  options = args.length ? args.shift() || {} : {};

  // Check if the callback is in fact a string
  if(typeof callback == 'function') return evaluate(self, code, parameters, options, callback);
  // Execute the command
  return new this.s.promiseLibrary(function(resolve, reject) {
    evaluate(self, code, parameters, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.executeDbAdminCommand" id="apidoc.module.mongolass.Db.prototype.executeDbAdminCommand">module mongolass.Db.prototype.executeDbAdminCommand</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.executeDbAdminCommand.executeDbAdminCommand" id="apidoc.element.mongolass.Db.prototype.executeDbAdminCommand.executeDbAdminCommand">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>executeDbAdminCommand
        <span class="apidocSignatureSpan">(selector, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeDbAdminCommand = function (selector, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Return the callback
  if(typeof callback == 'function') {
    // Convert read preference
    if(options.readPreference) {
      options.readPreference = convertReadPreference(options.readPreference)
    }

    return self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return callback(new MongoError('topology was destroyed'));
      if(err) return handleCallback(callback, err);
      handleCallback(callback, null, result.result);
    });
  }

  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.command('admin.$cmd', selector, options, function(err, result) {
      // Did the user destroy the topology
      if(self.serverConfig &amp;&amp; self.serverConfig.isDestroyed()) return reject(new MongoError('topology was destroyed'));
      if(err) return reject(err);
      resolve(result.result);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.indexInformation" id="apidoc.module.mongolass.Db.prototype.indexInformation">module mongolass.Db.prototype.indexInformation</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.indexInformation.indexInformation" id="apidoc.element.mongolass.Db.prototype.indexInformation.indexInformation">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>indexInformation
        <span class="apidocSignatureSpan">(name, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexInformation = function (name, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // If we have a callback fallback
  if(typeof callback == 'function') return indexInformation(self, name, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    indexInformation(self, name, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.listCollections" id="apidoc.module.mongolass.Db.prototype.listCollections">module mongolass.Db.prototype.listCollections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.listCollections.listCollections" id="apidoc.element.mongolass.Db.prototype.listCollections.listCollections">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>listCollections
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listCollections = function (filter, options) {
  filter = filter || {};
  options = options || {};

  // Shallow clone the object
  options = shallowClone(options);
  // Set the promise library
  options.promiseLibrary = this.s.promiseLibrary;

  // Ensure valid readPreference
  if(options.readPreference) {
    options.readPreference = convertReadPreference(options.readPreference);
  }

  // We have a list collections command
  if(this.serverConfig.capabilities().hasListCollectionsCommand) {
    // Cursor options
    var cursor = options.batchSize ? {batchSize: options.batchSize} : {}
    // Build the command
    var command = { listCollections : true, filter: filter, cursor: cursor };
    // Set the AggregationCursor constructor
    options.cursorFactory = CommandCursor;
    // Create the cursor
    cursor = this.s.topology.cursor(f('%s.$cmd', this.s.databaseName), command, options);
    // Do we have a readPreference, apply it
    if(options.readPreference) {
      cursor.setReadPreference(options.readPreference);
    }
    // Return the cursor
    return cursor;
  }

  // We cannot use the listCollectionsCommand
  if(!this.serverConfig.capabilities().hasListCollectionsCommand) {
    // If we have legacy mode and have not provided a full db name filter it
    if(typeof filter.name == 'string' &amp;&amp; !(new RegExp('^' + this.databaseName + '\\.').test(filter.name))) {
      filter = shallowClone(filter);
      filter.name = f('%s.%s', this.s.databaseName, filter.name);
    }
  }

  // No filter, filter by current database
  if(filter == null) {
    filter.name = f('/%s/', this.s.databaseName);
  }

  // Rewrite the filter to use $and to filter out indexes
  if(filter.name) {
    filter = {$and: [{name: filter.name}, {name:/^((?!\$).)*$/}]};
  } else {
    filter = {name:/^((?!\$).)*$/};
  }

  // Return options
  var _options = {transforms: listCollectionsTranforms(this.s.databaseName)}
  // Get the cursor
  cursor = this.collection(Db.SYSTEM_NAMESPACE_COLLECTION).find(filter, _options);
  // Do we have a readPreference, apply it
  if(options.readPreference) cursor.setReadPreference(options.readPreference);
  // Set the passed in batch size if one was provided
  if(options.batchSize) cursor = cursor.batchSize(options.batchSize);
  // We have a fallback mode using legacy systems collections
  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.logout" id="apidoc.module.mongolass.Db.prototype.logout">module mongolass.Db.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.logout.logout" id="apidoc.element.mongolass.Db.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>logout
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};

  // Establish the correct database name
  var dbName = this.s.authSource ? this.s.authSource : this.s.databaseName;
  dbName = options.dbName ? options.dbName : dbName;

  // If we have a callback
  if(typeof callback == 'function') {
    return self.s.topology.logout(dbName, function(err) {
      if(err) return callback(err);
      callback(null, true);
    });
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.s.topology.logout(dbName, function(err) {
      if(err) return reject(err);
      resolve(true);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.open" id="apidoc.module.mongolass.Db.prototype.open">module mongolass.Db.prototype.open</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.open.open" id="apidoc.element.mongolass.Db.prototype.open.open">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.s.promiseLibrary(function(resolve, reject) {
    open(self, function(err, db) {
      if(err) return reject(err);
      resolve(db);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.removeUser" id="apidoc.module.mongolass.Db.prototype.removeUser">module mongolass.Db.prototype.removeUser</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.removeUser.removeUser" id="apidoc.element.mongolass.Db.prototype.removeUser.removeUser">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>removeUser
        <span class="apidocSignatureSpan">(username, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeUser = function (username, options, callback) {
  // Unpack the parameters
  var self = this;
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() || {} : {};

  // If we have a callback fallback
  if(typeof callback == 'function') return removeUser(self, username, options, callback);

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    removeUser(self, username, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.renameCollection" id="apidoc.module.mongolass.Db.prototype.renameCollection">module mongolass.Db.prototype.renameCollection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.renameCollection.renameCollection" id="apidoc.element.mongolass.Db.prototype.renameCollection.renameCollection">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>renameCollection
        <span class="apidocSignatureSpan">(fromCollection, toCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renameCollection = function (fromCollection, toCollection, options, callback) {
  var self = this;
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Add return new collection
  options.new_collection = true;

  // Check if the callback is in fact a string
  if(typeof callback == 'function') {
    return this.collection(fromCollection).rename(toCollection, options, callback);
  }

  // Return a promise
  return new this.s.promiseLibrary(function(resolve, reject) {
    self.collection(fromCollection).rename(toCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.stats" id="apidoc.module.mongolass.Db.prototype.stats">module mongolass.Db.prototype.stats</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.stats.stats" id="apidoc.element.mongolass.Db.prototype.stats.stats">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stats = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  options = options || {};
  // Build command object
  var commandObject = { dbStats:true };
  // Check if we have the scale value
  if(options['scale'] != null) commandObject['scale'] = options['scale'];

  // If we have a readPreference set
  if(options.readPreference == null &amp;&amp; this.s.readPreference) {
    options.readPreference = this.s.readPreference;
  }

  // Execute the command
  return this.command(commandObject, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Db.prototype.unref" id="apidoc.module.mongolass.Db.prototype.unref">module mongolass.Db.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Db.prototype.unref.unref" id="apidoc.element.mongolass.Db.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.Db.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.topology.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Decimal128" id="apidoc.module.mongolass.Decimal128">module mongolass.Decimal128</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.Decimal128" id="apidoc.element.mongolass.Decimal128.Decimal128">
        function <span class="apidocSignatureSpan">mongolass.</span>Decimal128
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128 = function (bytes) {
  this._bsontype = 'Decimal128';
  this.bytes = bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.fromString" id="apidoc.element.mongolass.Decimal128.fromString">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.</span>fromString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (string) {
  // Parse state tracking
  var isNegative = false;
  var sawRadix = false;
  var foundNonZero = false;

  // Total number of significant digits (no leading or trailing zero)
  var significantDigits = 0;
  // Total number of significand digits read
  var nDigitsRead = 0;
  // Total number of digits (no leading zeros)
  var nDigits = 0;
  // The number of the digits after radix
  var radixPosition = 0;
  // The index of the first non-zero in *str*
  var firstNonZero = 0;

  // Digits Array
  var digits = [0];
  // The number of digits in digits
  var nDigitsStored = 0;
  // Insertion pointer for digits
  var digitsInsert = 0;
  // The index of the first non-zero digit
  var firstDigit = 0;
  // The index of the last digit
  var lastDigit = 0;

  // Exponent
  var exponent = 0;
  // loop index over array
  var i = 0;
  // The high 17 digits of the significand
  var significandHigh = [0, 0];
  // The low 17 digits of the significand
  var significandLow = [0, 0];
  // The biased exponent
  var biasedExponent = 0;

  // Read index
  var index = 0;

  // Trim the string
  string = string.trim();

  // Results
  var stringMatch = string.match(PARSE_STRING_REGEXP);
  var infMatch = string.match(PARSE_INF_REGEXP);
  var nanMatch = string.match(PARSE_NAN_REGEXP);

  // Validate the string
  if(!stringMatch
    &amp;&amp; ! infMatch
    &amp;&amp; ! nanMatch || string.length == 0) {
      throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Check if we have an illegal exponent format
  if(stringMatch &amp;&amp; stringMatch[4] &amp;&amp; stringMatch[2] === undefined) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Get the negative or positive sign
  if(string[index] == '+' || string[index] == '-') {
    isNegative = string[index++] == '-';
  }

  // Check if user passed Infinity or NaN
  if(!isDigit(string[index]) &amp;&amp; string[index] != '.') {
    if(string[index] == 'i' || string[index] == 'I') {
      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));
    } else if(string[index] == 'N') {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }
  }

  // Read all the digits
  while(isDigit(string[index]) || string[index] == '.') {
    if(string[index] == '.') {
      if(sawRadix) {
        return new Decimal128(new Buffer(NAN_BUFFER));
      }

      sawRadix = true;
      index = index + 1;
      continue;
    }

    if(nDigitsStored &lt; 34) {
      if(string[index] != '0' || foundNonZero) {
        if(!foundNonZero) {
          firstNonZero = nDigitsRead;
        }

        foundNonZero = true;

        // Only store 34 digits
        digits[digitsInsert++] = parseInt(string[index], 10);
        nDigitsStored = nDigitsStored + 1;
      }
    }

    if(foundNonZero) {
      nDigits = nDigits + 1;
    }

    if(sawRadix) {
      radixPosition = radixPosition + 1;
    }

    nDigitsRead = nDigitsRead + 1;
    index = index + 1;
  }

  if(sawRadix &amp;&amp; !nDigitsRead) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Read exponent if exists
  if(string[index] == 'e' || string[index] == 'E') {
    // Read exponent digits
    var match = string.substr(++index).match(EXPONENT_REGEX);

    // No digits read
    if(!match || !match[2]) {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }

    // Get exponent
    exponent = parseInt(match[0], 10);

    // Adjust the index
    index = index + match[0].length;
  }

  // Return not a number
  if(string[index]) {
    return new Decimal128(new Buffer(NAN_BUFFER));
  }

  // Done reading input
  // Find first non-zero digit in digits
  firstDigit = 0;

  if(!nDigitsStored) {
    firstDigit = 0;
    lastDigit = 0;
    digits[0] = 0;
    nDigits = 1;
    nDigitsStored = 1;
    significantDigits = 0;
  } else {
    lastDigit = nDigitsStored - 1;
    significantDigits = nDigits;

    if(exponent != 0 &amp;&amp; significantDigits != 1) {
      while(string[firstNonZero + significantDigits - 1] == '0') {
        significantDigits = significantDigits - 1;
      }
    }
  }

  // Normalization of ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Decimal128.fromString" id="apidoc.module.mongolass.Decimal128.fromString">module mongolass.Decimal128.fromString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.fromString.fromString" id="apidoc.element.mongolass.Decimal128.fromString.fromString">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.</span>fromString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (string) {
  // Parse state tracking
  var isNegative = false;
  var sawRadix = false;
  var foundNonZero = false;

  // Total number of significant digits (no leading or trailing zero)
  var significantDigits = 0;
  // Total number of significand digits read
  var nDigitsRead = 0;
  // Total number of digits (no leading zeros)
  var nDigits = 0;
  // The number of the digits after radix
  var radixPosition = 0;
  // The index of the first non-zero in *str*
  var firstNonZero = 0;

  // Digits Array
  var digits = [0];
  // The number of digits in digits
  var nDigitsStored = 0;
  // Insertion pointer for digits
  var digitsInsert = 0;
  // The index of the first non-zero digit
  var firstDigit = 0;
  // The index of the last digit
  var lastDigit = 0;

  // Exponent
  var exponent = 0;
  // loop index over array
  var i = 0;
  // The high 17 digits of the significand
  var significandHigh = [0, 0];
  // The low 17 digits of the significand
  var significandLow = [0, 0];
  // The biased exponent
  var biasedExponent = 0;

  // Read index
  var index = 0;

  // Trim the string
  string = string.trim();

  // Results
  var stringMatch = string.match(PARSE_STRING_REGEXP);
  var infMatch = string.match(PARSE_INF_REGEXP);
  var nanMatch = string.match(PARSE_NAN_REGEXP);

  // Validate the string
  if(!stringMatch
    &amp;&amp; ! infMatch
    &amp;&amp; ! nanMatch || string.length == 0) {
      throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Check if we have an illegal exponent format
  if(stringMatch &amp;&amp; stringMatch[4] &amp;&amp; stringMatch[2] === undefined) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Get the negative or positive sign
  if(string[index] == '+' || string[index] == '-') {
    isNegative = string[index++] == '-';
  }

  // Check if user passed Infinity or NaN
  if(!isDigit(string[index]) &amp;&amp; string[index] != '.') {
    if(string[index] == 'i' || string[index] == 'I') {
      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));
    } else if(string[index] == 'N') {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }
  }

  // Read all the digits
  while(isDigit(string[index]) || string[index] == '.') {
    if(string[index] == '.') {
      if(sawRadix) {
        return new Decimal128(new Buffer(NAN_BUFFER));
      }

      sawRadix = true;
      index = index + 1;
      continue;
    }

    if(nDigitsStored &lt; 34) {
      if(string[index] != '0' || foundNonZero) {
        if(!foundNonZero) {
          firstNonZero = nDigitsRead;
        }

        foundNonZero = true;

        // Only store 34 digits
        digits[digitsInsert++] = parseInt(string[index], 10);
        nDigitsStored = nDigitsStored + 1;
      }
    }

    if(foundNonZero) {
      nDigits = nDigits + 1;
    }

    if(sawRadix) {
      radixPosition = radixPosition + 1;
    }

    nDigitsRead = nDigitsRead + 1;
    index = index + 1;
  }

  if(sawRadix &amp;&amp; !nDigitsRead) {
    throw new Error("" + string + " not a valid Decimal128 string");
  }

  // Read exponent if exists
  if(string[index] == 'e' || string[index] == 'E') {
    // Read exponent digits
    var match = string.substr(++index).match(EXPONENT_REGEX);

    // No digits read
    if(!match || !match[2]) {
      return new Decimal128(new Buffer(NAN_BUFFER));
    }

    // Get exponent
    exponent = parseInt(match[0], 10);

    // Adjust the index
    index = index + match[0].length;
  }

  // Return not a number
  if(string[index]) {
    return new Decimal128(new Buffer(NAN_BUFFER));
  }

  // Done reading input
  // Find first non-zero digit in digits
  firstDigit = 0;

  if(!nDigitsStored) {
    firstDigit = 0;
    lastDigit = 0;
    digits[0] = 0;
    nDigits = 1;
    nDigitsStored = 1;
    significantDigits = 0;
  } else {
    lastDigit = nDigitsStored - 1;
    significantDigits = nDigits;

    if(exponent != 0 &amp;&amp; significantDigits != 1) {
      while(string[firstNonZero + significantDigits - 1] == '0') {
        significantDigits = significantDigits - 1;
      }
    }
  }

  // Normalization of ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Decimal128.prototype" id="apidoc.module.mongolass.Decimal128.prototype">module mongolass.Decimal128.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toJSON" id="apidoc.element.mongolass.Decimal128.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return { "$numberDecimal": this.toString() };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toString" id="apidoc.element.mongolass.Decimal128.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  // Note: bits in this routine are referred to starting at 0,
  // from the sign bit, towards the coefficient.

  // bits 0 - 31
  var high;
  // bits 32 - 63
  var midh;
  // bits 64 - 95
  var midl;
  // bits 96 - 127
  var low;
  // bits 1 - 5
  var combination;
  // decoded biased exponent (14 bits)
  var biased_exponent;
  // the number of significand digits
  var significand_digits = 0;
  // the base-10 digits in the significand
  var significand = new Array(36);
  for(var i = 0; i &lt; significand.length; i++) significand[i] = 0;
  // read pointer into significand
  var index = 0;

  // unbiased exponent
  var exponent;
  // the exponent if scientific notation is used
  var scientific_exponent;

  // true if the number is zero
  var is_zero = false;

  // the most signifcant significand bits (50-46)
  var significand_msb;
  // temporary storage for significand decoding
  var significand128 = {parts: new Array(4)};
  // indexing variables
  var i;
  var j, k;

  // Output string
  var string = [];

  // Unpack index
  var index = 0;

  // Buffer reference
  var buffer = this.bytes;

  // Unpack the low 64bits into a long
  low = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;
  midl = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;

  // Unpack the high 64bits into a long
  midh = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;
  high = buffer[index++] | buffer[index++] &lt;&lt; 8 | buffer[index++] &lt;&lt; 16 | buffer[index++] &lt;&lt; 24;

  // Unpack index
  var index = 0;

  // Create the state of the decimal
  var dec = {
    low: new Long(low, midl),
    high: new Long(midh, high) };

  if(dec.high.lessThan(Long.ZERO)) {
    string.push('-');
  }

  // Decode combination field and exponent
  combination = (high &gt;&gt; 26) &amp; COMBINATION_MASK;

  if((combination &gt;&gt; 3) == 3) {
    // Check for 'special' values
    if(combination == COMBINATION_INFINITY) {
      return string.join('') + "Infinity";
    } else if(combination == COMBINATION_NAN) {
      return "NaN";
    } else {
      biased_exponent = (high &gt;&gt; 15) &amp; EXPONENT_MASK;
      significand_msb = 0x08 + ((high &gt;&gt; 14) &amp; 0x01);
    }
  } else {
    significand_msb = (high &gt;&gt; 14) &amp; 0x07;
    biased_exponent = (high &gt;&gt; 17) &amp; EXPONENT_MASK;
  }

  exponent = biased_exponent - EXPONENT_BIAS;

  // Create string of significand digits

  // Convert the 114-bit binary number represented by
  // (significand_high, significand_low) to at most 34 decimal
  // digits through modulo and division.
  significand128.parts[0] = (high &amp; 0x3fff) + ((significand_msb &amp; 0xf) &lt;&lt; 14);
  significand128.parts[1] = midh;
  significand128.parts[2] = midl;
  significand128.parts[3] = low;

  if(significand128.parts[0] == 0 &amp;&amp; significand128.parts[1] == 0
    &amp;&amp; significand128.parts[2] == 0 &amp;&amp; significand128.parts[3] == 0) {
      is_zero = true;
  } else {
    for(var k = 3; k &gt;= 0; k--) {
      var least_digits = 0;
      // Peform the divide
      var result = divideu128(significand128);
      significand128 = result.quotient;
      least_digits = result.rem.low_;

      // We now have the 9 least significant digits (in base 2).
      // Convert and output to string.
      if(!least_digits) continue;

      for(var j = 8; j &gt;= 0; j--) {
        // significand[k * 9 + j] = Math.round(least_digits % 10);
        significand[k * 9 + j] = least_digits % 10;
        // least_digits = Math.round(least_digits / 10);
        least_digits = Math.floor(least_digits / 10);
      }
    }
  }

  // Output format options:
  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd
  // Regular    - ddd.ddd

  if(is_zero) {
    significand_digits = 1;
    significand[index] = 0;
  } else {
    significand_digits = 36;
    var i = 0;

    while(!significand[index]) {
      i++;
      significand_digits = significand_digits - 1;
      index = index + 1;
    }
  }

  scientific_exponent = significand_digits - 1 + exponent;

  // The scientific exponent checks are dictated by the string conversion
  // ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Decimal128.prototype.toJSON" id="apidoc.module.mongolass.Decimal128.prototype.toJSON">module mongolass.Decimal128.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Decimal128.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return { "$numberDecimal": this.toString() };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Decimal128.prototype.toString" id="apidoc.module.mongolass.Decimal128.prototype.toString">module mongolass.Decimal128.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Decimal128.prototype.toString.toString" id="apidoc.element.mongolass.Decimal128.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.Decimal128.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Double" id="apidoc.module.mongolass.Double">module mongolass.Double</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Double.Double" id="apidoc.element.mongolass.Double.Double">
        function <span class="apidocSignatureSpan">mongolass.</span>Double
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Double(value) {
  if(!(this instanceof Double)) return new Double(value);

  this._bsontype = 'Double';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Double.prototype" id="apidoc.module.mongolass.Double.prototype">module mongolass.Double.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Double.prototype.toJSON" id="apidoc.element.mongolass.Double.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Double.prototype.valueOf" id="apidoc.element.mongolass.Double.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Double.prototype.toJSON" id="apidoc.module.mongolass.Double.prototype.toJSON">module mongolass.Double.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Double.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Double.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Double.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Double.prototype.valueOf" id="apidoc.module.mongolass.Double.prototype.valueOf">module mongolass.Double.prototype.valueOf</a></h1>

</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket" id="apidoc.module.mongolass.GridFSBucket">module mongolass.GridFSBucket</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.GridFSBucket" id="apidoc.element.mongolass.GridFSBucket.GridFSBucket">
        function <span class="apidocSignatureSpan">mongolass.</span>GridFSBucket
        <span class="apidocSignatureSpan">(db, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridFSBucket(db, options) {
  Emitter.apply(this);
  this.setMaxListeners(0);

  if (options &amp;&amp; typeof options === 'object') {
    options = shallowClone(options);
    var keys = Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS);
    for (var i = 0; i &lt; keys.length; ++i) {
      if (!options[keys[i]]) {
        options[keys[i]] = DEFAULT_GRIDFS_BUCKET_OPTIONS[keys[i]];
      }
    }
  } else {
    options = DEFAULT_GRIDFS_BUCKET_OPTIONS;
  }

  this.s = {
    db: db,
    options: options,
    _chunksCollection: db.collection(options.bucketName + '.chunks'),
    _filesCollection: db.collection(options.bucketName + '.files'),
    checkedIndexes: false,
    calledOpenUploadStream: false,
    promiseLibrary: db.s.promiseLibrary ||
      (typeof global.Promise == 'function' ? global.Promise : require('es6-promise').Promise)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.super_" id="apidoc.element.mongolass.GridFSBucket.super_">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype" id="apidoc.module.mongolass.GridFSBucket.prototype">module mongolass.GridFSBucket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.delete" id="apidoc.element.mongolass.GridFSBucket.prototype.delete">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>delete
        <span class="apidocSignatureSpan">(id, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (id, callback) {
  if (typeof callback === 'function') {
    return _delete(this, id, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _delete(_this, id, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.drop" id="apidoc.element.mongolass.GridFSBucket.prototype.drop">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>drop
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drop = function (callback) {
  if (typeof callback === 'function') {
    return _drop(this, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _drop(_this, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.find" id="apidoc.element.mongolass.GridFSBucket.prototype.find">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>find
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (filter, options) {
  filter = filter || {};
  options = options || {};

  var cursor = this.s._filesCollection.find(filter);

  if (options.batchSize != null) {
    cursor.batchSize(options.batchSize);
  }
  if (options.limit != null) {
    cursor.limit(options.limit);
  }
  if (options.maxTimeMS != null) {
    cursor.maxTimeMS(options.maxTimeMS);
  }
  if (options.noCursorTimeout != null) {
    cursor.addCursorFlag('noCursorTimeout', options.noCursorTimeout);
  }
  if (options.skip != null) {
    cursor.skip(options.skip);
  }
  if (options.sort != null) {
    cursor.sort(options.sort);
  }

  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .<span class="apidocCodeKeywordSpan">find</span>()
  .select({ name: 1, age: 1 })
  .sort({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStream
        <span class="apidocSignatureSpan">(id, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openDownloadStream = function (id, options) {
  var filter = { _id: id };
  options = {
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };

  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStreamByName
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openDownloadStreamByName = function (filename, options) {
  var sort = { uploadDate: -1 };
  var skip = null;
  if (options &amp;&amp; options.revision != null) {
    if (options.revision &gt;= 0) {
      sort = { uploadDate: 1 };
      skip = options.revision;
    } else {
      skip = -options.revision - 1;
    }
  }

  var filter = { filename: filename };
  options = {
    sort: sort,
    skip: skip,
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };
  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStream
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openUploadStream = function (filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }
  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }
  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStreamWithId
        <span class="apidocSignatureSpan">(id, filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openUploadStreamWithId = function (id, filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }

  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }

  options.id = id;

  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.rename" id="apidoc.element.mongolass.GridFSBucket.prototype.rename">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>rename
        <span class="apidocSignatureSpan">(id, filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function (id, filename, callback) {
  if (typeof callback === 'function') {
    return _rename(this, id, filename, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _rename(_this, id, filename, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.delete" id="apidoc.module.mongolass.GridFSBucket.prototype.delete">module mongolass.GridFSBucket.prototype.delete</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.delete.delete" id="apidoc.element.mongolass.GridFSBucket.prototype.delete.delete">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>delete
        <span class="apidocSignatureSpan">(id, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (id, callback) {
  if (typeof callback === 'function') {
    return _delete(this, id, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _delete(_this, id, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.drop" id="apidoc.module.mongolass.GridFSBucket.prototype.drop">module mongolass.GridFSBucket.prototype.drop</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.drop.drop" id="apidoc.element.mongolass.GridFSBucket.prototype.drop.drop">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>drop
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">drop = function (callback) {
  if (typeof callback === 'function') {
    return _drop(this, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _drop(_this, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.find" id="apidoc.module.mongolass.GridFSBucket.prototype.find">module mongolass.GridFSBucket.prototype.find</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.find.find" id="apidoc.element.mongolass.GridFSBucket.prototype.find.find">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>find
        <span class="apidocSignatureSpan">(filter, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (filter, options) {
  filter = filter || {};
  options = options || {};

  var cursor = this.s._filesCollection.find(filter);

  if (options.batchSize != null) {
    cursor.batchSize(options.batchSize);
  }
  if (options.limit != null) {
    cursor.limit(options.limit);
  }
  if (options.maxTimeMS != null) {
    cursor.maxTimeMS(options.maxTimeMS);
  }
  if (options.noCursorTimeout != null) {
    cursor.addCursorFlag('noCursorTimeout', options.noCursorTimeout);
  }
  if (options.skip != null) {
    cursor.skip(options.skip);
  }
  if (options.sort != null) {
    cursor.sort(options.sort);
  }

  return cursor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.connect('mongodb://localhost:27017/test');// const mongolass = new Mongolass('mongodb://localhost:27017
/test');

const User = mongolass.model('User');

User
  .<span class="apidocCodeKeywordSpan">find</span>()
  .select({ name: 1, age: 1 })
  .sort({ name: -1 })
  .exec()
  .then(console.log)
  .catch(console.error);
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStream" id="apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStream">module mongolass.GridFSBucket.prototype.openDownloadStream</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream.openDownloadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStream.openDownloadStream">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStream
        <span class="apidocSignatureSpan">(id, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openDownloadStream = function (id, options) {
  var filter = { _id: id };
  options = {
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };

  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStreamByName" id="apidoc.module.mongolass.GridFSBucket.prototype.openDownloadStreamByName">module mongolass.GridFSBucket.prototype.openDownloadStreamByName</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName.openDownloadStreamByName" id="apidoc.element.mongolass.GridFSBucket.prototype.openDownloadStreamByName.openDownloadStreamByName">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openDownloadStreamByName
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openDownloadStreamByName = function (filename, options) {
  var sort = { uploadDate: -1 };
  var skip = null;
  if (options &amp;&amp; options.revision != null) {
    if (options.revision &gt;= 0) {
      sort = { uploadDate: 1 };
      skip = options.revision;
    } else {
      skip = -options.revision - 1;
    }
  }

  var filter = { filename: filename };
  options = {
    sort: sort,
    skip: skip,
    start: options &amp;&amp; options.start,
    end: options &amp;&amp; options.end
  };
  return new GridFSBucketReadStream(this.s._chunksCollection,
    this.s._filesCollection, this.s.options.readPreference, filter, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openUploadStream" id="apidoc.module.mongolass.GridFSBucket.prototype.openUploadStream">module mongolass.GridFSBucket.prototype.openUploadStream</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream.openUploadStream" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStream.openUploadStream">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStream
        <span class="apidocSignatureSpan">(filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openUploadStream = function (filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }
  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }
  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.openUploadStreamWithId" id="apidoc.module.mongolass.GridFSBucket.prototype.openUploadStreamWithId">module mongolass.GridFSBucket.prototype.openUploadStreamWithId</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId.openUploadStreamWithId" id="apidoc.element.mongolass.GridFSBucket.prototype.openUploadStreamWithId.openUploadStreamWithId">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>openUploadStreamWithId
        <span class="apidocSignatureSpan">(id, filename, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">openUploadStreamWithId = function (id, filename, options) {
  if (options) {
    options = shallowClone(options);
  } else {
    options = {};
  }

  if (!options.chunkSizeBytes) {
    options.chunkSizeBytes = this.s.options.chunkSizeBytes;
  }

  options.id = id;

  return new GridFSBucketWriteStream(this, filename, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridFSBucket.prototype.rename" id="apidoc.module.mongolass.GridFSBucket.prototype.rename">module mongolass.GridFSBucket.prototype.rename</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridFSBucket.prototype.rename.rename" id="apidoc.element.mongolass.GridFSBucket.prototype.rename.rename">
        function <span class="apidocSignatureSpan">mongolass.GridFSBucket.prototype.</span>rename
        <span class="apidocSignatureSpan">(id, filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function (id, filename, callback) {
  if (typeof callback === 'function') {
    return _rename(this, id, filename, callback);
  }

  var _this = this;
  return new this.s.promiseLibrary(function(resolve, reject) {
    _rename(_this, id, filename, function(error, res) {
      if (error) {
        reject(error);
      } else {
        resolve(res);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore" id="apidoc.module.mongolass.GridStore">module mongolass.GridStore</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.GridStore" id="apidoc.element.mongolass.GridStore.GridStore">
        function <span class="apidocSignatureSpan">mongolass.</span>GridStore
        <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridStore(db, id, filename, mode, options) {
  if(!(this instanceof GridStore)) return new GridStore(db, id, filename, mode, options);
  this.db = db;

  // Handle options
  if(typeof options === 'undefined') options = {};
  // Handle mode
  if(typeof mode === 'undefined') {
    mode = filename;
    filename = undefined;
  } else if(typeof mode == 'object') {
    options = mode;
    mode = filename;
    filename = undefined;
  }

  if(id &amp;&amp; id._bsontype == 'ObjectID') {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  } else if(typeof filename == 'undefined') {
    this.referenceBy = REFERENCE_BY_FILENAME;
    this.filename = id;
    if (mode.indexOf('w') != null) {
      this.fileId = new ObjectID();
    }
  } else {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  }

  // Set up the rest
  this.mode = mode == null ? "r" : mode;
  this.options = options || {};

  // Opened
  this.isOpen = false;

  // Set the root if overridden
  this.root = this.options['root'] == null ? GridStore.DEFAULT_ROOT_COLLECTION : this.options['root'];
  this.position = 0;
  this.readPreference = this.options.readPreference || db.options.readPreference || ReadPreference.PRIMARY;
  this.writeConcern = _getWriteConcern(db, this.options);
  // Set default chunk size
  this.internalChunkSize = this.options['chunkSize'] == null ? Chunk.DEFAULT_CHUNK_SIZE : this.options['chunkSize'];

  // Get the promiseLibrary
  var promiseLibrary = this.options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set the promiseLibrary
  this.promiseLibrary = promiseLibrary;

  Object.defineProperty(this, "chunkSize", { enumerable: true
   , get: function () {
       return this.internalChunkSize;
     }
   , set: function(value) {
       if(!(this.mode[0] == "w" &amp;&amp; this.position == 0 &amp;&amp; this.uploadDate == null)) {
         this.internalChunkSize = this.internalChunkSize;
       } else {
         this.internalChunkSize = value;
       }
     }
  });

  Object.defineProperty(this, "md5", { enumerable: true
   , get: function () {
       return this.internalMd5;
     }
  });

  Object.defineProperty(this, "chunkNumber", { enumerable: true
   , get: function () {
       return this.currentChunk &amp;&amp; this.currentChunk.chunkNumber ? this.currentChunk.chunkNumber : null;
     }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.exist" id="apidoc.element.mongolass.GridStore.exist">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>exist
        <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exist = function (db, fileIdObject, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return exists(db, fileIdObject, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    exists(db, fileIdObject, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.list" id="apidoc.element.mongolass.GridStore.list">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>list
        <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (db, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return list(db, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    list(db, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.read" id="apidoc.element.mongolass.GridStore.read">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>read
        <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (db, name, length, offset, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  offset = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readStatic(db, name, length, offset, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readStatic(db, name, length, offset, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.readlines" id="apidoc.element.mongolass.GridStore.readlines">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>readlines
        <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readlines = function (db, name, separator, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readlinesStatic(db, name, separator, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readlinesStatic(db, name, separator, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.unlink" id="apidoc.element.mongolass.GridStore.unlink">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>unlink
        <span class="apidocSignatureSpan">(db, names, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function (db, names, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return unlinkStatic(self, db, names, options, callback);

  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    unlinkStatic(self, db, names, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.define" id="apidoc.module.mongolass.GridStore.define">module mongolass.GridStore.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.GridStore.define.object" id="apidoc.element.mongolass.GridStore.define.object">
        function <span class="apidocSignatureSpan">mongolass.GridStore.define.</span>object
        <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridStore(db, id, filename, mode, options) {
  if(!(this instanceof GridStore)) return new GridStore(db, id, filename, mode, options);
  this.db = db;

  // Handle options
  if(typeof options === 'undefined') options = {};
  // Handle mode
  if(typeof mode === 'undefined') {
    mode = filename;
    filename = undefined;
  } else if(typeof mode == 'object') {
    options = mode;
    mode = filename;
    filename = undefined;
  }

  if(id &amp;&amp; id._bsontype == 'ObjectID') {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  } else if(typeof filename == 'undefined') {
    this.referenceBy = REFERENCE_BY_FILENAME;
    this.filename = id;
    if (mode.indexOf('w') != null) {
      this.fileId = new ObjectID();
    }
  } else {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  }

  // Set up the rest
  this.mode = mode == null ? "r" : mode;
  this.options = options || {};

  // Opened
  this.isOpen = false;

  // Set the root if overridden
  this.root = this.options['root'] == null ? GridStore.DEFAULT_ROOT_COLLECTION : this.options['root'];
  this.position = 0;
  this.readPreference = this.options.readPreference || db.options.readPreference || ReadPreference.PRIMARY;
  this.writeConcern = _getWriteConcern(db, this.options);
  // Set default chunk size
  this.internalChunkSize = this.options['chunkSize'] == null ? Chunk.DEFAULT_CHUNK_SIZE : this.options['chunkSize'];

  // Get the promiseLibrary
  var promiseLibrary = this.options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set the promiseLibrary
  this.promiseLibrary = promiseLibrary;

  Object.defineProperty(this, "chunkSize", { enumerable: true
   , get: function () {
       return this.internalChunkSize;
     }
   , set: function(value) {
       if(!(this.mode[0] == "w" &amp;&amp; this.position == 0 &amp;&amp; this.uploadDate == null)) {
         this.internalChunkSize = this.internalChunkSize;
       } else {
         this.internalChunkSize = value;
       }
     }
  });

  Object.defineProperty(this, "md5", { enumerable: true
   , get: function () {
       return this.internalMd5;
     }
  });

  Object.defineProperty(this, "chunkNumber", { enumerable: true
   , get: function () {
       return this.currentChunk &amp;&amp; this.currentChunk.chunkNumber ? this.currentChunk.chunkNumber : null;
     }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.exist" id="apidoc.module.mongolass.GridStore.exist">module mongolass.GridStore.exist</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.exist.exist" id="apidoc.element.mongolass.GridStore.exist.exist">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>exist
        <span class="apidocSignatureSpan">(db, fileIdObject, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exist = function (db, fileIdObject, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return exists(db, fileIdObject, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    exists(db, fileIdObject, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.list" id="apidoc.module.mongolass.GridStore.list">module mongolass.GridStore.list</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.list.list" id="apidoc.element.mongolass.GridStore.list.list">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>list
        <span class="apidocSignatureSpan">(db, rootCollection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (db, rootCollection, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  rootCollection = args.length ? args.shift() : null;
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return list(db, rootCollection, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    list(db, rootCollection, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype" id="apidoc.module.mongolass.GridStore.prototype">module mongolass.GridStore.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection" id="apidoc.element.mongolass.GridStore.prototype.chunkCollection">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>chunkCollection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">chunkCollection = function (callback) {
  if(typeof callback == 'function')
    return this.db.collection((this.root + ".chunks"), callback);
  return this.db.collection((this.root + ".chunks"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.close" id="apidoc.element.mongolass.GridStore.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return close(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    close(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.collection" id="apidoc.element.mongolass.GridStore.prototype.collection">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>collection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collection = function (callback) {
  if(typeof callback == 'function')
    this.db.collection(this.root + ".files", callback);
  return this.db.collection(this.root + ".files");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.destroy" id="apidoc.element.mongolass.GridStore.prototype.destroy">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function destroy() {
  // close and do not emit any more events. queued data is not sent.
  if(!this.writable) return;
  this.readable = false;
  if(this.writable) {
    this.writable = false;
    this._q.length = 0;
    this.emit('close');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.eof" id="apidoc.element.mongolass.GridStore.prototype.eof">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eof = function () {
  return this.position == this.length ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.getc" id="apidoc.element.mongolass.GridStore.prototype.getc">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>getc
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getc = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return eof(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    eof(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.open" id="apidoc.element.mongolass.GridStore.prototype.open">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (callback) {
  var self = this;
  if( this.mode != "w" &amp;&amp; this.mode != "w+" &amp;&amp; this.mode != "r"){
    throw MongoError.create({message: "Illegal mode " + this.mode, driver:true});
  }

  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    open(self, function(err, store) {
      if(err) return reject(err);
      resolve(store);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.puts" id="apidoc.element.mongolass.GridStore.prototype.puts">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>puts
        <span class="apidocSignatureSpan">(string, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">puts = function (string, callback) {
  var self = this;
  var finalString = string.match(/\n$/) == null ? string + "\n" : string;
  // We provided a callback leg
  if(typeof callback == 'function') return this.write(finalString, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    self.write(finalString, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.read" id="apidoc.element.mongolass.GridStore.prototype.read">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>read
        <span class="apidocSignatureSpan">(length, buffer, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (length, buffer, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  buffer = args.length ? args.shift() : null;
  // We provided a callback leg
  if(typeof callback == 'function') return read(self, length, buffer, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    read(self, length, buffer, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.readlines" id="apidoc.element.mongolass.GridStore.prototype.readlines">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>readlines
        <span class="apidocSignatureSpan">(separator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readlines = function (separator, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : "\n";
  separator = separator || "\n";

  // We provided a callback leg
  if(typeof callback == 'function') return readlines(self, separator, callback);

  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    readlines(self, separator, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.rewind" id="apidoc.element.mongolass.GridStore.prototype.rewind">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>rewind
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return rewind(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    rewind(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.seek" id="apidoc.element.mongolass.GridStore.prototype.seek">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>seek
        <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">seek = function (position, seekLocation, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  seekLocation = args.length ? args.shift() : null;

  // We provided a callback leg
  if(typeof callback == 'function') return seek(self, position, seekLocation, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    seek(self, position, seekLocation, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.stream" id="apidoc.element.mongolass.GridStore.prototype.stream">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function () {
  return new GridStoreStream(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.tell" id="apidoc.element.mongolass.GridStore.prototype.tell">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>tell
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tell = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return callback(null, this.position);
  // Return promise
  return new self.promiseLibrary(function(resolve) {
    resolve(self.position);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.unlink" id="apidoc.element.mongolass.GridStore.prototype.unlink">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>unlink
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return unlink(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    unlink(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.write" id="apidoc.element.mongolass.GridStore.prototype.write">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>write
        <span class="apidocSignatureSpan">(data, close, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(data, close, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return _writeNormal(this, data, close, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    _writeNormal(self, data, close, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.writeFile" id="apidoc.element.mongolass.GridStore.prototype.writeFile">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>writeFile
        <span class="apidocSignatureSpan">(file, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function (file, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return writeFile(self, file, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    writeFile(self, file, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.chunkCollection" id="apidoc.module.mongolass.GridStore.prototype.chunkCollection">module mongolass.GridStore.prototype.chunkCollection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.chunkCollection.chunkCollection" id="apidoc.element.mongolass.GridStore.prototype.chunkCollection.chunkCollection">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>chunkCollection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">chunkCollection = function (callback) {
  if(typeof callback == 'function')
    return this.db.collection((this.root + ".chunks"), callback);
  return this.db.collection((this.root + ".chunks"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.close" id="apidoc.module.mongolass.GridStore.prototype.close">module mongolass.GridStore.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.close.close" id="apidoc.element.mongolass.GridStore.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>close
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return close(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    close(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.collection" id="apidoc.module.mongolass.GridStore.prototype.collection">module mongolass.GridStore.prototype.collection</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.collection.collection" id="apidoc.element.mongolass.GridStore.prototype.collection.collection">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>collection
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">collection = function (callback) {
  if(typeof callback == 'function')
    this.db.collection(this.root + ".files", callback);
  return this.db.collection(this.root + ".files");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.destroy" id="apidoc.module.mongolass.GridStore.prototype.destroy">module mongolass.GridStore.prototype.destroy</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.destroy.destroy" id="apidoc.element.mongolass.GridStore.prototype.destroy.destroy">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function destroy() {
  // close and do not emit any more events. queued data is not sent.
  if(!this.writable) return;
  this.readable = false;
  if(this.writable) {
    this.writable = false;
    this._q.length = 0;
    this.emit('close');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.eof" id="apidoc.module.mongolass.GridStore.prototype.eof">module mongolass.GridStore.prototype.eof</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.eof.eof" id="apidoc.element.mongolass.GridStore.prototype.eof.eof">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>eof
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eof = function () {
  return this.position == this.length ? true : false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.getc" id="apidoc.module.mongolass.GridStore.prototype.getc">module mongolass.GridStore.prototype.getc</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.getc.getc" id="apidoc.element.mongolass.GridStore.prototype.getc.getc">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>getc
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getc = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return eof(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    eof(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.open" id="apidoc.module.mongolass.GridStore.prototype.open">module mongolass.GridStore.prototype.open</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.open.open" id="apidoc.element.mongolass.GridStore.prototype.open.open">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>open
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (callback) {
  var self = this;
  if( this.mode != "w" &amp;&amp; this.mode != "w+" &amp;&amp; this.mode != "r"){
    throw MongoError.create({message: "Illegal mode " + this.mode, driver:true});
  }

  // We provided a callback leg
  if(typeof callback == 'function') return open(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    open(self, function(err, store) {
      if(err) return reject(err);
      resolve(store);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.puts" id="apidoc.module.mongolass.GridStore.prototype.puts">module mongolass.GridStore.prototype.puts</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.puts.puts" id="apidoc.element.mongolass.GridStore.prototype.puts.puts">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>puts
        <span class="apidocSignatureSpan">(string, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">puts = function (string, callback) {
  var self = this;
  var finalString = string.match(/\n$/) == null ? string + "\n" : string;
  // We provided a callback leg
  if(typeof callback == 'function') return this.write(finalString, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    self.write(finalString, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.read" id="apidoc.module.mongolass.GridStore.prototype.read">module mongolass.GridStore.prototype.read</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.read.read" id="apidoc.element.mongolass.GridStore.prototype.read.read">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>read
        <span class="apidocSignatureSpan">(length, buffer, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (length, buffer, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  buffer = args.length ? args.shift() : null;
  // We provided a callback leg
  if(typeof callback == 'function') return read(self, length, buffer, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    read(self, length, buffer, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.readlines" id="apidoc.module.mongolass.GridStore.prototype.readlines">module mongolass.GridStore.prototype.readlines</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.readlines.readlines" id="apidoc.element.mongolass.GridStore.prototype.readlines.readlines">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>readlines
        <span class="apidocSignatureSpan">(separator, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readlines = function (separator, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 0);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : "\n";
  separator = separator || "\n";

  // We provided a callback leg
  if(typeof callback == 'function') return readlines(self, separator, callback);

  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    readlines(self, separator, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.rewind" id="apidoc.module.mongolass.GridStore.prototype.rewind">module mongolass.GridStore.prototype.rewind</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.rewind.rewind" id="apidoc.element.mongolass.GridStore.prototype.rewind.rewind">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>rewind
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return rewind(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    rewind(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.seek" id="apidoc.module.mongolass.GridStore.prototype.seek">module mongolass.GridStore.prototype.seek</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.seek.seek" id="apidoc.element.mongolass.GridStore.prototype.seek.seek">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>seek
        <span class="apidocSignatureSpan">(position, seekLocation, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">seek = function (position, seekLocation, callback) {
  var self = this;

  var args = Array.prototype.slice.call(arguments, 1);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  seekLocation = args.length ? args.shift() : null;

  // We provided a callback leg
  if(typeof callback == 'function') return seek(self, position, seekLocation, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    seek(self, position, seekLocation, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.stream" id="apidoc.module.mongolass.GridStore.prototype.stream">module mongolass.GridStore.prototype.stream</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.stream.stream" id="apidoc.element.mongolass.GridStore.prototype.stream.stream">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function () {
  return new GridStoreStream(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.tell" id="apidoc.module.mongolass.GridStore.prototype.tell">module mongolass.GridStore.prototype.tell</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.tell.tell" id="apidoc.element.mongolass.GridStore.prototype.tell.tell">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>tell
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tell = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return callback(null, this.position);
  // Return promise
  return new self.promiseLibrary(function(resolve) {
    resolve(self.position);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.unlink" id="apidoc.module.mongolass.GridStore.prototype.unlink">module mongolass.GridStore.prototype.unlink</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.unlink.unlink" id="apidoc.element.mongolass.GridStore.prototype.unlink.unlink">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>unlink
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function (callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return unlink(self, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    unlink(self, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.write" id="apidoc.module.mongolass.GridStore.prototype.write">module mongolass.GridStore.prototype.write</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.write.write" id="apidoc.element.mongolass.GridStore.prototype.write.write">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>write
        <span class="apidocSignatureSpan">(data, close, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(data, close, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return _writeNormal(this, data, close, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    _writeNormal(self, data, close, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.prototype.writeFile" id="apidoc.module.mongolass.GridStore.prototype.writeFile">module mongolass.GridStore.prototype.writeFile</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.prototype.writeFile.writeFile" id="apidoc.element.mongolass.GridStore.prototype.writeFile.writeFile">
        function <span class="apidocSignatureSpan">mongolass.GridStore.prototype.</span>writeFile
        <span class="apidocSignatureSpan">(file, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function (file, callback) {
  var self = this;
  // We provided a callback leg
  if(typeof callback == 'function') return writeFile(self, file, callback);
  // Return promise
  return new self.promiseLibrary(function(resolve, reject) {
    writeFile(self, file, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.read" id="apidoc.module.mongolass.GridStore.read">module mongolass.GridStore.read</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.read.read" id="apidoc.element.mongolass.GridStore.read.read">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>read
        <span class="apidocSignatureSpan">(db, name, length, offset, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (db, name, length, offset, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  length = args.length ? args.shift() : null;
  offset = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readStatic(db, name, length, offset, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readStatic(db, name, length, offset, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.readlines" id="apidoc.module.mongolass.GridStore.readlines">module mongolass.GridStore.readlines</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.readlines.readlines" id="apidoc.element.mongolass.GridStore.readlines.readlines">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>readlines
        <span class="apidocSignatureSpan">(db, name, separator, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readlines = function (db, name, separator, options, callback) {
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  separator = args.length ? args.shift() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options ? options.promiseLibrary : null;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return readlinesStatic(db, name, separator, options, callback);
  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    readlinesStatic(db, name, separator, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.GridStore.unlink" id="apidoc.module.mongolass.GridStore.unlink">module mongolass.GridStore.unlink</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.GridStore.unlink.unlink" id="apidoc.element.mongolass.GridStore.unlink.unlink">
        function <span class="apidocSignatureSpan">mongolass.GridStore.</span>unlink
        <span class="apidocSignatureSpan">(db, names, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function (db, names, options, callback) {
  var self = this;
  var args = Array.prototype.slice.call(arguments, 2);
  callback = args.pop();
  if(typeof callback != 'function') args.push(callback);
  options = args.length ? args.shift() : {};
  options = options || {};

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // We provided a callback leg
  if(typeof callback == 'function') return unlinkStatic(self, db, names, options, callback);

  // Return promise
  return new promiseLibrary(function(resolve, reject) {
    unlinkStatic(self, db, names, options, function(err, r) {
      if(err) return reject(err);
      resolve(r);
    })
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Int32" id="apidoc.module.mongolass.Int32">module mongolass.Int32</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Int32.Int32" id="apidoc.element.mongolass.Int32.Int32">
        function <span class="apidocSignatureSpan">mongolass.</span>Int32
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Int32 = function (value) {
  if(!(this instanceof Int32)) return new Int32(value);

  this._bsontype = 'Int32';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Int32.prototype" id="apidoc.module.mongolass.Int32.prototype">module mongolass.Int32.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Int32.prototype.toJSON" id="apidoc.element.mongolass.Int32.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Int32.prototype.valueOf" id="apidoc.element.mongolass.Int32.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Int32.prototype.toJSON" id="apidoc.module.mongolass.Int32.prototype.toJSON">module mongolass.Int32.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Int32.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Int32.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Int32.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Int32.prototype.valueOf" id="apidoc.module.mongolass.Int32.prototype.valueOf">module mongolass.Int32.prototype.valueOf</a></h1>

</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger" id="apidoc.module.mongolass.Logger">module mongolass.Logger</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.Logger" id="apidoc.element.mongolass.Logger.Logger">
        function <span class="apidocSignatureSpan">mongolass.</span>Logger
        <span class="apidocSignatureSpan">(className, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger = function (className, options) {
  if(!(this instanceof Logger)) return new Logger(className, options);
  options = options || {};

  // Current reference
  this.className = className;

  // Current logger
  if(options.logger) {
    currentLogger = options.logger;
  } else if(currentLogger == null) {
    currentLogger = console.log;
  }

  // Set level of logging, default is error
  if(options.loggerLevel) {
    level = options.loggerLevel || 'error';
  }

  // Add all class names
  if(filteredClasses[this.className] == null) classFilters[this.className] =  true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.currentLogger" id="apidoc.element.mongolass.Logger.currentLogger">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>currentLogger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">currentLogger = function () {
  return currentLogger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.filter" id="apidoc.element.mongolass.Logger.filter">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>filter
        <span class="apidocSignatureSpan">(type, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (type, values) {
  if(type == 'class' &amp;&amp; Array.isArray(values)) {
    filteredClasses = {};

    values.forEach(function(x) {
      filteredClasses[x] = true;
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
};

function execBeforePlugins() {
let self = this;
let hookName = 'before' + _.upperFirst(this._op);
let plugins = _.<span class="apidocCodeKeywordSpan">filter</span>(this._plugins, plugin =&gt; plugin.hooks[hookName]);
if (!plugins.length) {
  return;
}
return co(function* () {
  for (let plugin of plugins) {
    debug('%s %s before plugin %s: args -&gt; %j', self._model._name, hookName, plugin.name, self._args);
    try {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.reset" id="apidoc.element.mongolass.Logger.reset">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  level = 'error';
  filteredClasses = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.setCurrentLogger" id="apidoc.element.mongolass.Logger.setCurrentLogger">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>setCurrentLogger
        <span class="apidocSignatureSpan">(logger)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCurrentLogger = function (logger) {
  if(typeof logger != 'function') throw new MongoError("current logger must be a function");
  currentLogger = logger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.setLevel" id="apidoc.element.mongolass.Logger.setLevel">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>setLevel
        <span class="apidocSignatureSpan">(_level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setLevel = function (_level) {
  if(_level != 'info' &amp;&amp; _level != 'error' &amp;&amp; _level != 'debug' &amp;&amp; _level != 'warn') {
    throw new Error(f("%s is an illegal logging level", _level));
  }

  level = _level;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.currentLogger" id="apidoc.module.mongolass.Logger.currentLogger">module mongolass.Logger.currentLogger</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.currentLogger.currentLogger" id="apidoc.element.mongolass.Logger.currentLogger.currentLogger">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>currentLogger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">currentLogger = function () {
  return currentLogger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.filter" id="apidoc.module.mongolass.Logger.filter">module mongolass.Logger.filter</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.filter.filter" id="apidoc.element.mongolass.Logger.filter.filter">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>filter
        <span class="apidocSignatureSpan">(type, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (type, values) {
  if(type == 'class' &amp;&amp; Array.isArray(values)) {
    filteredClasses = {};

    values.forEach(function(x) {
      filteredClasses[x] = true;
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
};

function execBeforePlugins() {
let self = this;
let hookName = 'before' + _.upperFirst(this._op);
let plugins = _.<span class="apidocCodeKeywordSpan">filter</span>(this._plugins, plugin =&gt; plugin.hooks[hookName]);
if (!plugins.length) {
  return;
}
return co(function* () {
  for (let plugin of plugins) {
    debug('%s %s before plugin %s: args -&gt; %j', self._model._name, hookName, plugin.name, self._args);
    try {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype" id="apidoc.module.mongolass.Logger.prototype">module mongolass.Logger.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.debug" id="apidoc.element.mongolass.Logger.prototype.debug">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>debug
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (message, object) {
  if(this.isDebug()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'DEBUG', this.className, pid, dateTime, message);
    var state = {
      type: 'debug', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.error" id="apidoc.element.mongolass.Logger.prototype.error">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>error
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (message, object) {
  if(this.isError()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'ERROR', this.className, pid, dateTime, message);
    var state = {
      type: 'error', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

User
.insertOne({ name: 'nswbmw', age: 'wrong age' })
.exec()
.then(console.log)
.catch(function (e) {
  console.<span class="apidocCodeKeywordSpan">error</span>(e);
  console.error(e.stack);
});
/*
{ [Error: ($.age: "wrong age") âœ– (type: number)]
validator: 'type',
actual: 'wrong age',
expected: { type: 'number' },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.info" id="apidoc.element.mongolass.Logger.prototype.info">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>info
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (message, object) {
  if(this.isInfo()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'INFO', this.className, pid, dateTime, message);
    var state = {
      type: 'info', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isDebug" id="apidoc.element.mongolass.Logger.prototype.isDebug">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDebug = function () {
  return level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isError" id="apidoc.element.mongolass.Logger.prototype.isError">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isError = function () {
  return level == 'error' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isInfo" id="apidoc.element.mongolass.Logger.prototype.isInfo">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInfo = function () {
  return level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isWarn" id="apidoc.element.mongolass.Logger.prototype.isWarn">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isWarn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWarn = function () {
  return level == 'error' || level == 'warn' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.warn" id="apidoc.element.mongolass.Logger.prototype.warn">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>warn
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (message, object) {
  if(this.isWarn()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'WARN', this.className, pid, dateTime, message);
    var state = {
      type: 'warn', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.debug" id="apidoc.module.mongolass.Logger.prototype.debug">module mongolass.Logger.prototype.debug</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.debug.debug" id="apidoc.element.mongolass.Logger.prototype.debug.debug">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>debug
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (message, object) {
  if(this.isDebug()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'DEBUG', this.className, pid, dateTime, message);
    var state = {
      type: 'debug', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.error" id="apidoc.module.mongolass.Logger.prototype.error">module mongolass.Logger.prototype.error</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.error.error" id="apidoc.element.mongolass.Logger.prototype.error.error">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>error
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (message, object) {
  if(this.isError()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'ERROR', this.className, pid, dateTime, message);
    var state = {
      type: 'error', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */

User
.insertOne({ name: 'nswbmw', age: 'wrong age' })
.exec()
.then(console.log)
.catch(function (e) {
  console.<span class="apidocCodeKeywordSpan">error</span>(e);
  console.error(e.stack);
});
/*
{ [Error: ($.age: "wrong age") âœ– (type: number)]
validator: 'type',
actual: 'wrong age',
expected: { type: 'number' },
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.info" id="apidoc.module.mongolass.Logger.prototype.info">module mongolass.Logger.prototype.info</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.info.info" id="apidoc.element.mongolass.Logger.prototype.info.info">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>info
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (message, object) {
  if(this.isInfo()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'INFO', this.className, pid, dateTime, message);
    var state = {
      type: 'info', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.isDebug" id="apidoc.module.mongolass.Logger.prototype.isDebug">module mongolass.Logger.prototype.isDebug</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isDebug.isDebug" id="apidoc.element.mongolass.Logger.prototype.isDebug.isDebug">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDebug = function () {
  return level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.isError" id="apidoc.module.mongolass.Logger.prototype.isError">module mongolass.Logger.prototype.isError</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isError.isError" id="apidoc.element.mongolass.Logger.prototype.isError.isError">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isError = function () {
  return level == 'error' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.isInfo" id="apidoc.module.mongolass.Logger.prototype.isInfo">module mongolass.Logger.prototype.isInfo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isInfo.isInfo" id="apidoc.element.mongolass.Logger.prototype.isInfo.isInfo">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInfo = function () {
  return level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.isWarn" id="apidoc.module.mongolass.Logger.prototype.isWarn">module mongolass.Logger.prototype.isWarn</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.isWarn.isWarn" id="apidoc.element.mongolass.Logger.prototype.isWarn.isWarn">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>isWarn
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWarn = function () {
  return level == 'error' || level == 'warn' || level == 'info' || level == 'debug';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.prototype.warn" id="apidoc.module.mongolass.Logger.prototype.warn">module mongolass.Logger.prototype.warn</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.prototype.warn.warn" id="apidoc.element.mongolass.Logger.prototype.warn.warn">
        function <span class="apidocSignatureSpan">mongolass.Logger.prototype.</span>warn
        <span class="apidocSignatureSpan">(message, object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (message, object) {
  if(this.isWarn()
    &amp;&amp; ((Object.keys(filteredClasses).length &gt; 0 &amp;&amp; filteredClasses[this.className])
      || (Object.keys(filteredClasses).length == 0 &amp;&amp; classFilters[this.className]))) {
    var dateTime = new Date().getTime();
    var msg = f("[%s-%s:%s] %s %s", 'WARN', this.className, pid, dateTime, message);
    var state = {
      type: 'warn', message: message, className: this.className, pid: pid, date: dateTime
    };
    if(object) state.meta = object;
    currentLogger(msg, state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.reset" id="apidoc.module.mongolass.Logger.reset">module mongolass.Logger.reset</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.reset.reset" id="apidoc.element.mongolass.Logger.reset.reset">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  level = 'error';
  filteredClasses = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.setCurrentLogger" id="apidoc.module.mongolass.Logger.setCurrentLogger">module mongolass.Logger.setCurrentLogger</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.setCurrentLogger.setCurrentLogger" id="apidoc.element.mongolass.Logger.setCurrentLogger.setCurrentLogger">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>setCurrentLogger
        <span class="apidocSignatureSpan">(logger)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCurrentLogger = function (logger) {
  if(typeof logger != 'function') throw new MongoError("current logger must be a function");
  currentLogger = logger;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Logger.setLevel" id="apidoc.module.mongolass.Logger.setLevel">module mongolass.Logger.setLevel</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Logger.setLevel.setLevel" id="apidoc.element.mongolass.Logger.setLevel.setLevel">
        function <span class="apidocSignatureSpan">mongolass.Logger.</span>setLevel
        <span class="apidocSignatureSpan">(_level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setLevel = function (_level) {
  if(_level != 'info' &amp;&amp; _level != 'error' &amp;&amp; _level != 'debug' &amp;&amp; _level != 'warn') {
    throw new Error(f("%s is an illegal logging level", _level));
  }

  level = _level;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long" id="apidoc.module.mongolass.Long">module mongolass.Long</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.Long" id="apidoc.element.mongolass.Long.Long">
        function <span class="apidocSignatureSpan">mongolass.</span>Long
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Long(low, high) {
  if(!(this instanceof Long)) return new Long(low, high);

  this._bsontype = 'Long';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromBits" id="apidoc.element.mongolass.Long.fromBits">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromBits = function (lowBits, highBits) {
  return new Long(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromInt" id="apidoc.element.mongolass.Long.fromInt">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Long.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Long(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Long.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromNumber" id="apidoc.element.mongolass.Long.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Long.ZERO;
  } else if (value &lt;= -Long.TWO_PWR_63_DBL_) {
    return Long.MIN_VALUE;
  } else if (value + 1 &gt;= Long.TWO_PWR_63_DBL_) {
    return Long.MAX_VALUE;
  } else if (value &lt; 0) {
    return Long.fromNumber(-value).negate();
  } else {
    return new Long(
               (value % Long.TWO_PWR_32_DBL_) | 0,
               (value / Long.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.fromString" id="apidoc.element.mongolass.Long.fromString">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Long.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Long.fromNumber(Math.pow(radix, 8));

  var result = Long.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Long.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Long.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Long.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.fromBits" id="apidoc.module.mongolass.Long.fromBits">module mongolass.Long.fromBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.fromBits.fromBits" id="apidoc.element.mongolass.Long.fromBits.fromBits">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromBits = function (lowBits, highBits) {
  return new Long(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.fromInt" id="apidoc.module.mongolass.Long.fromInt">module mongolass.Long.fromInt</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.fromInt.fromInt" id="apidoc.element.mongolass.Long.fromInt.fromInt">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Long.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Long(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Long.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.fromNumber" id="apidoc.module.mongolass.Long.fromNumber">module mongolass.Long.fromNumber</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.fromNumber.fromNumber" id="apidoc.element.mongolass.Long.fromNumber.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Long.ZERO;
  } else if (value &lt;= -Long.TWO_PWR_63_DBL_) {
    return Long.MIN_VALUE;
  } else if (value + 1 &gt;= Long.TWO_PWR_63_DBL_) {
    return Long.MAX_VALUE;
  } else if (value &lt; 0) {
    return Long.fromNumber(-value).negate();
  } else {
    return new Long(
               (value % Long.TWO_PWR_32_DBL_) | 0,
               (value / Long.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.fromString" id="apidoc.module.mongolass.Long.fromString">module mongolass.Long.fromString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.fromString.fromString" id="apidoc.element.mongolass.Long.fromString.fromString">
        function <span class="apidocSignatureSpan">mongolass.Long.</span>fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Long.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Long.fromNumber(Math.pow(radix, 8));

  var result = Long.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Long.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Long.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Long.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype" id="apidoc.module.mongolass.Long.prototype">module mongolass.Long.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.add" id="apidoc.element.mongolass.Long.prototype.add">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.and" id="apidoc.element.mongolass.Long.prototype.and">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">and = function (other) {
  return Long.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.compare" id="apidoc.element.mongolass.Long.prototype.compare">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.div" id="apidoc.element.mongolass.Long.prototype.div">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    if (other.equals(Long.ONE) ||
        other.equals(Long.NEG_ONE)) {
      return Long.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Long.MIN_VALUE)) {
      return Long.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Long.ZERO)) {
        return other.isNegative() ? Long.ONE : Long.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Long.MIN_VALUE)) {
    return Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Long.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Long.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Long.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Long.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.equals" id="apidoc.element.mongolass.Long.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getHighBits" id="apidoc.element.mongolass.Long.prototype.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBits" id="apidoc.element.mongolass.Long.prototype.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned" id="apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs" id="apidoc.element.mongolass.Long.prototype.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Long.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThan" id="apidoc.element.mongolass.Long.prototype.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual" id="apidoc.element.mongolass.Long.prototype.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isNegative" id="apidoc.element.mongolass.Long.prototype.isNegative">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isOdd" id="apidoc.element.mongolass.Long.prototype.isOdd">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isZero" id="apidoc.element.mongolass.Long.prototype.isZero">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThan" id="apidoc.element.mongolass.Long.prototype.lessThan">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual" id="apidoc.element.mongolass.Long.prototype.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.modulo" id="apidoc.element.mongolass.Long.prototype.modulo">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.multiply" id="apidoc.element.mongolass.Long.prototype.multiply">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multiply = function (other) {
  if (this.isZero()) {
    return Long.ZERO;
  } else if (other.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  } else if (other.equals(Long.MIN_VALUE)) {
    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Longs are small, use float multiplication
  if (this.lessThan(Long.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Long.TWO_PWR_24_)) {
    return Long.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.negate" id="apidoc.element.mongolass.Long.prototype.negate">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">negate = function () {
  if (this.equals(Long.MIN_VALUE)) {
    return Long.MIN_VALUE;
  } else {
    return this.not().add(Long.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.not" id="apidoc.element.mongolass.Long.prototype.not">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function () {
  return Long.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.notEquals" id="apidoc.element.mongolass.Long.prototype.notEquals">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.or" id="apidoc.element.mongolass.Long.prototype.or">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">or = function (other) {
  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftLeft" id="apidoc.element.mongolass.Long.prototype.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Long.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Long.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRight" id="apidoc.element.mongolass.Long.prototype.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Long.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned" id="apidoc.element.mongolass.Long.prototype.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Long.fromBits(high, 0);
    } else {
      return Long.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.subtract" id="apidoc.element.mongolass.Long.prototype.subtract">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toInt" id="apidoc.element.mongolass.Long.prototype.toInt">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toJSON" id="apidoc.element.mongolass.Long.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toNumber" id="apidoc.element.mongolass.Long.prototype.toNumber">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toNumber = function () {
  return this.high_ * Long.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toString" id="apidoc.element.mongolass.Long.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toString
        <span class="apidocSignatureSpan">(opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (opt_radix) {
  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (this.isZero()) {
    return '0';
  }

  if (this.isNegative()) {
    if (this.equals(Long.MIN_VALUE)) {
      // We need to change the Long value before it can be negated, so we remove
      // the bottom-most digit in this base and then recurse to do the rest.
      var radixLong = Long.fromNumber(radix);
      var div = this.div(radixLong);
      var rem = div.multiply(radixLong).subtract(this);
      return div.toString(radix) + rem.toInt().toString(radix);
    } else {
      return '-' + this.negate().toString(radix);
    }
  }

  // Do several (6) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Long.fromNumber(Math.pow(radix, 6));

  var rem = this;
  var result = '';
  while (true) {
    var remDiv = rem.div(radixToPower);
    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
    var digits = intval.toString(radix);

    rem = remDiv;
    if (rem.isZero()) {
      return digits + result;
    } else {
      while (digits.length &lt; 6) {
        digits = '0' + digits;
      }
      result = '' + digits + result;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.xor" id="apidoc.element.mongolass.Long.prototype.xor">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xor = function (other) {
  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.add" id="apidoc.module.mongolass.Long.prototype.add">module mongolass.Long.prototype.add</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.add.add" id="apidoc.element.mongolass.Long.prototype.add.add">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.and" id="apidoc.module.mongolass.Long.prototype.and">module mongolass.Long.prototype.and</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.and.and" id="apidoc.element.mongolass.Long.prototype.and.and">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">and = function (other) {
  return Long.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.compare" id="apidoc.module.mongolass.Long.prototype.compare">module mongolass.Long.prototype.compare</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.compare.compare" id="apidoc.element.mongolass.Long.prototype.compare.compare">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.div" id="apidoc.module.mongolass.Long.prototype.div">module mongolass.Long.prototype.div</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.div.div" id="apidoc.element.mongolass.Long.prototype.div.div">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    if (other.equals(Long.ONE) ||
        other.equals(Long.NEG_ONE)) {
      return Long.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Long.MIN_VALUE)) {
      return Long.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Long.ZERO)) {
        return other.isNegative() ? Long.ONE : Long.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Long.MIN_VALUE)) {
    return Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Long.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Long.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Long.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Long.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.equals" id="apidoc.module.mongolass.Long.prototype.equals">module mongolass.Long.prototype.equals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.equals.equals" id="apidoc.element.mongolass.Long.prototype.equals.equals">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.getHighBits" id="apidoc.module.mongolass.Long.prototype.getHighBits">module mongolass.Long.prototype.getHighBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getHighBits.getHighBits" id="apidoc.element.mongolass.Long.prototype.getHighBits.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.getLowBits" id="apidoc.module.mongolass.Long.prototype.getLowBits">module mongolass.Long.prototype.getLowBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBits.getLowBits" id="apidoc.element.mongolass.Long.prototype.getLowBits.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.getLowBitsUnsigned" id="apidoc.module.mongolass.Long.prototype.getLowBitsUnsigned">module mongolass.Long.prototype.getLowBitsUnsigned</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned.getLowBitsUnsigned" id="apidoc.element.mongolass.Long.prototype.getLowBitsUnsigned.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.getNumBitsAbs" id="apidoc.module.mongolass.Long.prototype.getNumBitsAbs">module mongolass.Long.prototype.getNumBitsAbs</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.getNumBitsAbs.getNumBitsAbs" id="apidoc.element.mongolass.Long.prototype.getNumBitsAbs.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Long.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.greaterThan" id="apidoc.module.mongolass.Long.prototype.greaterThan">module mongolass.Long.prototype.greaterThan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThan.greaterThan" id="apidoc.element.mongolass.Long.prototype.greaterThan.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.greaterThanOrEqual" id="apidoc.module.mongolass.Long.prototype.greaterThanOrEqual">module mongolass.Long.prototype.greaterThanOrEqual</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.greaterThanOrEqual.greaterThanOrEqual" id="apidoc.element.mongolass.Long.prototype.greaterThanOrEqual.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.isNegative" id="apidoc.module.mongolass.Long.prototype.isNegative">module mongolass.Long.prototype.isNegative</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isNegative.isNegative" id="apidoc.element.mongolass.Long.prototype.isNegative.isNegative">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.isOdd" id="apidoc.module.mongolass.Long.prototype.isOdd">module mongolass.Long.prototype.isOdd</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isOdd.isOdd" id="apidoc.element.mongolass.Long.prototype.isOdd.isOdd">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.isZero" id="apidoc.module.mongolass.Long.prototype.isZero">module mongolass.Long.prototype.isZero</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.isZero.isZero" id="apidoc.element.mongolass.Long.prototype.isZero.isZero">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.lessThan" id="apidoc.module.mongolass.Long.prototype.lessThan">module mongolass.Long.prototype.lessThan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThan.lessThan" id="apidoc.element.mongolass.Long.prototype.lessThan.lessThan">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.lessThanOrEqual" id="apidoc.module.mongolass.Long.prototype.lessThanOrEqual">module mongolass.Long.prototype.lessThanOrEqual</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.lessThanOrEqual.lessThanOrEqual" id="apidoc.element.mongolass.Long.prototype.lessThanOrEqual.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.modulo" id="apidoc.module.mongolass.Long.prototype.modulo">module mongolass.Long.prototype.modulo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.modulo.modulo" id="apidoc.element.mongolass.Long.prototype.modulo.modulo">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.multiply" id="apidoc.module.mongolass.Long.prototype.multiply">module mongolass.Long.prototype.multiply</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.multiply.multiply" id="apidoc.element.mongolass.Long.prototype.multiply.multiply">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multiply = function (other) {
  if (this.isZero()) {
    return Long.ZERO;
  } else if (other.isZero()) {
    return Long.ZERO;
  }

  if (this.equals(Long.MIN_VALUE)) {
    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  } else if (other.equals(Long.MIN_VALUE)) {
    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Longs are small, use float multiplication
  if (this.lessThan(Long.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Long.TWO_PWR_24_)) {
    return Long.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Long.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.negate" id="apidoc.module.mongolass.Long.prototype.negate">module mongolass.Long.prototype.negate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.negate.negate" id="apidoc.element.mongolass.Long.prototype.negate.negate">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">negate = function () {
  if (this.equals(Long.MIN_VALUE)) {
    return Long.MIN_VALUE;
  } else {
    return this.not().add(Long.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.not" id="apidoc.module.mongolass.Long.prototype.not">module mongolass.Long.prototype.not</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.not.not" id="apidoc.element.mongolass.Long.prototype.not.not">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function () {
  return Long.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.notEquals" id="apidoc.module.mongolass.Long.prototype.notEquals">module mongolass.Long.prototype.notEquals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.notEquals.notEquals" id="apidoc.element.mongolass.Long.prototype.notEquals.notEquals">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.or" id="apidoc.module.mongolass.Long.prototype.or">module mongolass.Long.prototype.or</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.or.or" id="apidoc.element.mongolass.Long.prototype.or.or">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">or = function (other) {
  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.shiftLeft" id="apidoc.module.mongolass.Long.prototype.shiftLeft">module mongolass.Long.prototype.shiftLeft</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftLeft.shiftLeft" id="apidoc.element.mongolass.Long.prototype.shiftLeft.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Long.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Long.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.shiftRight" id="apidoc.module.mongolass.Long.prototype.shiftRight">module mongolass.Long.prototype.shiftRight</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRight.shiftRight" id="apidoc.element.mongolass.Long.prototype.shiftRight.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Long.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.shiftRightUnsigned" id="apidoc.module.mongolass.Long.prototype.shiftRightUnsigned">module mongolass.Long.prototype.shiftRightUnsigned</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.shiftRightUnsigned.shiftRightUnsigned" id="apidoc.element.mongolass.Long.prototype.shiftRightUnsigned.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Long.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Long.fromBits(high, 0);
    } else {
      return Long.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.subtract" id="apidoc.module.mongolass.Long.prototype.subtract">module mongolass.Long.prototype.subtract</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.subtract.subtract" id="apidoc.element.mongolass.Long.prototype.subtract.subtract">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.toInt" id="apidoc.module.mongolass.Long.prototype.toInt">module mongolass.Long.prototype.toInt</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toInt.toInt" id="apidoc.element.mongolass.Long.prototype.toInt.toInt">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.toJSON" id="apidoc.module.mongolass.Long.prototype.toJSON">module mongolass.Long.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Long.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.toNumber" id="apidoc.module.mongolass.Long.prototype.toNumber">module mongolass.Long.prototype.toNumber</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toNumber.toNumber" id="apidoc.element.mongolass.Long.prototype.toNumber.toNumber">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toNumber = function () {
  return this.high_ * Long.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.toString" id="apidoc.module.mongolass.Long.prototype.toString">module mongolass.Long.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.toString.toString" id="apidoc.element.mongolass.Long.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Long.prototype.xor" id="apidoc.module.mongolass.Long.prototype.xor">module mongolass.Long.prototype.xor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Long.prototype.xor.xor" id="apidoc.element.mongolass.Long.prototype.xor.xor">
        function <span class="apidocSignatureSpan">mongolass.Long.prototype.</span>xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xor = function (other) {
  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Map" id="apidoc.module.mongolass.Map">module mongolass.Map</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Map.Map" id="apidoc.element.mongolass.Map.Map">
        function <span class="apidocSignatureSpan">mongolass.</span>Map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Map() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MaxKey" id="apidoc.module.mongolass.MaxKey">module mongolass.MaxKey</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.MaxKey.MaxKey" id="apidoc.element.mongolass.MaxKey.MaxKey">
        function <span class="apidocSignatureSpan">mongolass.</span>MaxKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MaxKey() {
  if(!(this instanceof MaxKey)) return new MaxKey();

  this._bsontype = 'MaxKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MinKey" id="apidoc.module.mongolass.MinKey">module mongolass.MinKey</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.MinKey.MinKey" id="apidoc.element.mongolass.MinKey.MinKey">
        function <span class="apidocSignatureSpan">mongolass.</span>MinKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MinKey() {
  if(!(this instanceof MinKey)) return new MinKey();

  this._bsontype = 'MinKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Model" id="apidoc.module.mongolass.Model">module mongolass.Model</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Model.Model" id="apidoc.element.mongolass.Model.Model">
        function <span class="apidocSignatureSpan">mongolass.</span>Model
        <span class="apidocSignatureSpan">(name, schema, db, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Model {
  constructor(name, schema, db, opts) {
    opts = opts || {};
    this._db = db;
    this._schema = schema;
    this._name = name;
    this._collName = opts.collName || inflected.pluralize(name).toLowerCase();
    this._opts = opts;
    this._plugins = {};

    this._connect();
    Query.bindQuery(this, mongodb.Collection);

    //alias
    this.create = this.insert;
    this.index = this.ensureIndex;

    _.defaults(this._plugins, this._db._plugins);
  }

<span class="apidocCodeCommentSpan">  /**
   * get a collection
   */
</span>  _connect(collName, opts) {
    if (this._coll) {
      return Promise.resolve(this._coll);
    }
    this._collName = collName || this._collName;
    this._opts = opts || this._opts;
    this._conn = this._conn || this._db
      .connect()
      .then(db =&gt; {
        this._coll = db.collection(this._collName, this._opts);
        debug('Get collection: ' + this._collName);
        return this._coll;
      })
      .catch(e =&gt; {
        console.error(e);
        throw e;
      });
    return this._conn;
  }

  /**
   * get/set another model
   */
  model(name, schema, opts) {
    return this._db.model(name, schema, opts);
  }

  /**
   * add model plugin
   */
  plugin(name, hooks) {
    if (!name || !hooks || !_.isString(name) || !_.isPlainObject(hooks)) {
      throw new TypeError('Wrong plugin name or hooks');
    }
    this._plugins[name] = {
      name: name,
      hooks: hooks
    };
    debug('Add %s pulgin: %j', this._name, name);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MongoClient" id="apidoc.module.mongolass.MongoClient">module mongolass.MongoClient</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.MongoClient.MongoClient" id="apidoc.element.mongolass.MongoClient.MongoClient">
        function <span class="apidocSignatureSpan">mongolass.</span>MongoClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoClient() {
<span class="apidocCodeCommentSpan">  /**
   * The callback format for results
   * @callback MongoClient~connectCallback
   * @param {MongoError} error An error instance representing the error during the execution.
   * @param {Db} db The connected database.
   */
</span>
  /**
   * Connect to MongoDB using a url as documented at
   *
   *  docs.mongodb.org/manual/reference/connection-string/
   *
   * Note that for replicasets the replicaSet query parameter is required in the 2.0 driver
   *
   * @method
   * @param {string} url The connection URI string
   * @param {object} [options] Optional settings.
   * @param {number} [options.poolSize=5] poolSize The maximum size of the individual server pool.
   * @param {boolean} [options.ssl=false] Enable SSL connection.
   * @param {Buffer} [options.sslCA=undefined] SSL Certificate store binary buffer
   * @param {Buffer} [options.sslCRL=undefined] SSL Certificate revocation list binary buffer
   * @param {Buffer} [options.sslCert=undefined] SSL Certificate binary buffer
   * @param {Buffer} [options.sslKey=undefined] SSL Key file binary buffer
   * @param {string} [options.sslPass=undefined] SSL Certificate pass phrase
   * @param {boolean|function} [options.checkServerIdentity=true] Ensure we check server identify during SSL, set to false to disable
 checking. Only works for Node 0.12.x or higher. You can pass in a boolean or your own checkServerIdentity override function.
   * @param {boolean} [options.autoReconnect=true] Enable autoReconnect for single server instances
   * @param {boolean} [options.noDelay=true] TCP Connection no delay
   * @param {boolean} [options.keepAlive=0] The number of milliseconds to wait before initiating keepAlive on the TCP socket.
   * @param {number} [options.connectTimeoutMS=30000] TCP Connection timeout setting
   * @param {number} [options.socketTimeoutMS=30000] TCP Socket timeout setting
   * @param {number} [options.reconnectTries=30] Server attempt to reconnect #times
   * @param {number} [options.reconnectInterval=1000] Server will wait # milliseconds between retries
   * @param {boolean} [options.ha=true] Control if high availability monitoring runs for Replicaset or Mongos proxies.
   * @param {number} [options.haInterval=10000] The High availability period for replicaset inquiry
   * @param {string} [options.replicaSet=undefined] The Replicaset set name
   * @param {number} [options.secondaryAcceptableLatencyMS=15] Cutoff latency point in MS for Replicaset member selection
   * @param {number} [options.acceptableLatencyMS=15] Cutoff latency point in MS for Mongos proxies selection.
   * @param {boolean} [options.connectWithNoPrimary=false] Sets if the driver should connect even if no primary is available
   * @param {string} [options.authSource=undefined] Define the database to authenticate against
   * @param {(number|string)} [options.w=null] The write concern.
   * @param {number} [options.wtimeout=null] The write concern timeout.
   * @param {boolean} [options.j=false] Specify a journal write concern.
   * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.
   * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.
   * @param {Boolean} [options.ignoreUndefined=false] Specify if the BSON serializer should ignore undefined fields.
   * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.
   * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.
   * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.
   * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive
 wrapper types.
   * @param {number} [options.bufferMaxEntries=-1] Sets a cap on how many operations the driver will buffer up before giving up
on getting a working connection, default is -1 which is unlimited.
   * @param {(ReadPreference|string)} [options.readPreference=null] The preferred ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MongoClient.connect" id="apidoc.element.mongolass.MongoClient.connect">
        function <span class="apidocSignatureSpan">mongolass.MongoClient.</span>connect
        <span class="apidocSignatureSpan">(url, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (url, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = typeof args[args.length - 1] == 'function' ? args.pop() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Validate options object
  var err = validOptions(options);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Return a promise
  if(typeof callback != 'function') {
    return new promiseLibrary(function(resolve, reject) {
      // Did we have a validation error
      if(err) return reject(err);
      // Attempt to connect
      connect(url, options, function(err, db) {
        if(err) return reject(err);
        resolve(db);
      });
    });
  }

  // Did we have a validation error
  if(err) return callback(err);
  // Fallback to callback based connect
  connect(url, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MongoClient.define" id="apidoc.module.mongolass.MongoClient.define">module mongolass.MongoClient.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.MongoClient.define.object" id="apidoc.element.mongolass.MongoClient.define.object">
        function <span class="apidocSignatureSpan">mongolass.MongoClient.define.</span>object
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoClient() {
<span class="apidocCodeCommentSpan">  /**
   * The callback format for results
   * @callback MongoClient~connectCallback
   * @param {MongoError} error An error instance representing the error during the execution.
   * @param {Db} db The connected database.
   */
</span>
  /**
   * Connect to MongoDB using a url as documented at
   *
   *  docs.mongodb.org/manual/reference/connection-string/
   *
   * Note that for replicasets the replicaSet query parameter is required in the 2.0 driver
   *
   * @method
   * @param {string} url The connection URI string
   * @param {object} [options] Optional settings.
   * @param {number} [options.poolSize=5] poolSize The maximum size of the individual server pool.
   * @param {boolean} [options.ssl=false] Enable SSL connection.
   * @param {Buffer} [options.sslCA=undefined] SSL Certificate store binary buffer
   * @param {Buffer} [options.sslCRL=undefined] SSL Certificate revocation list binary buffer
   * @param {Buffer} [options.sslCert=undefined] SSL Certificate binary buffer
   * @param {Buffer} [options.sslKey=undefined] SSL Key file binary buffer
   * @param {string} [options.sslPass=undefined] SSL Certificate pass phrase
   * @param {boolean|function} [options.checkServerIdentity=true] Ensure we check server identify during SSL, set to false to disable
 checking. Only works for Node 0.12.x or higher. You can pass in a boolean or your own checkServerIdentity override function.
   * @param {boolean} [options.autoReconnect=true] Enable autoReconnect for single server instances
   * @param {boolean} [options.noDelay=true] TCP Connection no delay
   * @param {boolean} [options.keepAlive=0] The number of milliseconds to wait before initiating keepAlive on the TCP socket.
   * @param {number} [options.connectTimeoutMS=30000] TCP Connection timeout setting
   * @param {number} [options.socketTimeoutMS=30000] TCP Socket timeout setting
   * @param {number} [options.reconnectTries=30] Server attempt to reconnect #times
   * @param {number} [options.reconnectInterval=1000] Server will wait # milliseconds between retries
   * @param {boolean} [options.ha=true] Control if high availability monitoring runs for Replicaset or Mongos proxies.
   * @param {number} [options.haInterval=10000] The High availability period for replicaset inquiry
   * @param {string} [options.replicaSet=undefined] The Replicaset set name
   * @param {number} [options.secondaryAcceptableLatencyMS=15] Cutoff latency point in MS for Replicaset member selection
   * @param {number} [options.acceptableLatencyMS=15] Cutoff latency point in MS for Mongos proxies selection.
   * @param {boolean} [options.connectWithNoPrimary=false] Sets if the driver should connect even if no primary is available
   * @param {string} [options.authSource=undefined] Define the database to authenticate against
   * @param {(number|string)} [options.w=null] The write concern.
   * @param {number} [options.wtimeout=null] The write concern timeout.
   * @param {boolean} [options.j=false] Specify a journal write concern.
   * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.
   * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.
   * @param {Boolean} [options.ignoreUndefined=false] Specify if the BSON serializer should ignore undefined fields.
   * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.
   * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.
   * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.
   * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive
 wrapper types.
   * @param {number} [options.bufferMaxEntries=-1] Sets a cap on how many operations the driver will buffer up before giving up
on getting a working connection, default is -1 which is unlimited.
   * @param {(ReadPreference|string)} [options.readPreference=null] The preferred ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MongoError" id="apidoc.module.mongolass.MongoError">module mongolass.MongoError</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.MongoError.MongoError" id="apidoc.element.mongolass.MongoError.MongoError">
        function <span class="apidocSignatureSpan">mongolass.</span>MongoError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoError(message) {
  this.name = 'MongoError';
  this.message = message;
  Error.captureStackTrace(this, MongoError);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.MongoError.create" id="apidoc.element.mongolass.MongoError.create">
        function <span class="apidocSignatureSpan">mongolass.MongoError.</span>create
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (options) {
  var err = null;

  if(options instanceof Error) {
    err = new MongoError(options.message);
    err.stack = options.stack;
  } else if(typeof options == 'string') {
    err = new MongoError(options);
  } else {
    err = new MongoError(options.message || options.errmsg || options.$err || "n/a");
    // Other options
    for(var name in options) {
      err[name] = options[name];
    }
  }

  return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.MongoError.create" id="apidoc.module.mongolass.MongoError.create">module mongolass.MongoError.create</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.MongoError.create.create" id="apidoc.element.mongolass.MongoError.create.create">
        function <span class="apidocSignatureSpan">mongolass.MongoError.</span>create
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (options) {
  var err = null;

  if(options instanceof Error) {
    err = new MongoError(options.message);
    err.stack = options.stack;
  } else if(typeof options == 'string') {
    err = new MongoError(options);
  } else {
    err = new MongoError(options.message || options.errmsg || options.$err || "n/a");
    // Other options
    for(var name in options) {
      err[name] = options[name];
    }
  }

  return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos" id="apidoc.module.mongolass.Mongos">module mongolass.Mongos</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.Mongos" id="apidoc.element.mongolass.Mongos.Mongos">
        function <span class="apidocSignatureSpan">mongolass.</span>Mongos
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos = function (servers, options) {
  if(!(this instanceof Mongos)) return new Mongos(servers, options);
  options = options || {};
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Set up event emitter
  EventEmitter.call(this);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the Mongos
  var mongos = new CMongos(seedlist, clonedOptions)
  // Server capabilities
  var sCapabilities = null;

  // Internal state
  this.s = {
    // Create the Mongos
      mongos: mongos
    // Server capabilities
    , sCapabilities: sCapabilities
    // Debug turned on
    , debug: clonedOptions.debug
    // Store option defaults
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Actual store of callbacks
    , store: store
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.super_" id="apidoc.element.mongolass.Mongos.super_">
        function <span class="apidocSignatureSpan">mongolass.Mongos.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.define" id="apidoc.module.mongolass.Mongos.define">module mongolass.Mongos.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Mongos.define.object" id="apidoc.element.mongolass.Mongos.define.object">
        function <span class="apidocSignatureSpan">mongolass.Mongos.define.</span>object
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (servers, options) {
  if(!(this instanceof Mongos)) return new Mongos(servers, options);
  options = options || {};
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Set up event emitter
  EventEmitter.call(this);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the Mongos
  var mongos = new CMongos(seedlist, clonedOptions)
  // Server capabilities
  var sCapabilities = null;

  // Internal state
  this.s = {
    // Create the Mongos
      mongos: mongos
    // Server capabilities
    , sCapabilities: sCapabilities
    // Debug turned on
    , debug: clonedOptions.debug
    // Store option defaults
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Actual store of callbacks
    , store: store
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype" id="apidoc.module.mongolass.Mongos.prototype">module mongolass.Mongos.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.auth" id="apidoc.element.mongolass.Mongos.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.auth.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.capabilities" id="apidoc.element.mongolass.Mongos.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.mongos.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.mongos.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.close" id="apidoc.element.mongolass.Mongos.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  this.s.mongos.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.command" id="apidoc.element.mongolass.Mongos.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.mongos.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connect" id="apidoc.element.mongolass.Mongos.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.removeListener(e, connectErrorHandler);
      });

      self.s.mongos.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect');
    self.s.store.execute();
  }

  // relay the event
  var relay = function(event) {
    return function(t, server) {
      self.emit(event, t, server);
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.mongos.removeAllListeners(e);
    });

    // Set up listeners
    self.s.mongos.once('timeout', errorHandler('timeout'));
    self.s.mongos.once('error', errorHandler('error'));
    self.s.mongos.once('close', errorHandler('close'));

    // Set up SDAM listeners
    self.s.mongos.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.mongos.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.mongos.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.mongos.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.mongos.on('serverOpening', relay('serverOpening'));
    self.s.mongos.on('serverClosed', relay('serverClosed'));
    self.s.mongos.on('topologyOpening', relay('topologyOpening'));
    self.s.mongos.on('topologyClosed', relay('topologyClosed'));
    self.s.mongos.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    // Set up serverConfig listeners
    self.s.mongos.on('fullsetup', relay('fullsetup'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  self.s.mongos.once('timeout', connectErrorHandler('timeout'));
  self.s.mongos.once('error', connectErrorHandler('error'));
  self.s.mongos.once('close', connectErrorHandler('close'));
  self.s.mongos.once('connect', connectHandler);
  // Join and leave events
  self.s.mongos.on('joined', relay('joined'));
  self.s.mongos.on('left', relay('left'));

  // Reconnect server
  self.s.mongos.on('reconnect', reconnectHandler);

  // Start connection
  self.s.mongos.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connections" id="apidoc.element.mongolass.Mongos.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.mongos.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.cursor" id="apidoc.element.mongolass.Mongos.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.mongos.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.insert" id="apidoc.element.mongolass.Mongos.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.mongos.insert(ns, ops, options, function(e, m) {
    callback(e, m)
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isConnected" id="apidoc.element.mongolass.Mongos.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.s.mongos.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed" id="apidoc.element.mongolass.Mongos.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.mongos.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster" id="apidoc.element.mongolass.Mongos.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.mongos.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.logout" id="apidoc.element.mongolass.Mongos.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.logout.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.remove" id="apidoc.element.mongolass.Mongos.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.mongos.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.unref" id="apidoc.element.mongolass.Mongos.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  return this.s.mongos.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.update" id="apidoc.element.mongolass.Mongos.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.mongos.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.auth" id="apidoc.module.mongolass.Mongos.prototype.auth">module mongolass.Mongos.prototype.auth</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.auth.auth" id="apidoc.element.mongolass.Mongos.prototype.auth.auth">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.auth.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.capabilities" id="apidoc.module.mongolass.Mongos.prototype.capabilities">module mongolass.Mongos.prototype.capabilities</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.capabilities.capabilities" id="apidoc.element.mongolass.Mongos.prototype.capabilities.capabilities">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.mongos.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.mongos.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.close" id="apidoc.module.mongolass.Mongos.prototype.close">module mongolass.Mongos.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.close.close" id="apidoc.element.mongolass.Mongos.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  this.s.mongos.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.command" id="apidoc.module.mongolass.Mongos.prototype.command">module mongolass.Mongos.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.command.command" id="apidoc.element.mongolass.Mongos.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.mongos.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.connect" id="apidoc.module.mongolass.Mongos.prototype.connect">module mongolass.Mongos.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connect.connect" id="apidoc.element.mongolass.Mongos.prototype.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.removeListener(e, connectErrorHandler);
      });

      self.s.mongos.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect');
    self.s.store.execute();
  }

  // relay the event
  var relay = function(event) {
    return function(t, server) {
      self.emit(event, t, server);
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.mongos.removeAllListeners(e);
    });

    // Set up listeners
    self.s.mongos.once('timeout', errorHandler('timeout'));
    self.s.mongos.once('error', errorHandler('error'));
    self.s.mongos.once('close', errorHandler('close'));

    // Set up SDAM listeners
    self.s.mongos.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.mongos.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.mongos.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.mongos.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.mongos.on('serverOpening', relay('serverOpening'));
    self.s.mongos.on('serverClosed', relay('serverClosed'));
    self.s.mongos.on('topologyOpening', relay('topologyOpening'));
    self.s.mongos.on('topologyClosed', relay('topologyClosed'));
    self.s.mongos.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    // Set up serverConfig listeners
    self.s.mongos.on('fullsetup', relay('fullsetup'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  self.s.mongos.once('timeout', connectErrorHandler('timeout'));
  self.s.mongos.once('error', connectErrorHandler('error'));
  self.s.mongos.once('close', connectErrorHandler('close'));
  self.s.mongos.once('connect', connectHandler);
  // Join and leave events
  self.s.mongos.on('joined', relay('joined'));
  self.s.mongos.on('left', relay('left'));

  // Reconnect server
  self.s.mongos.on('reconnect', reconnectHandler);

  // Start connection
  self.s.mongos.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.connections" id="apidoc.module.mongolass.Mongos.prototype.connections">module mongolass.Mongos.prototype.connections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.connections.connections" id="apidoc.element.mongolass.Mongos.prototype.connections.connections">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.mongos.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.cursor" id="apidoc.module.mongolass.Mongos.prototype.cursor">module mongolass.Mongos.prototype.cursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.cursor.cursor" id="apidoc.element.mongolass.Mongos.prototype.cursor.cursor">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.mongos.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.insert" id="apidoc.module.mongolass.Mongos.prototype.insert">module mongolass.Mongos.prototype.insert</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.insert.insert" id="apidoc.element.mongolass.Mongos.prototype.insert.insert">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.mongos.insert(ns, ops, options, function(e, m) {
    callback(e, m)
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.isConnected" id="apidoc.module.mongolass.Mongos.prototype.isConnected">module mongolass.Mongos.prototype.isConnected</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isConnected.isConnected" id="apidoc.element.mongolass.Mongos.prototype.isConnected.isConnected">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.s.mongos.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.isDestroyed" id="apidoc.module.mongolass.Mongos.prototype.isDestroyed">module mongolass.Mongos.prototype.isDestroyed</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.isDestroyed.isDestroyed" id="apidoc.element.mongolass.Mongos.prototype.isDestroyed.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.mongos.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.lastIsMaster" id="apidoc.module.mongolass.Mongos.prototype.lastIsMaster">module mongolass.Mongos.prototype.lastIsMaster</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.lastIsMaster.lastIsMaster" id="apidoc.element.mongolass.Mongos.prototype.lastIsMaster.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.mongos.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.logout" id="apidoc.module.mongolass.Mongos.prototype.logout">module mongolass.Mongos.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.logout.logout" id="apidoc.element.mongolass.Mongos.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.mongos.logout.apply(this.s.mongos, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.remove" id="apidoc.module.mongolass.Mongos.prototype.remove">module mongolass.Mongos.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.remove.remove" id="apidoc.element.mongolass.Mongos.prototype.remove.remove">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.mongos.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.unref" id="apidoc.module.mongolass.Mongos.prototype.unref">module mongolass.Mongos.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.unref.unref" id="apidoc.element.mongolass.Mongos.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  return this.s.mongos.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Mongos.prototype.update" id="apidoc.module.mongolass.Mongos.prototype.update">module mongolass.Mongos.prototype.update</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Mongos.prototype.update.update" id="apidoc.element.mongolass.Mongos.prototype.update.update">
        function <span class="apidocSignatureSpan">mongolass.Mongos.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.mongos.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID" id="apidoc.module.mongolass.ObjectID">module mongolass.ObjectID</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.ObjectID" id="apidoc.element.mongolass.ObjectID.ObjectID">
        function <span class="apidocSignatureSpan">mongolass.</span>ObjectID
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.ObjectId" id="apidoc.element.mongolass.ObjectID.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>ObjectId
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromHexString" id="apidoc.element.mongolass.ObjectID.createFromHexString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromHexString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromHexString(string) {
  // Throw an error if it's not a valid setup
  if(typeof string === 'undefined' || string != null &amp;&amp; string.length != 24) {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  // Use Buffer.from method if available
  if(hasBufferType) return new ObjectID(new Buffer(string, 'hex'));

  // Calculate lengths
  var array = new _Buffer(12);
  var n = 0;
  var i = 0;

  while (i &lt; 24) {
    array[n++] = decodeLookup[string.charCodeAt(i++)] &lt;&lt; 4 | decodeLookup[string.charCodeAt(i++)]
  }

  return new ObjectID(array);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromTime" id="apidoc.element.mongolass.ObjectID.createFromTime">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromTime
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromTime(time) {
  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
  // Encode time into first 4 bytes
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Return the new objectId
  return new ObjectID(buffer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createPk" id="apidoc.element.mongolass.ObjectID.createPk">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createPk
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPk() {
  return new ObjectID();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.isValid" id="apidoc.element.mongolass.ObjectID.isValid">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>isValid
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isValid(id) {
  if(id == null) return false;

  if(typeof id == 'number') {
    return true;
  }

  if(typeof id == 'string') {
    return id.length == 12 || (id.length == 24 &amp;&amp; checkForHexRegExp.test(id));
  }

  if(id instanceof ObjectID) {
    return true;
  }

  if(id instanceof _Buffer) {
    return true;
  }

  // Duck-Typing detection of ObjectId like objects
  if(id.toHexString) {
    return id.id.length == 12 || (id.id.length == 24 &amp;&amp; checkForHexRegExp.test(id.id));
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.createFromHexString" id="apidoc.module.mongolass.ObjectID.createFromHexString">module mongolass.ObjectID.createFromHexString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromHexString.createFromHexString" id="apidoc.element.mongolass.ObjectID.createFromHexString.createFromHexString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromHexString
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromHexString(string) {
  // Throw an error if it's not a valid setup
  if(typeof string === 'undefined' || string != null &amp;&amp; string.length != 24) {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  // Use Buffer.from method if available
  if(hasBufferType) return new ObjectID(new Buffer(string, 'hex'));

  // Calculate lengths
  var array = new _Buffer(12);
  var n = 0;
  var i = 0;

  while (i &lt; 24) {
    array[n++] = decodeLookup[string.charCodeAt(i++)] &lt;&lt; 4 | decodeLookup[string.charCodeAt(i++)]
  }

  return new ObjectID(array);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.createFromTime" id="apidoc.module.mongolass.ObjectID.createFromTime">module mongolass.ObjectID.createFromTime</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createFromTime.createFromTime" id="apidoc.element.mongolass.ObjectID.createFromTime.createFromTime">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createFromTime
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFromTime(time) {
  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
  // Encode time into first 4 bytes
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Return the new objectId
  return new ObjectID(buffer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.createPk" id="apidoc.module.mongolass.ObjectID.createPk">module mongolass.ObjectID.createPk</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.createPk.createPk" id="apidoc.element.mongolass.ObjectID.createPk.createPk">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>createPk
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPk() {
  return new ObjectID();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.isValid" id="apidoc.module.mongolass.ObjectID.isValid">module mongolass.ObjectID.isValid</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.isValid.isValid" id="apidoc.element.mongolass.ObjectID.isValid.isValid">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.</span>isValid
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isValid(id) {
  if(id == null) return false;

  if(typeof id == 'number') {
    return true;
  }

  if(typeof id == 'string') {
    return id.length == 12 || (id.length == 24 &amp;&amp; checkForHexRegExp.test(id));
  }

  if(id instanceof ObjectID) {
    return true;
  }

  if(id instanceof _Buffer) {
    return true;
  }

  // Duck-Typing detection of ObjectId like objects
  if(id.toHexString) {
    return id.id.length == 12 || (id.id.length == 24 &amp;&amp; checkForHexRegExp.test(id.id));
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype" id="apidoc.module.mongolass.ObjectID.prototype">module mongolass.ObjectID.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.equals" id="apidoc.element.mongolass.ObjectID.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>equals
        <span class="apidocSignatureSpan">(otherId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function equals(otherId) {
  var id;

  if(otherId instanceof ObjectID) {
    return this.toString() == otherId.toString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12 &amp;&amp; this.id instanceof _Buffer) {
    return otherId === this.id.toString('binary');
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 24) {
    return otherId.toLowerCase() === this.toHexString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12) {
    return otherId === this.id;
  } else if(otherId != null &amp;&amp; (otherId instanceof ObjectID || otherId.toHexString)) {
    return otherId.toHexString() === this.toHexString();
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.generate" id="apidoc.element.mongolass.ObjectID.prototype.generate">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>generate
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (time) {
  if ('number' != typeof time) {
    time = ~~(Date.now()/1000);
  }

  // Use pid
  var pid = (typeof process === 'undefined' ? Math.floor(Math.random() * 100000) : process.pid) % 0xFFFF;
  var inc = this.get_inc();
  // Buffer used
  var buffer = new Buffer(12);
  // Encode time
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Encode machine
  buffer[6] = MACHINE_ID &amp; 0xff;
  buffer[5] = (MACHINE_ID &gt;&gt; 8) &amp; 0xff;
  buffer[4] = (MACHINE_ID &gt;&gt; 16) &amp; 0xff;
  // Encode pid
  buffer[8] = pid &amp; 0xff;
  buffer[7] = (pid &gt;&gt; 8) &amp; 0xff;
  // Encode index
  buffer[11] = inc &amp; 0xff;
  buffer[10] = (inc &gt;&gt; 8) &amp; 0xff;
  buffer[9] = (inc &gt;&gt; 16) &amp; 0xff;
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getInc" id="apidoc.element.mongolass.ObjectID.prototype.getInc">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getInc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInc = function () {
  return this.get_inc();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp" id="apidoc.element.mongolass.ObjectID.prototype.getTimestamp">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getTimestamp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTimestamp = function () {
  var timestamp = new Date();
  var time = this.id[3] | this.id[2] &lt;&lt; 8 | this.id[1] &lt;&lt; 16 | this.id[0] &lt;&lt; 24;
  timestamp.setTime(Math.floor(time) * 1000);
  return timestamp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.get_inc" id="apidoc.element.mongolass.ObjectID.prototype.get_inc">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>get_inc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_inc = function () {
  return ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.inspect" id="apidoc.element.mongolass.ObjectID.prototype.inspect">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>inspect
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function (format) {
  // Is the id a buffer then use the buffer toString method to return the format
  if(this.id &amp;&amp; this.id.copy) {
    return this.id.toString(typeof format === 'string' ? format : 'hex');
  }

  // if(this.buffer )
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toHexString" id="apidoc.element.mongolass.ObjectID.prototype.toHexString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toHexString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toHexString = function () {
  if(ObjectID.cacheHexString &amp;&amp; this.__id) return this.__id;

  var hexString = '';
  if(!this.id || !this.id.length) {
    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');
  }

  if(this.id instanceof _Buffer) {
    hexString = convertToHex(this.id);
    if(ObjectID.cacheHexString) this.__id = hexString;
    return hexString;
  }

  for (var i = 0; i &lt; this.id.length; i++) {
    hexString += hexTable[this.id.charCodeAt(i)];
  }

  if(ObjectID.cacheHexString) this.__id = hexString;
  return hexString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toJSON" id="apidoc.element.mongolass.ObjectID.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toString" id="apidoc.element.mongolass.ObjectID.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toString
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (format) {
  // Is the id a buffer then use the buffer toString method to return the format
  if(this.id &amp;&amp; this.id.copy) {
    return this.id.toString(typeof format === 'string' ? format : 'hex');
  }

  // if(this.buffer )
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.equals" id="apidoc.module.mongolass.ObjectID.prototype.equals">module mongolass.ObjectID.prototype.equals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.equals.equals" id="apidoc.element.mongolass.ObjectID.prototype.equals.equals">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>equals
        <span class="apidocSignatureSpan">(otherId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function equals(otherId) {
  var id;

  if(otherId instanceof ObjectID) {
    return this.toString() == otherId.toString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12 &amp;&amp; this.id instanceof _Buffer) {
    return otherId === this.id.toString('binary');
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 24) {
    return otherId.toLowerCase() === this.toHexString();
  } else if(typeof otherId == 'string' &amp;&amp; ObjectID.isValid(otherId) &amp;&amp; otherId.length == 12) {
    return otherId === this.id;
  } else if(otherId != null &amp;&amp; (otherId instanceof ObjectID || otherId.toHexString)) {
    return otherId.toHexString() === this.toHexString();
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.generate" id="apidoc.module.mongolass.ObjectID.prototype.generate">module mongolass.ObjectID.prototype.generate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.generate.generate" id="apidoc.element.mongolass.ObjectID.prototype.generate.generate">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>generate
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (time) {
  if ('number' != typeof time) {
    time = ~~(Date.now()/1000);
  }

  // Use pid
  var pid = (typeof process === 'undefined' ? Math.floor(Math.random() * 100000) : process.pid) % 0xFFFF;
  var inc = this.get_inc();
  // Buffer used
  var buffer = new Buffer(12);
  // Encode time
  buffer[3] = time &amp; 0xff;
  buffer[2] = (time &gt;&gt; 8) &amp; 0xff;
  buffer[1] = (time &gt;&gt; 16) &amp; 0xff;
  buffer[0] = (time &gt;&gt; 24) &amp; 0xff;
  // Encode machine
  buffer[6] = MACHINE_ID &amp; 0xff;
  buffer[5] = (MACHINE_ID &gt;&gt; 8) &amp; 0xff;
  buffer[4] = (MACHINE_ID &gt;&gt; 16) &amp; 0xff;
  // Encode pid
  buffer[8] = pid &amp; 0xff;
  buffer[7] = (pid &gt;&gt; 8) &amp; 0xff;
  // Encode index
  buffer[11] = inc &amp; 0xff;
  buffer[10] = (inc &gt;&gt; 8) &amp; 0xff;
  buffer[9] = (inc &gt;&gt; 16) &amp; 0xff;
  // Return the buffer
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.getInc" id="apidoc.module.mongolass.ObjectID.prototype.getInc">module mongolass.ObjectID.prototype.getInc</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getInc.getInc" id="apidoc.element.mongolass.ObjectID.prototype.getInc.getInc">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getInc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInc = function () {
  return this.get_inc();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.getTimestamp" id="apidoc.module.mongolass.ObjectID.prototype.getTimestamp">module mongolass.ObjectID.prototype.getTimestamp</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.getTimestamp.getTimestamp" id="apidoc.element.mongolass.ObjectID.prototype.getTimestamp.getTimestamp">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>getTimestamp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTimestamp = function () {
  var timestamp = new Date();
  var time = this.id[3] | this.id[2] &lt;&lt; 8 | this.id[1] &lt;&lt; 16 | this.id[0] &lt;&lt; 24;
  timestamp.setTime(Math.floor(time) * 1000);
  return timestamp;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.get_inc" id="apidoc.module.mongolass.ObjectID.prototype.get_inc">module mongolass.ObjectID.prototype.get_inc</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.get_inc.get_inc" id="apidoc.element.mongolass.ObjectID.prototype.get_inc.get_inc">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>get_inc
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_inc = function () {
  return ObjectID.index = (ObjectID.index + 1) % 0xFFFFFF;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.toHexString" id="apidoc.module.mongolass.ObjectID.prototype.toHexString">module mongolass.ObjectID.prototype.toHexString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toHexString.toHexString" id="apidoc.element.mongolass.ObjectID.prototype.toHexString.toHexString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toHexString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toHexString = function () {
  if(ObjectID.cacheHexString &amp;&amp; this.__id) return this.__id;

  var hexString = '';
  if(!this.id || !this.id.length) {
    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');
  }

  if(this.id instanceof _Buffer) {
    hexString = convertToHex(this.id);
    if(ObjectID.cacheHexString) this.__id = hexString;
    return hexString;
  }

  for (var i = 0; i &lt; this.id.length; i++) {
    hexString += hexTable[this.id.charCodeAt(i)];
  }

  if(ObjectID.cacheHexString) this.__id = hexString;
  return hexString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.toJSON" id="apidoc.module.mongolass.ObjectID.prototype.toJSON">module mongolass.ObjectID.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toJSON.toJSON" id="apidoc.element.mongolass.ObjectID.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toHexString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ObjectID.prototype.toString" id="apidoc.module.mongolass.ObjectID.prototype.toString">module mongolass.ObjectID.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ObjectID.prototype.toString.toString" id="apidoc.element.mongolass.ObjectID.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.ObjectID.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference" id="apidoc.module.mongolass.ReadPreference">module mongolass.ReadPreference</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.ReadPreference" id="apidoc.element.mongolass.ReadPreference.ReadPreference">
        function <span class="apidocSignatureSpan">mongolass.</span>ReadPreference
        <span class="apidocSignatureSpan">(mode, tags, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference = function (mode, tags, options) {
  if(!(this instanceof ReadPreference)) {
    return new ReadPreference(mode, tags, options);
  }

  this._type = 'ReadPreference';
  this.mode = mode;
  this.tags = tags;
  this.options =  options;

  // If no tags were passed in
  if(tags &amp;&amp; typeof tags == 'object' &amp;&amp; !Array.isArray(tags)) {
    if(tags.maxStalenessSeconds) {
      this.options = tags;
      this.tags = null;
    }
  }

  // Add the maxStalenessSeconds value to the read Preference
  if(this.options &amp;&amp; this.options.maxStalenessSeconds) {
    this.maxStalenessSeconds = this.options.maxStalenessSeconds;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.isValid" id="apidoc.element.mongolass.ReadPreference.isValid">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>isValid
        <span class="apidocSignatureSpan">(_mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (_mode) {
  return (_mode == ReadPreference.PRIMARY || _mode == ReadPreference.PRIMARY_PREFERRED
    || _mode == ReadPreference.SECONDARY || _mode == ReadPreference.SECONDARY_PREFERRED
    || _mode == ReadPreference.NEAREST
    || _mode == true || _mode == false || _mode == null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference.isValid" id="apidoc.module.mongolass.ReadPreference.isValid">module mongolass.ReadPreference.isValid</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.isValid.isValid" id="apidoc.element.mongolass.ReadPreference.isValid.isValid">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.</span>isValid
        <span class="apidocSignatureSpan">(_mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (_mode) {
  return (_mode == ReadPreference.PRIMARY || _mode == ReadPreference.PRIMARY_PREFERRED
    || _mode == ReadPreference.SECONDARY || _mode == ReadPreference.SECONDARY_PREFERRED
    || _mode == ReadPreference.NEAREST
    || _mode == true || _mode == false || _mode == null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference.prototype" id="apidoc.module.mongolass.ReadPreference.prototype">module mongolass.ReadPreference.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.isValid" id="apidoc.element.mongolass.ReadPreference.prototype.isValid">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>isValid
        <span class="apidocSignatureSpan">(mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (mode) {
  var _mode = typeof mode == 'string' ? mode : this.mode;
  return ReadPreference.isValid(_mode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON" id="apidoc.element.mongolass.ReadPreference.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toObject();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toObject" id="apidoc.element.mongolass.ReadPreference.prototype.toObject">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toObject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toObject = function () {
  var object = {mode:this.mode};

  if(this.tags != null) {
    object['tags'] = this.tags;
  }

  if(this.maxStalenessSeconds) {
    object['maxStalenessSeconds'] = this.maxStalenessSeconds;
  }

  return object;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference.prototype.isValid" id="apidoc.module.mongolass.ReadPreference.prototype.isValid">module mongolass.ReadPreference.prototype.isValid</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.isValid.isValid" id="apidoc.element.mongolass.ReadPreference.prototype.isValid.isValid">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>isValid
        <span class="apidocSignatureSpan">(mode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (mode) {
  var _mode = typeof mode == 'string' ? mode : this.mode;
  return ReadPreference.isValid(_mode);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference.prototype.toJSON" id="apidoc.module.mongolass.ReadPreference.prototype.toJSON">module mongolass.ReadPreference.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toJSON.toJSON" id="apidoc.element.mongolass.ReadPreference.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toObject();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReadPreference.prototype.toObject" id="apidoc.module.mongolass.ReadPreference.prototype.toObject">module mongolass.ReadPreference.prototype.toObject</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReadPreference.prototype.toObject.toObject" id="apidoc.element.mongolass.ReadPreference.prototype.toObject.toObject">
        function <span class="apidocSignatureSpan">mongolass.ReadPreference.prototype.</span>toObject
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toObject = function () {
  var object = {mode:this.mode};

  if(this.tags != null) {
    object['tags'] = this.tags;
  }

  if(this.maxStalenessSeconds) {
    object['maxStalenessSeconds'] = this.maxStalenessSeconds;
  }

  return object;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet" id="apidoc.module.mongolass.ReplSet">module mongolass.ReplSet</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.ReplSet" id="apidoc.element.mongolass.ReplSet.ReplSet">
        function <span class="apidocSignatureSpan">mongolass.</span>ReplSet
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet = function (servers, options) {
  if(!(this instanceof ReplSet)) return new ReplSet(servers, options);
  options = options || {};
  var self = this;
  // Set up event emitter
  EventEmitter.call(this);

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: false,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Client info
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the ReplSet
  var replset = new CReplSet(seedlist, clonedOptions);

  // Listen to reconnect event
  replset.on('reconnect', function() {
    self.emit('reconnect');
    store.execute();
  });

  // Internal state
  this.s = {
    // Replicaset
    replset: replset
    // Server capabilities
    , sCapabilities: null
    // Debug tag
    , tag: options.tag
    // Store options
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Store
    , store: store
    // Options
    , options: options
  }

  // Debug
  if(clonedOptions.debug) {
    // Last ismaster
    Object.defineProperty(this, 'replset', {
      enumerable:true, get: function() { return replset; }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.super_" id="apidoc.element.mongolass.ReplSet.super_">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.define" id="apidoc.module.mongolass.ReplSet.define">module mongolass.ReplSet.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.define.object" id="apidoc.element.mongolass.ReplSet.define.object">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.define.</span>object
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (servers, options) {
  if(!(this instanceof ReplSet)) return new ReplSet(servers, options);
  options = options || {};
  var self = this;
  // Set up event emitter
  EventEmitter.call(this);

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: false,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Client info
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the ReplSet
  var replset = new CReplSet(seedlist, clonedOptions);

  // Listen to reconnect event
  replset.on('reconnect', function() {
    self.emit('reconnect');
    store.execute();
  });

  // Internal state
  this.s = {
    // Replicaset
    replset: replset
    // Server capabilities
    , sCapabilities: null
    // Debug tag
    , tag: options.tag
    // Store options
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Store
    , store: store
    // Options
    , options: options
  }

  // Debug
  if(clonedOptions.debug) {
    // Last ismaster
    Object.defineProperty(this, 'replset', {
      enumerable:true, get: function() { return replset; }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype" id="apidoc.module.mongolass.ReplSet.prototype">module mongolass.ReplSet.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.auth" id="apidoc.element.mongolass.ReplSet.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.auth.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.capabilities" id="apidoc.element.mongolass.ReplSet.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.replset.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.replset.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.close" id="apidoc.element.mongolass.ReplSet.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  var self = this;
  // Call destroy on the topology
  this.s.replset.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }

  var events = ['timeout', 'error', 'close', 'joined', 'left'];
  events.forEach(function(e) {
    self.removeAllListeners(e);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.command" id="apidoc.element.mongolass.ReplSet.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.replset.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connect" id="apidoc.element.mongolass.ReplSet.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.replset.removeAllListeners(e);
    });

    // Set up listeners
    self.s.replset.once('timeout', errorHandler('timeout'));
    self.s.replset.once('error', errorHandler('error'));
    self.s.replset.once('close', errorHandler('close'));

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Replset events relay
    var replsetRelay = function(event) {
      return function(t, server) {
        self.emit(event, t, server.lastIsMaster(), server);
      }
    }

    // Relay ha
    var relayHa = function(t, state) {
      self.emit('ha', t, state);

      if(t == 'start') {
        self.emit('ha_connect', t, state);
      } else if(t == 'end') {
        self.emit('ha_ismaster', t, state);
      }
    }

    // Set up serverConfig listeners
    self.s.replset.on('joined', replsetRelay('joined'));
    self.s.replset.on('left', relay('left'));
    self.s.replset.on('ping', relay('ping'));
    self.s.replset.on('ha', relayHa);

    // Set up SDAM listeners
    self.s.replset.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.replset.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.replset.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.replset.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.replset.on('serverOpening', relay('serverOpening'));
    self.s.replset.on('serverClosed', relay('serverClosed'));
    self.s.replset.on('topologyOpening', relay('topologyOpening'));
    self.s.replset.on('topologyClosed', relay('topologyClosed'));
    self.s.replset.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    self.s.replset.on('fullsetup', function() {
      self.emit('fullsetup', null, self);
    });

    self.s.replset.on('all', function() {
      self.emit('all', null, self);
    });

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      ['timeout', 'error', 'close'].forEach(function(e) {
        self.s.replset.removeListener(e, connectErrorHandler);
      });

      self.s.replset.removeListener('connect', connectErrorHandler);
      // Destroy the replset
      self.s.replset.destroy();

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        if(!self.s.replset.isConnected())
          process.nextTick(function() { throw err; })
      }
    }
  }

  // Set up listeners
  self.s.replset.once('timeout', connectErrorHandler('timeout'));
  self.s.replset.once('error', connectErrorHandler('error'));
  self.s.replset.once('close', connectErrorHandler('close'));
  self.s.replset.once('connect', connectHandler);

  // Start connection
  self.s.replset.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connections" id="apidoc.element.mongolass.ReplSet.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.replset.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.cursor" id="apidoc.element.mongolass.ReplSet.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options = translateReadPreference(options);
  options.disconnectHandler = this.s.store;
  return this.s.replset.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.insert" id="apidoc.element.mongolass.ReplSet.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.replset.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isConnected" id="apidoc.element.mongolass.ReplSet.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isConnected
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function (options) {
  options = options || {};

  // If we passed in a readPreference, translate to
  // a CoreReadPreference instance
  if(options.readPreference) {
    options.readPreference = translateReadPreference(options.readPreference);
  }

  return this.s.replset.isConnected(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed" id="apidoc.element.mongolass.ReplSet.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.replset.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster" id="apidoc.element.mongolass.ReplSet.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.replset.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.logout" id="apidoc.element.mongolass.ReplSet.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.logout.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.remove" id="apidoc.element.mongolass.ReplSet.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.replset.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.unref" id="apidoc.element.mongolass.ReplSet.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  return this.s.replset.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.update" id="apidoc.element.mongolass.ReplSet.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.replset.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.auth" id="apidoc.module.mongolass.ReplSet.prototype.auth">module mongolass.ReplSet.prototype.auth</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.auth.auth" id="apidoc.element.mongolass.ReplSet.prototype.auth.auth">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.auth.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.capabilities" id="apidoc.module.mongolass.ReplSet.prototype.capabilities">module mongolass.ReplSet.prototype.capabilities</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.capabilities.capabilities" id="apidoc.element.mongolass.ReplSet.prototype.capabilities.capabilities">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.replset.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.replset.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.close" id="apidoc.module.mongolass.ReplSet.prototype.close">module mongolass.ReplSet.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.close.close" id="apidoc.element.mongolass.ReplSet.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  var self = this;
  // Call destroy on the topology
  this.s.replset.destroy({
    force: typeof forceClosed == 'boolean' ? forceClosed : false,
  });
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }

  var events = ['timeout', 'error', 'close', 'joined', 'left'];
  events.forEach(function(e) {
    self.removeAllListeners(e);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.command" id="apidoc.module.mongolass.ReplSet.prototype.command">module mongolass.ReplSet.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.command.command" id="apidoc.element.mongolass.ReplSet.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.replset.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.connect" id="apidoc.module.mongolass.ReplSet.prototype.connect">module mongolass.ReplSet.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connect.connect" id="apidoc.element.mongolass.ReplSet.prototype.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.replset.removeAllListeners(e);
    });

    // Set up listeners
    self.s.replset.once('timeout', errorHandler('timeout'));
    self.s.replset.once('error', errorHandler('error'));
    self.s.replset.once('close', errorHandler('close'));

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Replset events relay
    var replsetRelay = function(event) {
      return function(t, server) {
        self.emit(event, t, server.lastIsMaster(), server);
      }
    }

    // Relay ha
    var relayHa = function(t, state) {
      self.emit('ha', t, state);

      if(t == 'start') {
        self.emit('ha_connect', t, state);
      } else if(t == 'end') {
        self.emit('ha_ismaster', t, state);
      }
    }

    // Set up serverConfig listeners
    self.s.replset.on('joined', replsetRelay('joined'));
    self.s.replset.on('left', relay('left'));
    self.s.replset.on('ping', relay('ping'));
    self.s.replset.on('ha', relayHa);

    // Set up SDAM listeners
    self.s.replset.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.replset.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.replset.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.replset.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.replset.on('serverOpening', relay('serverOpening'));
    self.s.replset.on('serverClosed', relay('serverClosed'));
    self.s.replset.on('topologyOpening', relay('topologyOpening'));
    self.s.replset.on('topologyClosed', relay('topologyClosed'));
    self.s.replset.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));

    self.s.replset.on('fullsetup', function() {
      self.emit('fullsetup', null, self);
    });

    self.s.replset.on('all', function() {
      self.emit('all', null, self);
    });

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      process.nextTick(function() { throw err; })
    }
  }

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      ['timeout', 'error', 'close'].forEach(function(e) {
        self.s.replset.removeListener(e, connectErrorHandler);
      });

      self.s.replset.removeListener('connect', connectErrorHandler);
      // Destroy the replset
      self.s.replset.destroy();

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        if(!self.s.replset.isConnected())
          process.nextTick(function() { throw err; })
      }
    }
  }

  // Set up listeners
  self.s.replset.once('timeout', connectErrorHandler('timeout'));
  self.s.replset.once('error', connectErrorHandler('error'));
  self.s.replset.once('close', connectErrorHandler('close'));
  self.s.replset.once('connect', connectHandler);

  // Start connection
  self.s.replset.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.connections" id="apidoc.module.mongolass.ReplSet.prototype.connections">module mongolass.ReplSet.prototype.connections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.connections.connections" id="apidoc.element.mongolass.ReplSet.prototype.connections.connections">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.replset.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.cursor" id="apidoc.module.mongolass.ReplSet.prototype.cursor">module mongolass.ReplSet.prototype.cursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.cursor.cursor" id="apidoc.element.mongolass.ReplSet.prototype.cursor.cursor">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options = translateReadPreference(options);
  options.disconnectHandler = this.s.store;
  return this.s.replset.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.insert" id="apidoc.module.mongolass.ReplSet.prototype.insert">module mongolass.ReplSet.prototype.insert</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.insert.insert" id="apidoc.element.mongolass.ReplSet.prototype.insert.insert">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.replset.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.isConnected" id="apidoc.module.mongolass.ReplSet.prototype.isConnected">module mongolass.ReplSet.prototype.isConnected</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isConnected.isConnected" id="apidoc.element.mongolass.ReplSet.prototype.isConnected.isConnected">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isConnected
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function (options) {
  options = options || {};

  // If we passed in a readPreference, translate to
  // a CoreReadPreference instance
  if(options.readPreference) {
    options.readPreference = translateReadPreference(options.readPreference);
  }

  return this.s.replset.isConnected(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.isDestroyed" id="apidoc.module.mongolass.ReplSet.prototype.isDestroyed">module mongolass.ReplSet.prototype.isDestroyed</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.isDestroyed.isDestroyed" id="apidoc.element.mongolass.ReplSet.prototype.isDestroyed.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.replset.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.lastIsMaster" id="apidoc.module.mongolass.ReplSet.prototype.lastIsMaster">module mongolass.ReplSet.prototype.lastIsMaster</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.lastIsMaster.lastIsMaster" id="apidoc.element.mongolass.ReplSet.prototype.lastIsMaster.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.replset.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.logout" id="apidoc.module.mongolass.ReplSet.prototype.logout">module mongolass.ReplSet.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.logout.logout" id="apidoc.element.mongolass.ReplSet.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.replset.logout.apply(this.s.replset, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.remove" id="apidoc.module.mongolass.ReplSet.prototype.remove">module mongolass.ReplSet.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.remove.remove" id="apidoc.element.mongolass.ReplSet.prototype.remove.remove">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.replset.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.unref" id="apidoc.module.mongolass.ReplSet.prototype.unref">module mongolass.ReplSet.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.unref.unref" id="apidoc.element.mongolass.ReplSet.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  return this.s.replset.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.ReplSet.prototype.update" id="apidoc.module.mongolass.ReplSet.prototype.update">module mongolass.ReplSet.prototype.update</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.ReplSet.prototype.update.update" id="apidoc.element.mongolass.ReplSet.prototype.update.update">
        function <span class="apidocSignatureSpan">mongolass.ReplSet.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.replset.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Schema" id="apidoc.module.mongolass.Schema">module mongolass.Schema</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Schema.Schema" id="apidoc.element.mongolass.Schema.Schema">
        function <span class="apidocSignatureSpan">mongolass.</span>Schema
        <span class="apidocSignatureSpan">(name, schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class _Schema extends Schema {
  constructor(name, schema) {
    if (!name || !_.isString(name)) {
      throw new TypeError('Schema must have a name');
    }
    super(name, _.defaults(schema, { _id: { type: Types.ObjectId } }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server" id="apidoc.module.mongolass.Server">module mongolass.Server</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.Server" id="apidoc.element.mongolass.Server.Server">
        function <span class="apidocSignatureSpan">mongolass.</span>Server
        <span class="apidocSignatureSpan">(host, port, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server = function (host, port, options) {
  options = options || {};
  if(!(this instanceof Server)) return new Server(host, port, options);
  EventEmitter.call(this);
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Detect if we have a socket connection
  if(host.indexOf('\/') != -1) {
    if(port != null &amp;&amp; typeof port == 'object') {
      options = port;
      port = null;
    }
  } else if(port == null) {
    throw MongoError.create({message: 'port must be specified', driver:true});
  }

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    host: host, port: port, disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create an instance of a server instance from mongodb-core
  var server = new CServer(clonedOptions);

  // Define the internal properties
  this.s = {
    // Create an instance of a server instance from mongodb-core
      server: server
    // Server capabilities
    , sCapabilities: null
    // Cloned options
    , clonedOptions: clonedOptions
    // Reconnect
    , reconnect: clonedOptions.reconnect
    // Emit error
    , emitError: clonedOptions.emitError
    // Pool size
    , poolSize: clonedOptions.size
    // Store Options
    , storeOptions: storeOptions
    // Store
    , store: store
    // Host
    , host: host
    // Port
    , port: port
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.super_" id="apidoc.element.mongolass.Server.super_">
        function <span class="apidocSignatureSpan">mongolass.Server.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.define" id="apidoc.module.mongolass.Server.define">module mongolass.Server.define</a></h1>




    <h2>
        <a href="#apidoc.element.mongolass.Server.define.object" id="apidoc.element.mongolass.Server.define.object">
        function <span class="apidocSignatureSpan">mongolass.Server.define.</span>object
        <span class="apidocSignatureSpan">(host, port, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (host, port, options) {
  options = options || {};
  if(!(this instanceof Server)) return new Server(host, port, options);
  EventEmitter.call(this);
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Detect if we have a socket connection
  if(host.indexOf('\/') != -1) {
    if(port != null &amp;&amp; typeof port == 'object') {
      options = port;
      port = null;
    }
  } else if(port == null) {
    throw MongoError.create({message: 'port must be specified', driver:true});
  }

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    host: host, port: port, disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create an instance of a server instance from mongodb-core
  var server = new CServer(clonedOptions);

  // Define the internal properties
  this.s = {
    // Create an instance of a server instance from mongodb-core
      server: server
    // Server capabilities
    , sCapabilities: null
    // Cloned options
    , clonedOptions: clonedOptions
    // Reconnect
    , reconnect: clonedOptions.reconnect
    // Emit error
    , emitError: clonedOptions.emitError
    // Pool size
    , poolSize: clonedOptions.size
    // Store Options
    , storeOptions: storeOptions
    // Store
    , store: store
    // Host
    , host: host
    // Port
    , port: port
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype" id="apidoc.module.mongolass.Server.prototype">module mongolass.Server.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.auth" id="apidoc.element.mongolass.Server.prototype.auth">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.auth.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.capabilities" id="apidoc.element.mongolass.Server.prototype.capabilities">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.server.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.server.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.close" id="apidoc.element.mongolass.Server.prototype.close">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  this.s.server.destroy();
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.command" id="apidoc.element.mongolass.Server.prototype.command">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.server.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connect" id="apidoc.element.mongolass.Server.prototype.connect">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.s.server.removeListener(e, connectHandlers[e]);
      });

      self.s.server.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect', self);
    self.s.store.execute();
  }

  // Reconnect failed
  var reconnectFailedHandler = function(err) {
    self.emit('reconnectFailed', err);
    self.s.store.flush(err);
  }

  // Destroy called on topology, perform cleanup
  var destroyHandler = function() {
    self.s.store.flush();
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.server.removeAllListeners(e);
    });

    // Set up listeners
    self.s.server.on('timeout', errorHandler('timeout'));
    self.s.server.once('error', errorHandler('error'));
    self.s.server.on('close', errorHandler('close'));
    // Only called on destroy
    self.s.server.on('destroy', destroyHandler);

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Set up SDAM listeners
    self.s.server.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.server.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.server.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.server.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.server.on('serverOpening', relay('serverOpening'));
    self.s.server.on('serverClosed', relay('serverClosed'));
    self.s.server.on('topologyOpening', relay('topologyOpening'));
    self.s.server.on('topologyClosed', relay('topologyClosed'));
    self.s.server.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));
    self.s.server.on('attemptReconnect', relay('attemptReconnect'));
    self.s.server.on('monitoring', relay('monitoring'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      console.log(err.stack)
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  var connectHandlers = {
    timeout: connectErrorHandler('timeout'),
    error: connectErrorHandler('error'),
    close: connectErrorHandler('close')
  };

  // Add the event handlers
  self.s.server.once('timeout', connectHandlers.timeout);
  self.s.server.once('error', connectHandlers.error);
  self.s.server.once('close', connectHandlers.close);
  self.s.server.once('connect', connectHandler);
  // Reconnect server
  self.s.server.on('reconnect', reconnectHandler);
  self.s.server.on('reconnectFailed', reconnectFailedHandler);

  // Start connection
  self.s.server.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connections" id="apidoc.element.mongolass.Server.prototype.connections">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.server.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.cursor" id="apidoc.element.mongolass.Server.prototype.cursor">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.server.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.insert" id="apidoc.element.mongolass.Server.prototype.insert">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.server.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isConnected" id="apidoc.element.mongolass.Server.prototype.isConnected">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.s.server.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isDestroyed" id="apidoc.element.mongolass.Server.prototype.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.server.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.lastIsMaster" id="apidoc.element.mongolass.Server.prototype.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.server.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.logout" id="apidoc.element.mongolass.Server.prototype.logout">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.logout.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.remove" id="apidoc.element.mongolass.Server.prototype.remove">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.server.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.unref" id="apidoc.element.mongolass.Server.prototype.unref">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.server.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.update" id="apidoc.element.mongolass.Server.prototype.update">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.server.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.auth" id="apidoc.module.mongolass.Server.prototype.auth">module mongolass.Server.prototype.auth</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.auth.auth" id="apidoc.element.mongolass.Server.prototype.auth.auth">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>auth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">auth = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.auth.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.capabilities" id="apidoc.module.mongolass.Server.prototype.capabilities">module mongolass.Server.prototype.capabilities</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.capabilities.capabilities" id="apidoc.element.mongolass.Server.prototype.capabilities.capabilities">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>capabilities
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">capabilities = function () {
  if(this.s.sCapabilities) return this.s.sCapabilities;
  if(this.s.server.lastIsMaster() == null) return null;
  this.s.sCapabilities = new ServerCapabilities(this.s.server.lastIsMaster());
  return this.s.sCapabilities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.close" id="apidoc.module.mongolass.Server.prototype.close">module mongolass.Server.prototype.close</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.close.close" id="apidoc.element.mongolass.Server.prototype.close.close">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>close
        <span class="apidocSignatureSpan">(forceClosed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (forceClosed) {
  this.s.server.destroy();
  // We need to wash out all stored processes
  if(forceClosed == true) {
    this.s.storeOptions.force = forceClosed;
    this.s.store.flush();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.command" id="apidoc.module.mongolass.Server.prototype.command">module mongolass.Server.prototype.command</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.command.command" id="apidoc.element.mongolass.Server.prototype.command.command">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>command
        <span class="apidocSignatureSpan">(ns, cmd, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">command = function (ns, cmd, options, callback) {
  this.s.server.command(ns, cmd, getReadPreference(options), callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.connect" id="apidoc.module.mongolass.Server.prototype.connect">module mongolass.Server.prototype.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connect.connect" id="apidoc.element.mongolass.Server.prototype.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connect
        <span class="apidocSignatureSpan">(db, _options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (db, _options, callback) {
  var self = this;
  if('function' === typeof _options) callback = _options, _options = {};
  if(_options == null) _options = {};
  if(!('function' === typeof callback)) callback = null;
  self.s.options = _options;

  // Update bufferMaxEntries
  self.s.storeOptions.bufferMaxEntries = db.bufferMaxEntries;

  // Error handler
  var connectErrorHandler = function() {
    return function(err) {
      // Remove all event handlers
      var events = ['timeout', 'error', 'close'];
      events.forEach(function(e) {
        self.s.server.removeListener(e, connectHandlers[e]);
      });

      self.s.server.removeListener('connect', connectErrorHandler);

      // Try to callback
      try {
        callback(err);
      } catch(err) {
        process.nextTick(function() { throw err; })
      }
    }
  }

  // Actual handler
  var errorHandler = function(event) {
    return function(err) {
      if(event != 'error') {
        self.emit(event, err);
      }
    }
  }

  // Error handler
  var reconnectHandler = function() {
    self.emit('reconnect', self);
    self.s.store.execute();
  }

  // Reconnect failed
  var reconnectFailedHandler = function(err) {
    self.emit('reconnectFailed', err);
    self.s.store.flush(err);
  }

  // Destroy called on topology, perform cleanup
  var destroyHandler = function() {
    self.s.store.flush();
  }

  // Connect handler
  var connectHandler = function() {
    // Clear out all the current handlers left over
    ["timeout", "error", "close", 'serverOpening', 'serverDescriptionChanged', 'serverHeartbeatStarted',
      'serverHeartbeatSucceeded', 'serverHeartbeatFailed', 'serverClosed', 'topologyOpening',
      'topologyClosed', 'topologyDescriptionChanged'].forEach(function(e) {
      self.s.server.removeAllListeners(e);
    });

    // Set up listeners
    self.s.server.on('timeout', errorHandler('timeout'));
    self.s.server.once('error', errorHandler('error'));
    self.s.server.on('close', errorHandler('close'));
    // Only called on destroy
    self.s.server.on('destroy', destroyHandler);

    // relay the event
    var relay = function(event) {
      return function(t, server) {
        self.emit(event, t, server);
      }
    }

    // Set up SDAM listeners
    self.s.server.on('serverDescriptionChanged', relay('serverDescriptionChanged'));
    self.s.server.on('serverHeartbeatStarted', relay('serverHeartbeatStarted'));
    self.s.server.on('serverHeartbeatSucceeded', relay('serverHeartbeatSucceeded'));
    self.s.server.on('serverHeartbeatFailed', relay('serverHeartbeatFailed'));
    self.s.server.on('serverOpening', relay('serverOpening'));
    self.s.server.on('serverClosed', relay('serverClosed'));
    self.s.server.on('topologyOpening', relay('topologyOpening'));
    self.s.server.on('topologyClosed', relay('topologyClosed'));
    self.s.server.on('topologyDescriptionChanged', relay('topologyDescriptionChanged'));
    self.s.server.on('attemptReconnect', relay('attemptReconnect'));
    self.s.server.on('monitoring', relay('monitoring'));

    // Emit open event
    self.emit('open', null, self);

    // Return correctly
    try {
      callback(null, self);
    } catch(err) {
      console.log(err.stack)
      process.nextTick(function() { throw err; })
    }
  }

  // Set up listeners
  var connectHandlers = {
    timeout: connectErrorHandler('timeout'),
    error: connectErrorHandler('error'),
    close: connectErrorHandler('close')
  };

  // Add the event handlers
  self.s.server.once('timeout', connectHandlers.timeout);
  self.s.server.once('error', connectHandlers.error);
  self.s.server.once('close', connectHandlers.close);
  self.s.server.once('connect', connectHandler);
  // Reconnect server
  self.s.server.on('reconnect', reconnectHandler);
  self.s.server.on('reconnectFailed', reconnectFailedHandler);

  // Start connection
  self.s.server.connect(_options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.connections" id="apidoc.module.mongolass.Server.prototype.connections">module mongolass.Server.prototype.connections</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.connections.connections" id="apidoc.element.mongolass.Server.prototype.connections.connections">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>connections
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connections = function () {
  return this.s.server.connections();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.cursor" id="apidoc.module.mongolass.Server.prototype.cursor">module mongolass.Server.prototype.cursor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.cursor.cursor" id="apidoc.element.mongolass.Server.prototype.cursor.cursor">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>cursor
        <span class="apidocSignatureSpan">(ns, cmd, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (ns, cmd, options) {
  options.disconnectHandler = this.s.store;
  return this.s.server.cursor(ns, cmd, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

function _bindMethod(propName) {
  Object.defineProperty(ctx, propName, {
    enumerable: true,
    value: (...args) =&gt; {
      if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
        throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .<span class="apidocCodeKeywordSpan">cursor</span>()');
      }
      if (['find', 'findOne'].indexOf(propName) !== -1) {
        if (args.length &gt; 2) {
          throw new TypeError('Only support this usage: ' + propName + '(query, options)');
        }
      }
      return new Query(propName, args);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.insert" id="apidoc.module.mongolass.Server.prototype.insert">module mongolass.Server.prototype.insert</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.insert.insert" id="apidoc.element.mongolass.Server.prototype.insert.insert">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>insert
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (ns, ops, options, callback) {
  this.s.server.insert(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    user.fullname = user.firstname + opt.sep + user.lastname;
    return user;
  });
}
});

co(function* () {
yield User.<span class="apidocCodeKeywordSpan">insert</span>({ firstname: 'san', lastname: 'zhang' }).addCreatedAt
('YYYY-MM-DD');// when use yield, .exec() is omissible.
console.log(yield User.findOne().addFullname({ sep: '-' }));
// { _id: 5850186544c3b82d23a82e45,
//   firstname: 'san',
//   lastname: 'zhang',
//   createdAt: '2016-12-13',
//   fullname: 'san-zhang' }
console.log(yield User.find({ firstname: 'san' }).addFullname({ sep: ' ' }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.isConnected" id="apidoc.module.mongolass.Server.prototype.isConnected">module mongolass.Server.prototype.isConnected</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isConnected.isConnected" id="apidoc.element.mongolass.Server.prototype.isConnected.isConnected">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.s.server.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.isDestroyed" id="apidoc.module.mongolass.Server.prototype.isDestroyed">module mongolass.Server.prototype.isDestroyed</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.isDestroyed.isDestroyed" id="apidoc.element.mongolass.Server.prototype.isDestroyed.isDestroyed">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>isDestroyed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDestroyed = function () {
  return this.s.server.isDestroyed();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.lastIsMaster" id="apidoc.module.mongolass.Server.prototype.lastIsMaster">module mongolass.Server.prototype.lastIsMaster</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.lastIsMaster.lastIsMaster" id="apidoc.element.mongolass.Server.prototype.lastIsMaster.lastIsMaster">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>lastIsMaster
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lastIsMaster = function () {
  return this.s.server.lastIsMaster();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.logout" id="apidoc.module.mongolass.Server.prototype.logout">module mongolass.Server.prototype.logout</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.logout.logout" id="apidoc.element.mongolass.Server.prototype.logout.logout">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>logout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  this.s.server.logout.apply(this.s.server, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.remove" id="apidoc.module.mongolass.Server.prototype.remove">module mongolass.Server.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.remove.remove" id="apidoc.element.mongolass.Server.prototype.remove.remove">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>remove
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (ns, ops, options, callback) {
  this.s.server.remove(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.unref" id="apidoc.module.mongolass.Server.prototype.unref">module mongolass.Server.prototype.unref</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.unref.unref" id="apidoc.element.mongolass.Server.prototype.unref.unref">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>unref
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unref = function () {
  this.s.server.unref();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Server.prototype.update" id="apidoc.module.mongolass.Server.prototype.update">module mongolass.Server.prototype.update</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Server.prototype.update.update" id="apidoc.element.mongolass.Server.prototype.update.update">
        function <span class="apidocSignatureSpan">mongolass.Server.prototype.</span>update
        <span class="apidocSignatureSpan">(ns, ops, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (ns, ops, options, callback) {
  this.s.server.update(ns, ops, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol" id="apidoc.module.mongolass.Symbol">module mongolass.Symbol</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Symbol.Symbol" id="apidoc.element.mongolass.Symbol.Symbol">
        function <span class="apidocSignatureSpan">mongolass.</span>Symbol
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Symbol(value) {
  if(!(this instanceof Symbol)) return new Symbol(value);
  this._bsontype = 'Symbol';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol.prototype" id="apidoc.module.mongolass.Symbol.prototype">module mongolass.Symbol.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.inspect" id="apidoc.element.mongolass.Symbol.prototype.inspect">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toJSON" id="apidoc.element.mongolass.Symbol.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toString" id="apidoc.element.mongolass.Symbol.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.valueOf" id="apidoc.element.mongolass.Symbol.prototype.valueOf">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>valueOf
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">valueOf = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol.prototype.inspect" id="apidoc.module.mongolass.Symbol.prototype.inspect">module mongolass.Symbol.prototype.inspect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.inspect.inspect" id="apidoc.element.mongolass.Symbol.prototype.inspect.inspect">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol.prototype.toJSON" id="apidoc.module.mongolass.Symbol.prototype.toJSON">module mongolass.Symbol.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Symbol.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol.prototype.toString" id="apidoc.module.mongolass.Symbol.prototype.toString">module mongolass.Symbol.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Symbol.prototype.toString.toString" id="apidoc.element.mongolass.Symbol.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.Symbol.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Symbol.prototype.valueOf" id="apidoc.module.mongolass.Symbol.prototype.valueOf">module mongolass.Symbol.prototype.valueOf</a></h1>

</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp" id="apidoc.module.mongolass.Timestamp">module mongolass.Timestamp</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.Timestamp" id="apidoc.element.mongolass.Timestamp.Timestamp">
        function <span class="apidocSignatureSpan">mongolass.</span>Timestamp
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Timestamp(low, high) {
  if(!(this instanceof Timestamp)) return new Timestamp(low, high);
  this._bsontype = 'Timestamp';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromBits" id="apidoc.element.mongolass.Timestamp.fromBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromBits = function (lowBits, highBits) {
  return new Timestamp(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromInt" id="apidoc.element.mongolass.Timestamp.fromInt">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Timestamp.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Timestamp(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Timestamp.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromNumber" id="apidoc.element.mongolass.Timestamp.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Timestamp.ZERO;
  } else if (value &lt;= -Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MIN_VALUE;
  } else if (value + 1 &gt;= Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MAX_VALUE;
  } else if (value &lt; 0) {
    return Timestamp.fromNumber(-value).negate();
  } else {
    return new Timestamp(
               (value % Timestamp.TWO_PWR_32_DBL_) | 0,
               (value / Timestamp.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromString" id="apidoc.element.mongolass.Timestamp.fromString">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Timestamp.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 8));

  var result = Timestamp.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Timestamp.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Timestamp.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Timestamp.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.fromBits" id="apidoc.module.mongolass.Timestamp.fromBits">module mongolass.Timestamp.fromBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromBits.fromBits" id="apidoc.element.mongolass.Timestamp.fromBits.fromBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromBits
        <span class="apidocSignatureSpan">(lowBits, highBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromBits = function (lowBits, highBits) {
  return new Timestamp(lowBits, highBits);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.fromInt" id="apidoc.module.mongolass.Timestamp.fromInt">module mongolass.Timestamp.fromInt</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromInt.fromInt" id="apidoc.element.mongolass.Timestamp.fromInt.fromInt">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromInt
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromInt = function (value) {
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    var cachedObj = Timestamp.INT_CACHE_[value];
    if (cachedObj) {
      return cachedObj;
    }
  }

  var obj = new Timestamp(value | 0, value &lt; 0 ? -1 : 0);
  if (-128 &lt;= value &amp;&amp; value &lt; 128) {
    Timestamp.INT_CACHE_[value] = obj;
  }
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.fromNumber" id="apidoc.module.mongolass.Timestamp.fromNumber">module mongolass.Timestamp.fromNumber</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromNumber.fromNumber" id="apidoc.element.mongolass.Timestamp.fromNumber.fromNumber">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromNumber = function (value) {
  if (isNaN(value) || !isFinite(value)) {
    return Timestamp.ZERO;
  } else if (value &lt;= -Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MIN_VALUE;
  } else if (value + 1 &gt;= Timestamp.TWO_PWR_63_DBL_) {
    return Timestamp.MAX_VALUE;
  } else if (value &lt; 0) {
    return Timestamp.fromNumber(-value).negate();
  } else {
    return new Timestamp(
               (value % Timestamp.TWO_PWR_32_DBL_) | 0,
               (value / Timestamp.TWO_PWR_32_DBL_) | 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.fromString" id="apidoc.module.mongolass.Timestamp.fromString">module mongolass.Timestamp.fromString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.fromString.fromString" id="apidoc.element.mongolass.Timestamp.fromString.fromString">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.</span>fromString
        <span class="apidocSignatureSpan">(str, opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (str, opt_radix) {
  if (str.length == 0) {
    throw Error('number format error: empty string');
  }

  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (str.charAt(0) == '-') {
    return Timestamp.fromString(str.substring(1), radix).negate();
  } else if (str.indexOf('-') &gt;= 0) {
    throw Error('number format error: interior "-" character: ' + str);
  }

  // Do several (8) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 8));

  var result = Timestamp.ZERO;
  for (var i = 0; i &lt; str.length; i += 8) {
    var size = Math.min(8, str.length - i);
    var value = parseInt(str.substring(i, i + size), radix);
    if (size &lt; 8) {
      var power = Timestamp.fromNumber(Math.pow(radix, size));
      result = result.multiply(power).add(Timestamp.fromNumber(value));
    } else {
      result = result.multiply(radixToPower);
      result = result.add(Timestamp.fromNumber(value));
    }
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype" id="apidoc.module.mongolass.Timestamp.prototype">module mongolass.Timestamp.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.add" id="apidoc.element.mongolass.Timestamp.prototype.add">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.and" id="apidoc.element.mongolass.Timestamp.prototype.and">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">and = function (other) {
  return Timestamp.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.compare" id="apidoc.element.mongolass.Timestamp.prototype.compare">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.div" id="apidoc.element.mongolass.Timestamp.prototype.div">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    if (other.equals(Timestamp.ONE) ||
        other.equals(Timestamp.NEG_ONE)) {
      return Timestamp.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Timestamp.MIN_VALUE)) {
      return Timestamp.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Timestamp.ZERO)) {
        return other.isNegative() ? Timestamp.ONE : Timestamp.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Timestamp.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Timestamp.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Timestamp.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Timestamp.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.equals" id="apidoc.element.mongolass.Timestamp.prototype.equals">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits" id="apidoc.element.mongolass.Timestamp.prototype.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits" id="apidoc.element.mongolass.Timestamp.prototype.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Timestamp.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs" id="apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Timestamp.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan" id="apidoc.element.mongolass.Timestamp.prototype.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isNegative" id="apidoc.element.mongolass.Timestamp.prototype.isNegative">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isOdd" id="apidoc.element.mongolass.Timestamp.prototype.isOdd">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isZero" id="apidoc.element.mongolass.Timestamp.prototype.isZero">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThan" id="apidoc.element.mongolass.Timestamp.prototype.lessThan">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.modulo" id="apidoc.element.mongolass.Timestamp.prototype.modulo">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.multiply" id="apidoc.element.mongolass.Timestamp.prototype.multiply">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multiply = function (other) {
  if (this.isZero()) {
    return Timestamp.ZERO;
  } else if (other.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    return other.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return this.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Timestamps are small, use float multiplication
  if (this.lessThan(Timestamp.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Timestamp.TWO_PWR_24_)) {
    return Timestamp.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Timestamp into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.negate" id="apidoc.element.mongolass.Timestamp.prototype.negate">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">negate = function () {
  if (this.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.MIN_VALUE;
  } else {
    return this.not().add(Timestamp.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.not" id="apidoc.element.mongolass.Timestamp.prototype.not">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function () {
  return Timestamp.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.notEquals" id="apidoc.element.mongolass.Timestamp.prototype.notEquals">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.or" id="apidoc.element.mongolass.Timestamp.prototype.or">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">or = function (other) {
  return Timestamp.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft" id="apidoc.element.mongolass.Timestamp.prototype.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Timestamp.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Timestamp.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight" id="apidoc.element.mongolass.Timestamp.prototype.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Timestamp.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Timestamp.fromBits(high, 0);
    } else {
      return Timestamp.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.subtract" id="apidoc.element.mongolass.Timestamp.prototype.subtract">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toInt" id="apidoc.element.mongolass.Timestamp.prototype.toInt">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toJSON" id="apidoc.element.mongolass.Timestamp.prototype.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toNumber" id="apidoc.element.mongolass.Timestamp.prototype.toNumber">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toNumber = function () {
  return this.high_ * Timestamp.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toString" id="apidoc.element.mongolass.Timestamp.prototype.toString">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toString
        <span class="apidocSignatureSpan">(opt_radix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (opt_radix) {
  var radix = opt_radix || 10;
  if (radix &lt; 2 || 36 &lt; radix) {
    throw Error('radix out of range: ' + radix);
  }

  if (this.isZero()) {
    return '0';
  }

  if (this.isNegative()) {
    if (this.equals(Timestamp.MIN_VALUE)) {
      // We need to change the Timestamp value before it can be negated, so we remove
      // the bottom-most digit in this base and then recurse to do the rest.
      var radixTimestamp = Timestamp.fromNumber(radix);
      var div = this.div(radixTimestamp);
      var rem = div.multiply(radixTimestamp).subtract(this);
      return div.toString(radix) + rem.toInt().toString(radix);
    } else {
      return '-' + this.negate().toString(radix);
    }
  }

  // Do several (6) digits each time through the loop, so as to
  // minimize the calls to the very expensive emulated div.
  var radixToPower = Timestamp.fromNumber(Math.pow(radix, 6));

  var rem = this;
  var result = '';
  while (true) {
    var remDiv = rem.div(radixToPower);
    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
    var digits = intval.toString(radix);

    rem = remDiv;
    if (rem.isZero()) {
      return digits + result;
    } else {
      while (digits.length &lt; 6) {
        digits = '0' + digits;
      }
      result = '' + digits + result;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.xor" id="apidoc.element.mongolass.Timestamp.prototype.xor">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xor = function (other) {
  return Timestamp.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.add" id="apidoc.module.mongolass.Timestamp.prototype.add">module mongolass.Timestamp.prototype.add</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.add.add" id="apidoc.element.mongolass.Timestamp.prototype.add.add">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>add
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other) {
  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 + b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 + b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 + b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.and" id="apidoc.module.mongolass.Timestamp.prototype.and">module mongolass.Timestamp.prototype.and</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.and.and" id="apidoc.element.mongolass.Timestamp.prototype.and.and">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>and
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">and = function (other) {
  return Timestamp.fromBits(this.low_ &amp; other.low_, this.high_ &amp; other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.compare" id="apidoc.module.mongolass.Timestamp.prototype.compare">module mongolass.Timestamp.prototype.compare</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.compare.compare" id="apidoc.element.mongolass.Timestamp.prototype.compare.compare">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>compare
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compare = function (other) {
  if (this.equals(other)) {
    return 0;
  }

  var thisNeg = this.isNegative();
  var otherNeg = other.isNegative();
  if (thisNeg &amp;&amp; !otherNeg) {
    return -1;
  }
  if (!thisNeg &amp;&amp; otherNeg) {
    return 1;
  }

  // at this point, the signs are the same, so subtraction will not overflow
  if (this.subtract(other).isNegative()) {
    return -1;
  } else {
    return 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.div" id="apidoc.module.mongolass.Timestamp.prototype.div">module mongolass.Timestamp.prototype.div</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.div.div" id="apidoc.element.mongolass.Timestamp.prototype.div.div">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>div
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">div = function (other) {
  if (other.isZero()) {
    throw Error('division by zero');
  } else if (this.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    if (other.equals(Timestamp.ONE) ||
        other.equals(Timestamp.NEG_ONE)) {
      return Timestamp.MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE
    } else if (other.equals(Timestamp.MIN_VALUE)) {
      return Timestamp.ONE;
    } else {
      // At this point, we have |other| &gt;= 2, so |this/other| &lt; |MIN_VALUE|.
      var halfThis = this.shiftRight(1);
      var approx = halfThis.div(other).shiftLeft(1);
      if (approx.equals(Timestamp.ZERO)) {
        return other.isNegative() ? Timestamp.ONE : Timestamp.NEG_ONE;
      } else {
        var rem = this.subtract(other.multiply(approx));
        var result = approx.add(rem.div(other));
        return result;
      }
    }
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().div(other.negate());
    } else {
      return this.negate().div(other).negate();
    }
  } else if (other.isNegative()) {
    return this.div(other.negate()).negate();
  }

  // Repeat the following until the remainder is less than other:  find a
  // floating-point that approximates remainder / other *from below*, add this
  // into the result, and subtract it from the remainder.  It is critical that
  // the approximate value is less than or equal to the real value so that the
  // remainder never becomes negative.
  var res = Timestamp.ZERO;
  var rem = this;
  while (rem.greaterThanOrEqual(other)) {
    // Approximate the result of division. This may be a little greater or
    // smaller than the actual value.
    var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));

    // We will tweak the approximate result by changing it in the 48-th digit or
    // the smallest non-fractional digit, whichever is larger.
    var log2 = Math.ceil(Math.log(approx) / Math.LN2);
    var delta = (log2 &lt;= 48) ? 1 : Math.pow(2, log2 - 48);

    // Decrease the approximation until it is smaller than the remainder.  Note
    // that if it is too large, the product overflows and is negative.
    var approxRes = Timestamp.fromNumber(approx);
    var approxRem = approxRes.multiply(other);
    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
      approx -= delta;
      approxRes = Timestamp.fromNumber(approx);
      approxRem = approxRes.multiply(other);
    }

    // We know the answer can't be zero... and actually, zero would cause
    // infinite recursion since we would make no progress.
    if (approxRes.isZero()) {
      approxRes = Timestamp.ONE;
    }

    res = res.add(approxRes);
    rem = rem.subtract(approxRem);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.equals" id="apidoc.module.mongolass.Timestamp.prototype.equals">module mongolass.Timestamp.prototype.equals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.equals.equals" id="apidoc.element.mongolass.Timestamp.prototype.equals.equals">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>equals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">equals = function (other) {
  return (this.high_ == other.high_) &amp;&amp; (this.low_ == other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.getHighBits" id="apidoc.module.mongolass.Timestamp.prototype.getHighBits">module mongolass.Timestamp.prototype.getHighBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getHighBits.getHighBits" id="apidoc.element.mongolass.Timestamp.prototype.getHighBits.getHighBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getHighBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHighBits = function () {
  return this.high_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.getLowBits" id="apidoc.module.mongolass.Timestamp.prototype.getLowBits">module mongolass.Timestamp.prototype.getLowBits</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBits.getLowBits" id="apidoc.element.mongolass.Timestamp.prototype.getLowBits.getLowBits">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBits = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.getLowBitsUnsigned" id="apidoc.module.mongolass.Timestamp.prototype.getLowBitsUnsigned">module mongolass.Timestamp.prototype.getLowBitsUnsigned</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned.getLowBitsUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.getLowBitsUnsigned.getLowBitsUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getLowBitsUnsigned
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLowBitsUnsigned = function () {
  return (this.low_ &gt;= 0) ?
      this.low_ : Timestamp.TWO_PWR_32_DBL_ + this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.getNumBitsAbs" id="apidoc.module.mongolass.Timestamp.prototype.getNumBitsAbs">module mongolass.Timestamp.prototype.getNumBitsAbs</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs.getNumBitsAbs" id="apidoc.element.mongolass.Timestamp.prototype.getNumBitsAbs.getNumBitsAbs">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>getNumBitsAbs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumBitsAbs = function () {
  if (this.isNegative()) {
    if (this.equals(Timestamp.MIN_VALUE)) {
      return 64;
    } else {
      return this.negate().getNumBitsAbs();
    }
  } else {
    var val = this.high_ != 0 ? this.high_ : this.low_;
    for (var bit = 31; bit &gt; 0; bit--) {
      if ((val &amp; (1 &lt;&lt; bit)) != 0) {
        break;
      }
    }
    return this.high_ != 0 ? bit + 33 : bit + 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.greaterThan" id="apidoc.module.mongolass.Timestamp.prototype.greaterThan">module mongolass.Timestamp.prototype.greaterThan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThan.greaterThan" id="apidoc.element.mongolass.Timestamp.prototype.greaterThan.greaterThan">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThan = function (other) {
  return this.compare(other) &gt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.greaterThanOrEqual" id="apidoc.module.mongolass.Timestamp.prototype.greaterThanOrEqual">module mongolass.Timestamp.prototype.greaterThanOrEqual</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual.greaterThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.greaterThanOrEqual.greaterThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>greaterThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">greaterThanOrEqual = function (other) {
  return this.compare(other) &gt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.isNegative" id="apidoc.module.mongolass.Timestamp.prototype.isNegative">module mongolass.Timestamp.prototype.isNegative</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isNegative.isNegative" id="apidoc.element.mongolass.Timestamp.prototype.isNegative.isNegative">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isNegative
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isNegative = function () {
  return this.high_ &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.isOdd" id="apidoc.module.mongolass.Timestamp.prototype.isOdd">module mongolass.Timestamp.prototype.isOdd</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isOdd.isOdd" id="apidoc.element.mongolass.Timestamp.prototype.isOdd.isOdd">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isOdd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOdd = function () {
  return (this.low_ &amp; 1) == 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.isZero" id="apidoc.module.mongolass.Timestamp.prototype.isZero">module mongolass.Timestamp.prototype.isZero</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.isZero.isZero" id="apidoc.element.mongolass.Timestamp.prototype.isZero.isZero">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>isZero
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isZero = function () {
  return this.high_ == 0 &amp;&amp; this.low_ == 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.lessThan" id="apidoc.module.mongolass.Timestamp.prototype.lessThan">module mongolass.Timestamp.prototype.lessThan</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThan.lessThan" id="apidoc.element.mongolass.Timestamp.prototype.lessThan.lessThan">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThan
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThan = function (other) {
  return this.compare(other) &lt; 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.lessThanOrEqual" id="apidoc.module.mongolass.Timestamp.prototype.lessThanOrEqual">module mongolass.Timestamp.prototype.lessThanOrEqual</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual.lessThanOrEqual" id="apidoc.element.mongolass.Timestamp.prototype.lessThanOrEqual.lessThanOrEqual">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>lessThanOrEqual
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lessThanOrEqual = function (other) {
  return this.compare(other) &lt;= 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.modulo" id="apidoc.module.mongolass.Timestamp.prototype.modulo">module mongolass.Timestamp.prototype.modulo</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.modulo.modulo" id="apidoc.element.mongolass.Timestamp.prototype.modulo.modulo">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>modulo
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">modulo = function (other) {
  return this.subtract(this.div(other).multiply(other));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.multiply" id="apidoc.module.mongolass.Timestamp.prototype.multiply">module mongolass.Timestamp.prototype.multiply</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.multiply.multiply" id="apidoc.element.mongolass.Timestamp.prototype.multiply.multiply">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>multiply
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multiply = function (other) {
  if (this.isZero()) {
    return Timestamp.ZERO;
  } else if (other.isZero()) {
    return Timestamp.ZERO;
  }

  if (this.equals(Timestamp.MIN_VALUE)) {
    return other.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  } else if (other.equals(Timestamp.MIN_VALUE)) {
    return this.isOdd() ? Timestamp.MIN_VALUE : Timestamp.ZERO;
  }

  if (this.isNegative()) {
    if (other.isNegative()) {
      return this.negate().multiply(other.negate());
    } else {
      return this.negate().multiply(other).negate();
    }
  } else if (other.isNegative()) {
    return this.multiply(other.negate()).negate();
  }

  // If both Timestamps are small, use float multiplication
  if (this.lessThan(Timestamp.TWO_PWR_24_) &amp;&amp;
      other.lessThan(Timestamp.TWO_PWR_24_)) {
    return Timestamp.fromNumber(this.toNumber() * other.toNumber());
  }

  // Divide each Timestamp into 4 chunks of 16 bits, and then add up 4x4 products.
  // We can skip products that would overflow.

  var a48 = this.high_ &gt;&gt;&gt; 16;
  var a32 = this.high_ &amp; 0xFFFF;
  var a16 = this.low_ &gt;&gt;&gt; 16;
  var a00 = this.low_ &amp; 0xFFFF;

  var b48 = other.high_ &gt;&gt;&gt; 16;
  var b32 = other.high_ &amp; 0xFFFF;
  var b16 = other.low_ &gt;&gt;&gt; 16;
  var b00 = other.low_ &amp; 0xFFFF;

  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 &gt;&gt;&gt; 16;
  c00 &amp;= 0xFFFF;
  c16 += a16 * b00;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c16 += a00 * b16;
  c32 += c16 &gt;&gt;&gt; 16;
  c16 &amp;= 0xFFFF;
  c32 += a32 * b00;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a16 * b16;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c32 += a00 * b32;
  c48 += c32 &gt;&gt;&gt; 16;
  c32 &amp;= 0xFFFF;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &amp;= 0xFFFF;
  return Timestamp.fromBits((c16 &lt;&lt; 16) | c00, (c48 &lt;&lt; 16) | c32);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.negate" id="apidoc.module.mongolass.Timestamp.prototype.negate">module mongolass.Timestamp.prototype.negate</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.negate.negate" id="apidoc.element.mongolass.Timestamp.prototype.negate.negate">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>negate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">negate = function () {
  if (this.equals(Timestamp.MIN_VALUE)) {
    return Timestamp.MIN_VALUE;
  } else {
    return this.not().add(Timestamp.ONE);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.not" id="apidoc.module.mongolass.Timestamp.prototype.not">module mongolass.Timestamp.prototype.not</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.not.not" id="apidoc.element.mongolass.Timestamp.prototype.not.not">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>not
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function () {
  return Timestamp.fromBits(~this.low_, ~this.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.notEquals" id="apidoc.module.mongolass.Timestamp.prototype.notEquals">module mongolass.Timestamp.prototype.notEquals</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.notEquals.notEquals" id="apidoc.element.mongolass.Timestamp.prototype.notEquals.notEquals">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>notEquals
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notEquals = function (other) {
  return (this.high_ != other.high_) || (this.low_ != other.low_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.or" id="apidoc.module.mongolass.Timestamp.prototype.or">module mongolass.Timestamp.prototype.or</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.or.or" id="apidoc.element.mongolass.Timestamp.prototype.or.or">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>or
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">or = function (other) {
  return Timestamp.fromBits(this.low_ | other.low_, this.high_ | other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftLeft" id="apidoc.module.mongolass.Timestamp.prototype.shiftLeft">module mongolass.Timestamp.prototype.shiftLeft</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftLeft.shiftLeft" id="apidoc.element.mongolass.Timestamp.prototype.shiftLeft.shiftLeft">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftLeft
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftLeft = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var low = this.low_;
    if (numBits &lt; 32) {
      var high = this.high_;
      return Timestamp.fromBits(
                 low &lt;&lt; numBits,
                 (high &lt;&lt; numBits) | (low &gt;&gt;&gt; (32 - numBits)));
    } else {
      return Timestamp.fromBits(0, low &lt;&lt; (numBits - 32));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftRight" id="apidoc.module.mongolass.Timestamp.prototype.shiftRight">module mongolass.Timestamp.prototype.shiftRight</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRight.shiftRight" id="apidoc.element.mongolass.Timestamp.prototype.shiftRight.shiftRight">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRight
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRight = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt; numBits);
    } else {
      return Timestamp.fromBits(
                 high &gt;&gt; (numBits - 32),
                 high &gt;= 0 ? 0 : -1);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.shiftRightUnsigned" id="apidoc.module.mongolass.Timestamp.prototype.shiftRightUnsigned">module mongolass.Timestamp.prototype.shiftRightUnsigned</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned.shiftRightUnsigned" id="apidoc.element.mongolass.Timestamp.prototype.shiftRightUnsigned.shiftRightUnsigned">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>shiftRightUnsigned
        <span class="apidocSignatureSpan">(numBits)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shiftRightUnsigned = function (numBits) {
  numBits &amp;= 63;
  if (numBits == 0) {
    return this;
  } else {
    var high = this.high_;
    if (numBits &lt; 32) {
      var low = this.low_;
      return Timestamp.fromBits(
                 (low &gt;&gt;&gt; numBits) | (high &lt;&lt; (32 - numBits)),
                 high &gt;&gt;&gt; numBits);
    } else if (numBits == 32) {
      return Timestamp.fromBits(high, 0);
    } else {
      return Timestamp.fromBits(high &gt;&gt;&gt; (numBits - 32), 0);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.subtract" id="apidoc.module.mongolass.Timestamp.prototype.subtract">module mongolass.Timestamp.prototype.subtract</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.subtract.subtract" id="apidoc.element.mongolass.Timestamp.prototype.subtract.subtract">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>subtract
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subtract = function (other) {
  return this.add(other.negate());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.toInt" id="apidoc.module.mongolass.Timestamp.prototype.toInt">module mongolass.Timestamp.prototype.toInt</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toInt.toInt" id="apidoc.element.mongolass.Timestamp.prototype.toInt.toInt">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toInt
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toInt = function () {
  return this.low_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.toJSON" id="apidoc.module.mongolass.Timestamp.prototype.toJSON">module mongolass.Timestamp.prototype.toJSON</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toJSON.toJSON" id="apidoc.element.mongolass.Timestamp.prototype.toJSON.toJSON">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
  return this.toString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.toNumber" id="apidoc.module.mongolass.Timestamp.prototype.toNumber">module mongolass.Timestamp.prototype.toNumber</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toNumber.toNumber" id="apidoc.element.mongolass.Timestamp.prototype.toNumber.toNumber">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toNumber = function () {
  return this.high_ * Timestamp.TWO_PWR_32_DBL_ +
         this.getLowBitsUnsigned();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.toString" id="apidoc.module.mongolass.Timestamp.prototype.toString">module mongolass.Timestamp.prototype.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.toString.toString" id="apidoc.element.mongolass.Timestamp.prototype.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Timestamp.prototype.xor" id="apidoc.module.mongolass.Timestamp.prototype.xor">module mongolass.Timestamp.prototype.xor</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Timestamp.prototype.xor.xor" id="apidoc.element.mongolass.Timestamp.prototype.xor.xor">
        function <span class="apidocSignatureSpan">mongolass.Timestamp.prototype.</span>xor
        <span class="apidocSignatureSpan">(other)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xor = function (other) {
  return Timestamp.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Types" id="apidoc.module.mongolass.Types">module mongolass.Types</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Types.ObjectId" id="apidoc.element.mongolass.Types.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.Types.</span>ObjectId
        <span class="apidocSignatureSpan">(actual)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectId(actual) {
  if (!validator.isMongoId(actual.toString())) {
    throw null;
  }
  return toObjectId(actual);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.Types.ObjectId" id="apidoc.module.mongolass.Types.ObjectId">module mongolass.Types.ObjectId</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.Types.ObjectId.ObjectId" id="apidoc.element.mongolass.Types.ObjectId.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.Types.</span>ObjectId
        <span class="apidocSignatureSpan">(actual)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectId(actual) {
  if (!validator.isMongoId(actual.toString())) {
    throw null;
  }
  return toObjectId(actual);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.connect" id="apidoc.module.mongolass.connect">module mongolass.connect</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.connect.connect" id="apidoc.element.mongolass.connect.connect">
        function <span class="apidocSignatureSpan">mongolass.</span>connect
        <span class="apidocSignatureSpan">(url, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (url, options, callback) {
  var args = Array.prototype.slice.call(arguments, 1);
  callback = typeof args[args.length - 1] == 'function' ? args.pop() : null;
  options = args.length ? args.shift() : null;
  options = options || {};

  // Validate options object
  var err = validOptions(options);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Return a promise
  if(typeof callback != 'function') {
    return new promiseLibrary(function(resolve, reject) {
      // Did we have a validation error
      if(err) return reject(err);
      // Attempt to connect
      connect(url, options, function(err, db) {
        if(err) return reject(err);
        resolve(db);
      });
    });
  }

  // Did we have a validation error
  if(err) return callback(err);
  // Fallback to callback based connect
  connect(url, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Just like mongoose:

```
'use strict';

const Mongolass = require('mongolass');
const mongolass = new Mongolass();
mongolass.<span class="apidocCodeKeywordSpan">connect</span>('mongodb://localhost:27017/test');// const mongolass = new
 Mongolass('mongodb://localhost:27017/test');

const User = mongolass.model('User');

User
.find()
.select({ name: 1, age: 1 })
.sort({ name: -1 })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Admin" id="apidoc.element.mongolass.connect.Admin">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Admin
        <span class="apidocSignatureSpan">(db, topology, promiseLibrary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Admin = function (db, topology, promiseLibrary) {
  if(!(this instanceof Admin)) return new Admin(db, topology);

  // Internal state
  this.s = {
      db: db
    , topology: topology
    , promiseLibrary: promiseLibrary
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.BSONRegExp" id="apidoc.element.mongolass.connect.BSONRegExp">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>BSONRegExp
        <span class="apidocSignatureSpan">(pattern, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BSONRegExp(pattern, options) {
  if(!(this instanceof BSONRegExp)) return new BSONRegExp();

  // Execute
  this._bsontype = 'BSONRegExp';
  this.pattern = pattern || '';
  this.options = options || '';

  // Validate options
  for(var i = 0; i &lt; this.options.length; i++) {
    if(!(this.options[i] == 'i'
      || this.options[i] == 'm'
      || this.options[i] == 'x'
      || this.options[i] == 'l'
      || this.options[i] == 's'
      || this.options[i] == 'u'
    )) {
      throw new Error('the regular expression options [' + this.options[i] + "] is not supported");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Binary" id="apidoc.element.mongolass.connect.Binary">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Binary
        <span class="apidocSignatureSpan">(buffer, subType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Binary(buffer, subType) {
  if(!(this instanceof Binary)) return new Binary(buffer, subType);

  this._bsontype = 'Binary';

  if(buffer instanceof Number) {
    this.sub_type = buffer;
    this.position = 0;
  } else {
    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;
    this.position = 0;
  }

  if(buffer != null &amp;&amp; !(buffer instanceof Number)) {
    // Only accept Buffer, Uint8Array or Arrays
    if(typeof buffer == 'string') {
      // Different ways of writing the length of the string for the different types
      if(typeof Buffer != 'undefined') {
        this.buffer = new Buffer(buffer);
      } else if(typeof Uint8Array != 'undefined' || (Object.prototype.toString.call(buffer) == '[object Array]')) {
        this.buffer = writeStringToArray(buffer);
      } else {
        throw new Error("only String, Buffer, Uint8Array or Array accepted");
      }
    } else {
      this.buffer = buffer;
    }
    this.position = buffer.length;
  } else {
    if(typeof Buffer != 'undefined') {
      this.buffer =  new Buffer(Binary.BUFFER_SIZE);
    } else if(typeof Uint8Array != 'undefined'){
      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));
    } else {
      this.buffer = new Array(Binary.BUFFER_SIZE);
    }
    // Set position to start of buffer
    this.position = 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Chunk" id="apidoc.element.mongolass.connect.Chunk">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Chunk
        <span class="apidocSignatureSpan">(file, mongoObject, writeConcern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Chunk = function (file, mongoObject, writeConcern) {
  if(!(this instanceof Chunk)) return new Chunk(file, mongoObject);

  this.file = file;
  var mongoObjectFinal = mongoObject == null ? {} : mongoObject;
  this.writeConcern = writeConcern || {w:1};
  this.objectId = mongoObjectFinal._id == null ? new ObjectID() : mongoObjectFinal._id;
  this.chunkNumber = mongoObjectFinal.n == null ? 0 : mongoObjectFinal.n;
  this.data = new Binary();

  if(typeof mongoObjectFinal.data == "string") {
    var buffer = new Buffer(mongoObjectFinal.data.length);
    buffer.write(mongoObjectFinal.data, 0, mongoObjectFinal.data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(Array.isArray(mongoObjectFinal.data)) {
    buffer = new Buffer(mongoObjectFinal.data.length);
    var data = mongoObjectFinal.data.join('');
    buffer.write(data, 0, data.length, 'binary');
    this.data = new Binary(buffer);
  } else if(mongoObjectFinal.data &amp;&amp; mongoObjectFinal.data._bsontype === 'Binary') {
    this.data = mongoObjectFinal.data;
  } else if(!Buffer.isBuffer(mongoObjectFinal.data) &amp;&amp; !(mongoObjectFinal.data == null)){
    throw Error("Illegal chunk format");
  }

  // Update position
  this.internalPosition = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Code" id="apidoc.element.mongolass.connect.Code">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Code
        <span class="apidocSignatureSpan">(code, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Code(code, scope) {
  if(!(this instanceof Code)) return new Code(code, scope);
  this._bsontype = 'Code';
  this.code = code;
  this.scope = scope;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Collection" id="apidoc.element.mongolass.connect.Collection">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Collection
        <span class="apidocSignatureSpan">(db, topology, dbName, name, pkFactory, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Collection = function (db, topology, dbName, name, pkFactory, options) {
  checkCollectionName(name);

  // Unpack variables
  var internalHint = null;
  var slaveOk = options == null || options.slaveOk == null ? db.slaveOk : options.slaveOk;
  var serializeFunctions = options == null || options.serializeFunctions == null ? db.s.options.serializeFunctions : options.serializeFunctions
;
  var raw = options == null || options.raw == null ? db.s.options.raw : options.raw;
  var promoteLongs = options == null || options.promoteLongs == null ? db.s.options.promoteLongs : options.promoteLongs;
  var promoteValues = options == null || options.promoteValues == null ? db.s.options.promoteValues : options.promoteValues;
  var promoteBuffers = options == null || options.promoteBuffers == null ? db.s.options.promoteBuffers : options.promoteBuffers;
  var readPreference = null;
  var collectionHint = null;
  var namespace = f("%s.%s", dbName, name);

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Assign the right collection level readPreference
  if(options &amp;&amp; options.readPreference) {
    readPreference = options.readPreference;
  } else if(db.options.readPreference) {
    readPreference = db.options.readPreference;
  }

  // Set custom primary key factory if provided
  pkFactory = pkFactory == null
    ? ObjectID
    : pkFactory;

  // Internal state
  this.s = {
    // Set custom primary key factory if provided
      pkFactory: pkFactory
    // Db
    , db: db
    // Topology
    , topology: topology
    // dbName
    , dbName: dbName
    // Options
    , options: options
    // Namespace
    , namespace: namespace
    // Read preference
    , readPreference: readPreference
    // SlaveOK
    , slaveOk: slaveOk
    // Serialize functions
    , serializeFunctions: serializeFunctions
    // Raw
    , raw: raw
    // promoteLongs
    , promoteLongs: promoteLongs
    // promoteValues
    , promoteValues: promoteValues
    // promoteBuffers
    , promoteBuffers: promoteBuffers
    // internalHint
    , internalHint: internalHint
    // collectionHint
    , collectionHint: collectionHint
    // Name
    , name: name
    // Promise library
    , promiseLibrary: promiseLibrary
    // Read Concern
    , readConcern: options.readConcern
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.CoreConnection" id="apidoc.element.mongolass.connect.CoreConnection">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>CoreConnection
        <span class="apidocSignatureSpan">(messageHandler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreConnection = function (messageHandler, options) {
  // Add event listener
  EventEmitter.call(this);
  // Set empty if no options passed
  this.options = options || {};
  // Identification information
  this.id = _id++;
  // Logger instance
  this.logger = Logger('Connection', options);
  // No bson parser passed in
  if(!options.bson) throw new Error("must pass in valid bson parser");
  // Get bson parser
  this.bson = options.bson;
  // Grouping tag used for debugging purposes
  this.tag = options.tag;
  // Message handler
  this.messageHandler = messageHandler;

  // Max BSON message size
  this.maxBsonMessageSize = options.maxBsonMessageSize || (1024 * 1024 * 16 * 4);
  // Debug information
  if(this.logger.isDebug()) this.logger.debug(f('creating connection %s with options [%s]', this.id, JSON.stringify(debugOptions
(debugFields, options))));

  // Default options
  this.port = options.port || 27017;
  this.host = options.host || 'localhost';
  this.keepAlive = typeof options.keepAlive == 'boolean' ? options.keepAlive : true;
  this.keepAliveInitialDelay = options.keepAliveInitialDelay || 0;
  this.noDelay = typeof options.noDelay == 'boolean' ? options.noDelay : true;
  this.connectionTimeout = options.connectionTimeout || 0;
  this.socketTimeout = options.socketTimeout || 0;

  // If connection was destroyed
  this.destroyed = false;

  // Check if we have a domain socket
  this.domainSocket = this.host.indexOf('\/') != -1;

  // Serialize commands using function
  this.singleBufferSerializtion = typeof options.singleBufferSerializtion == 'boolean' ? options.singleBufferSerializtion : true
;
  this.serializationFunction = this.singleBufferSerializtion ? 'toBinUnified' : 'toBin';

  // SSL options
  this.ca = options.ca || null;
  this.crl = options.crl || null;
  this.cert = options.cert || null;
  this.key = options.key || null;
  this.passphrase = options.passphrase || null;
  this.ssl = typeof options.ssl == 'boolean' ? options.ssl : false;
  this.rejectUnauthorized = typeof options.rejectUnauthorized == 'boolean' ? options.rejectUnauthorized : true;
  this.checkServerIdentity = typeof options.checkServerIdentity == 'boolean'
    || typeof options.checkServerIdentity == 'function' ? options.checkServerIdentity : true;

  // If ssl not enabled
  if(!this.ssl) this.rejectUnauthorized = false;

  // Response options
  this.responseOptions = {
    promoteLongs: typeof options.promoteLongs == 'boolean' ?  options.promoteLongs : true,
    promoteValues: typeof options.promoteValues == 'boolean' ? options.promoteValues : true,
    promoteBuffers: typeof options.promoteBuffers == 'boolean' ? options.promoteBuffers: false
  }

  // Flushing
  this.flushing = false;
  this.queue = [];

  // Internal state
  this.connection = null;
  this.writeStream = null;

  // Create hash method
  var hash = crypto.createHash('sha1');
  hash.update(f('%s:%s', this.host, this.port));

  // Create a hash name
  this.hashedName = hash.digest('hex');

  // All operations in flight on the connection
  this.workItems = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.CoreServer" id="apidoc.element.mongolass.connect.CoreServer">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>CoreServer
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CoreServer = function (options) {
  options = options || {};

  // Add event listener
  EventEmitter.call(this);

  // Server instance id
  this.id = id++;

  // Internal state
  this.s = {
    // Options
    options: options,
    // Logger
    logger: Logger('Server', options),
    // Factory overrides
    Cursor: options.cursorFactory || BasicCursor,
    // BSON instance
    bson: options.bson || new BSON([BSON.Binary, BSON.Code, BSON.DBRef, BSON.Decimal128,
      BSON.Double, BSON.Int32, BSON.Long, BSON.Map, BSON.MaxKey, BSON.MinKey,
      BSON.ObjectId, BSON.BSONRegExp, BSON.Symbol, BSON.Timestamp]),
    // Pool
    pool: null,
    // Disconnect handler
    disconnectHandler: options.disconnectHandler,
    // Monitor thread (keeps the connection alive)
    monitoring: typeof options.monitoring == 'boolean' ? options.monitoring : true,
    // Is the server in a topology
    inTopology: typeof options.inTopology == 'boolean' ? options.inTopology : false,
    // Monitoring timeout
    monitoringInterval: typeof options.monitoringInterval == 'number'
      ? options.monitoringInterval
      : 5000,
    // Topology id
    topologyId: -1
  }

  // Curent ismaster
  this.ismaster = null;
  // Current ping time
  this.lastIsMasterMS = -1;
  // The monitoringProcessId
  this.monitoringProcessId = null;
  // Initial connection
  this.initalConnect = true;
  // Wire protocol handler, default to oldest known protocol handler
  // this gets changed when the first ismaster is called.
  this.wireProtocolHandler = new PreTwoSixWireProtocolSupport();
  // Default type
  this._type = 'server';
  // Set the client info
  this.clientInfo = createClientInfo(options);

  // Max Stalleness values
  // last time we updated the ismaster state
  this.lastUpdateTime = 0;
  // Last write time
  this.lastWriteDate = 0;
  // Stalleness
  this.staleness = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Cursor" id="apidoc.element.mongolass.connect.Cursor">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Cursor
        <span class="apidocSignatureSpan">(bson, ns, cmd, options, topology, topologyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Cursor = function (bson, ns, cmd, options, topology, topologyOptions) {
  CoreCursor.apply(this, Array.prototype.slice.call(arguments, 0));
  var self = this;
  var state = Cursor.INIT;
  var streamOptions = {};

  // Tailable cursor options
  var numberOfRetries = options.numberOfRetries || 5;
  var tailableRetryInterval = options.tailableRetryInterval || 500;
  var currentNumberOfRetries = numberOfRetries;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set up
  Readable.call(this, {objectMode: true});

  // Internal cursor state
  this.s = {
    // Tailable cursor options
      numberOfRetries: numberOfRetries
    , tailableRetryInterval: tailableRetryInterval
    , currentNumberOfRetries: currentNumberOfRetries
    // State
    , state: state
    // Stream options
    , streamOptions: streamOptions
    // BSON
    , bson: bson
    // Namespace
    , ns: ns
    // Command
    , cmd: cmd
    // Options
    , options: options
    // Topology
    , topology: topology
    // Topology options
    , topologyOptions: topologyOptions
    // Promise library
    , promiseLibrary: promiseLibrary
    // Current doc
    , currentDoc: null
  }

  // Translate correctly
  if(self.s.options.noCursorTimeout == true) {
    self.addCursorFlag('noCursorTimeout', true);
  }

  // Set the sort value
  this.sortValue = self.s.cmd.sort;

  // Get the batchSize
  var batchSize = cmd.cursor &amp;&amp; cmd.cursor.batchSize
    ? cmd.cursor &amp;&amp; cmd.cursor.batchSize
    : (options.cursor &amp;&amp; options.cursor.batchSize ? options.cursor.batchSize : 1000);

  // Set the batchSize
  this.setCursorBatchSize(batchSize);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.DBRef" id="apidoc.element.mongolass.connect.DBRef">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>DBRef
        <span class="apidocSignatureSpan">(namespace, oid, db)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DBRef(namespace, oid, db) {
  if(!(this instanceof DBRef)) return new DBRef(namespace, oid, db);

  this._bsontype = 'DBRef';
  this.namespace = namespace;
  this.oid = oid;
  this.db = db;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Db" id="apidoc.element.mongolass.connect.Db">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Db
        <span class="apidocSignatureSpan">(databaseName, topology, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Db = function (databaseName, topology, options) {
  options = options || {};
  if(!(this instanceof Db)) return new Db(databaseName, topology, options);
  EventEmitter.call(this);
  var self = this;

  // Get the promiseLibrary
  var promiseLibrary = options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure we put the promiseLib in the options
  options.promiseLibrary = promiseLibrary;

  // var self = this;  // Internal state of the db object
  this.s = {
    // Database name
      databaseName: databaseName
    // DbCache
    , dbCache: {}
    // Children db's
    , children: []
    // Topology
    , topology: topology
    // Options
    , options: options
    // Logger instance
    , logger: Logger('Db', options)
    // Get the bson parser
    , bson: topology ? topology.bson : null
    // Authsource if any
    , authSource: options.authSource
    // Unpack read preference
    , readPreference: options.readPreference
    // Set buffermaxEntries
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : -1
    // Parent db (if chained)
    , parentDb: options.parentDb || null
    // Set up the primary key factory or fallback to ObjectID
    , pkFactory: options.pkFactory || ObjectID
    // Get native parser
    , nativeParser: options.nativeParser || options.native_parser
    // Promise library
    , promiseLibrary: promiseLibrary
    // No listener
    , noListener: typeof options.noListener == 'boolean' ? options.noListener : false
    // ReadConcern
    , readConcern: options.readConcern
  }

  // Ensure we have a valid db name
  validateDatabaseName(self.s.databaseName);

  // Add a read Only property
  getSingleProperty(this, 'serverConfig', self.s.topology);
  getSingleProperty(this, 'bufferMaxEntries', self.s.bufferMaxEntries);
  getSingleProperty(this, 'databaseName', self.s.databaseName);

  // This is a child db, do not register any listeners
  if(options.parentDb) return;
  if(this.s.noListener) return;

  // Add listeners
  topology.on('error', createListener(self, 'error', self));
  topology.on('timeout', createListener(self, 'timeout', self));
  topology.on('close', createListener(self, 'close', self));
  topology.on('parseError', createListener(self, 'parseError', self));
  topology.once('open', createListener(self, 'open', self));
  topology.once('fullsetup', createListener(self, 'fullsetup', self));
  topology.once('all', createListener(self, 'all', self));
  topology.on('reconnect', createListener(self, 'reconnect', self));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Decimal128" id="apidoc.element.mongolass.connect.Decimal128">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Decimal128
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Decimal128 = function (bytes) {
  this._bsontype = 'Decimal128';
  this.bytes = bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Double" id="apidoc.element.mongolass.connect.Double">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Double
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Double(value) {
  if(!(this instanceof Double)) return new Double(value);

  this._bsontype = 'Double';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.GridFSBucket" id="apidoc.element.mongolass.connect.GridFSBucket">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>GridFSBucket
        <span class="apidocSignatureSpan">(db, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridFSBucket(db, options) {
  Emitter.apply(this);
  this.setMaxListeners(0);

  if (options &amp;&amp; typeof options === 'object') {
    options = shallowClone(options);
    var keys = Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS);
    for (var i = 0; i &lt; keys.length; ++i) {
      if (!options[keys[i]]) {
        options[keys[i]] = DEFAULT_GRIDFS_BUCKET_OPTIONS[keys[i]];
      }
    }
  } else {
    options = DEFAULT_GRIDFS_BUCKET_OPTIONS;
  }

  this.s = {
    db: db,
    options: options,
    _chunksCollection: db.collection(options.bucketName + '.chunks'),
    _filesCollection: db.collection(options.bucketName + '.files'),
    checkedIndexes: false,
    calledOpenUploadStream: false,
    promiseLibrary: db.s.promiseLibrary ||
      (typeof global.Promise == 'function' ? global.Promise : require('es6-promise').Promise)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.GridStore" id="apidoc.element.mongolass.connect.GridStore">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>GridStore
        <span class="apidocSignatureSpan">(db, id, filename, mode, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GridStore(db, id, filename, mode, options) {
  if(!(this instanceof GridStore)) return new GridStore(db, id, filename, mode, options);
  this.db = db;

  // Handle options
  if(typeof options === 'undefined') options = {};
  // Handle mode
  if(typeof mode === 'undefined') {
    mode = filename;
    filename = undefined;
  } else if(typeof mode == 'object') {
    options = mode;
    mode = filename;
    filename = undefined;
  }

  if(id &amp;&amp; id._bsontype == 'ObjectID') {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  } else if(typeof filename == 'undefined') {
    this.referenceBy = REFERENCE_BY_FILENAME;
    this.filename = id;
    if (mode.indexOf('w') != null) {
      this.fileId = new ObjectID();
    }
  } else {
    this.referenceBy = REFERENCE_BY_ID;
    this.fileId = id;
    this.filename = filename;
  }

  // Set up the rest
  this.mode = mode == null ? "r" : mode;
  this.options = options || {};

  // Opened
  this.isOpen = false;

  // Set the root if overridden
  this.root = this.options['root'] == null ? GridStore.DEFAULT_ROOT_COLLECTION : this.options['root'];
  this.position = 0;
  this.readPreference = this.options.readPreference || db.options.readPreference || ReadPreference.PRIMARY;
  this.writeConcern = _getWriteConcern(db, this.options);
  // Set default chunk size
  this.internalChunkSize = this.options['chunkSize'] == null ? Chunk.DEFAULT_CHUNK_SIZE : this.options['chunkSize'];

  // Get the promiseLibrary
  var promiseLibrary = this.options.promiseLibrary;

  // No promise library selected fall back
  if(!promiseLibrary) {
    promiseLibrary = typeof global.Promise == 'function' ?
      global.Promise : require('es6-promise').Promise;
  }

  // Set the promiseLibrary
  this.promiseLibrary = promiseLibrary;

  Object.defineProperty(this, "chunkSize", { enumerable: true
   , get: function () {
       return this.internalChunkSize;
     }
   , set: function(value) {
       if(!(this.mode[0] == "w" &amp;&amp; this.position == 0 &amp;&amp; this.uploadDate == null)) {
         this.internalChunkSize = this.internalChunkSize;
       } else {
         this.internalChunkSize = value;
       }
     }
  });

  Object.defineProperty(this, "md5", { enumerable: true
   , get: function () {
       return this.internalMd5;
     }
  });

  Object.defineProperty(this, "chunkNumber", { enumerable: true
   , get: function () {
       return this.currentChunk &amp;&amp; this.currentChunk.chunkNumber ? this.currentChunk.chunkNumber : null;
     }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Int32" id="apidoc.element.mongolass.connect.Int32">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Int32
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Int32 = function (value) {
  if(!(this instanceof Int32)) return new Int32(value);

  this._bsontype = 'Int32';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Logger" id="apidoc.element.mongolass.connect.Logger">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Logger
        <span class="apidocSignatureSpan">(className, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger = function (className, options) {
  if(!(this instanceof Logger)) return new Logger(className, options);
  options = options || {};

  // Current reference
  this.className = className;

  // Current logger
  if(options.logger) {
    currentLogger = options.logger;
  } else if(currentLogger == null) {
    currentLogger = console.log;
  }

  // Set level of logging, default is error
  if(options.loggerLevel) {
    level = options.loggerLevel || 'error';
  }

  // Add all class names
  if(filteredClasses[this.className] == null) classFilters[this.className] =  true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Long" id="apidoc.element.mongolass.connect.Long">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Long
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Long(low, high) {
  if(!(this instanceof Long)) return new Long(low, high);

  this._bsontype = 'Long';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Map" id="apidoc.element.mongolass.connect.Map">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Map
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Map() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.MaxKey" id="apidoc.element.mongolass.connect.MaxKey">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>MaxKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MaxKey() {
  if(!(this instanceof MaxKey)) return new MaxKey();

  this._bsontype = 'MaxKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.MinKey" id="apidoc.element.mongolass.connect.MinKey">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>MinKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MinKey() {
  if(!(this instanceof MinKey)) return new MinKey();

  this._bsontype = 'MinKey';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.MongoClient" id="apidoc.element.mongolass.connect.MongoClient">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>MongoClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoClient() {
<span class="apidocCodeCommentSpan">  /**
   * The callback format for results
   * @callback MongoClient~connectCallback
   * @param {MongoError} error An error instance representing the error during the execution.
   * @param {Db} db The connected database.
   */
</span>
  /**
   * Connect to MongoDB using a url as documented at
   *
   *  docs.mongodb.org/manual/reference/connection-string/
   *
   * Note that for replicasets the replicaSet query parameter is required in the 2.0 driver
   *
   * @method
   * @param {string} url The connection URI string
   * @param {object} [options] Optional settings.
   * @param {number} [options.poolSize=5] poolSize The maximum size of the individual server pool.
   * @param {boolean} [options.ssl=false] Enable SSL connection.
   * @param {Buffer} [options.sslCA=undefined] SSL Certificate store binary buffer
   * @param {Buffer} [options.sslCRL=undefined] SSL Certificate revocation list binary buffer
   * @param {Buffer} [options.sslCert=undefined] SSL Certificate binary buffer
   * @param {Buffer} [options.sslKey=undefined] SSL Key file binary buffer
   * @param {string} [options.sslPass=undefined] SSL Certificate pass phrase
   * @param {boolean|function} [options.checkServerIdentity=true] Ensure we check server identify during SSL, set to false to disable
 checking. Only works for Node 0.12.x or higher. You can pass in a boolean or your own checkServerIdentity override function.
   * @param {boolean} [options.autoReconnect=true] Enable autoReconnect for single server instances
   * @param {boolean} [options.noDelay=true] TCP Connection no delay
   * @param {boolean} [options.keepAlive=0] The number of milliseconds to wait before initiating keepAlive on the TCP socket.
   * @param {number} [options.connectTimeoutMS=30000] TCP Connection timeout setting
   * @param {number} [options.socketTimeoutMS=30000] TCP Socket timeout setting
   * @param {number} [options.reconnectTries=30] Server attempt to reconnect #times
   * @param {number} [options.reconnectInterval=1000] Server will wait # milliseconds between retries
   * @param {boolean} [options.ha=true] Control if high availability monitoring runs for Replicaset or Mongos proxies.
   * @param {number} [options.haInterval=10000] The High availability period for replicaset inquiry
   * @param {string} [options.replicaSet=undefined] The Replicaset set name
   * @param {number} [options.secondaryAcceptableLatencyMS=15] Cutoff latency point in MS for Replicaset member selection
   * @param {number} [options.acceptableLatencyMS=15] Cutoff latency point in MS for Mongos proxies selection.
   * @param {boolean} [options.connectWithNoPrimary=false] Sets if the driver should connect even if no primary is available
   * @param {string} [options.authSource=undefined] Define the database to authenticate against
   * @param {(number|string)} [options.w=null] The write concern.
   * @param {number} [options.wtimeout=null] The write concern timeout.
   * @param {boolean} [options.j=false] Specify a journal write concern.
   * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.
   * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.
   * @param {Boolean} [options.ignoreUndefined=false] Specify if the BSON serializer should ignore undefined fields.
   * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.
   * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.
   * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.
   * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive
 wrapper types.
   * @param {number} [options.bufferMaxEntries=-1] Sets a cap on how many operations the driver will buffer up before giving up
on getting a working connection, default is -1 which is unlimited.
   * @param {(ReadPreference|string)} [options.readPreference=null] The preferred ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.MongoError" id="apidoc.element.mongolass.connect.MongoError">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>MongoError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MongoError(message) {
  this.name = 'MongoError';
  this.message = message;
  Error.captureStackTrace(this, MongoError);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Mongos" id="apidoc.element.mongolass.connect.Mongos">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Mongos
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Mongos = function (servers, options) {
  if(!(this instanceof Mongos)) return new Mongos(servers, options);
  options = options || {};
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Set up event emitter
  EventEmitter.call(this);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the Mongos
  var mongos = new CMongos(seedlist, clonedOptions)
  // Server capabilities
  var sCapabilities = null;

  // Internal state
  this.s = {
    // Create the Mongos
      mongos: mongos
    // Server capabilities
    , sCapabilities: sCapabilities
    // Debug turned on
    , debug: clonedOptions.debug
    // Store option defaults
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Actual store of callbacks
    , store: store
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.ObjectID" id="apidoc.element.mongolass.connect.ObjectID">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>ObjectID
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.ObjectId" id="apidoc.element.mongolass.connect.ObjectId">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>ObjectId
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ObjectID(id) {
  // Duck-typing to support ObjectId from different npm packages
  if(id instanceof ObjectID) return id;
  if(!(this instanceof ObjectID)) return new ObjectID(id);

  this._bsontype = 'ObjectID';

  // The most common usecase (blank id, new objectId instance)
  if(id == null || typeof id == 'number') {
    // Generate a new id
    this.id = this.generate(id);
    // If we are caching the hex string
    if(ObjectID.cacheHexString) this.__id = this.toString('hex');
    // Return the object
    return;
  }

  // Check if the passed in id is valid
  var valid = ObjectID.isValid(id);

  // Throw an error if it's not a valid setup
  if(!valid &amp;&amp; id != null){
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24 &amp;&amp; hasBufferType) {
    return new ObjectID(new Buffer(id, 'hex'));
  } else if(valid &amp;&amp; typeof id == 'string' &amp;&amp; id.length == 24) {
    return ObjectID.createFromHexString(id);
  } else if(id != null &amp;&amp; id.length === 12) {
    // assume 12 byte string
    this.id = id;
  } else if(id != null &amp;&amp; id.toHexString) {
    // Duck-typing to support ObjectId from different npm packages
    return id;
  } else {
    throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
  }

  if(ObjectID.cacheHexString) this.__id = this.toString('hex');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.ReadPreference" id="apidoc.element.mongolass.connect.ReadPreference">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>ReadPreference
        <span class="apidocSignatureSpan">(mode, tags, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReadPreference = function (mode, tags, options) {
  if(!(this instanceof ReadPreference)) {
    return new ReadPreference(mode, tags, options);
  }

  this._type = 'ReadPreference';
  this.mode = mode;
  this.tags = tags;
  this.options =  options;

  // If no tags were passed in
  if(tags &amp;&amp; typeof tags == 'object' &amp;&amp; !Array.isArray(tags)) {
    if(tags.maxStalenessSeconds) {
      this.options = tags;
      this.tags = null;
    }
  }

  // Add the maxStalenessSeconds value to the read Preference
  if(this.options &amp;&amp; this.options.maxStalenessSeconds) {
    this.maxStalenessSeconds = this.options.maxStalenessSeconds;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.ReplSet" id="apidoc.element.mongolass.connect.ReplSet">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>ReplSet
        <span class="apidocSignatureSpan">(servers, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ReplSet = function (servers, options) {
  if(!(this instanceof ReplSet)) return new ReplSet(servers, options);
  options = options || {};
  var self = this;
  // Set up event emitter
  EventEmitter.call(this);

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Ensure all the instances are Server
  for(var i = 0; i &lt; servers.length; i++) {
    if(!(servers[i] instanceof Server)) {
      throw MongoError.create({message: "all seed list instances must be of the Server type", driver:true});
    }
  }

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Build seed list
  var seedlist = servers.map(function(x) {
    return {host: x.host, port: x.port}
  });

  // Clone options
  var clonedOptions = mergeOptions({}, {
    disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: false,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Client info
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create the ReplSet
  var replset = new CReplSet(seedlist, clonedOptions);

  // Listen to reconnect event
  replset.on('reconnect', function() {
    self.emit('reconnect');
    store.execute();
  });

  // Internal state
  this.s = {
    // Replicaset
    replset: replset
    // Server capabilities
    , sCapabilities: null
    // Debug tag
    , tag: options.tag
    // Store options
    , storeOptions: storeOptions
    // Cloned options
    , clonedOptions: clonedOptions
    // Store
    , store: store
    // Options
    , options: options
  }

  // Debug
  if(clonedOptions.debug) {
    // Last ismaster
    Object.defineProperty(this, 'replset', {
      enumerable:true, get: function() { return replset; }
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Server" id="apidoc.element.mongolass.connect.Server">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Server
        <span class="apidocSignatureSpan">(host, port, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Server = function (host, port, options) {
  options = options || {};
  if(!(this instanceof Server)) return new Server(host, port, options);
  EventEmitter.call(this);
  var self = this;

  // Filter the options
  options = filterOptions(options, legalOptionNames);

  // Stored options
  var storeOptions = {
      force: false
    , bufferMaxEntries: typeof options.bufferMaxEntries == 'number' ? options.bufferMaxEntries : MAX_JS_INT
  }

  // Shared global store
  var store = options.store || new Store(self, storeOptions);

  // Detect if we have a socket connection
  if(host.indexOf('\/') != -1) {
    if(port != null &amp;&amp; typeof port == 'object') {
      options = port;
      port = null;
    }
  } else if(port == null) {
    throw MongoError.create({message: 'port must be specified', driver:true});
  }

  // Get the reconnect option
  var reconnect = typeof options.auto_reconnect == 'boolean' ? options.auto_reconnect : true;
  reconnect = typeof options.autoReconnect == 'boolean' ? options.autoReconnect : reconnect;

  // Clone options
  var clonedOptions = mergeOptions({}, {
    host: host, port: port, disconnectHandler: store,
    cursorFactory: Cursor,
    reconnect: reconnect,
    emitError: typeof options.emitError == 'boolean' ? options.emitError : true,
    size: typeof options.poolSize == 'number' ? options.poolSize : 5
  });

  // Translate any SSL options and other connectivity options
  clonedOptions = translateOptions(clonedOptions, options);

  // Socket options
  var socketOptions = options.socketOptions &amp;&amp; Object.keys(options.socketOptions).length &gt; 0
    ? options.socketOptions : options;

  // Translate all the options to the mongodb-core ones
  clonedOptions = translateOptions(clonedOptions, socketOptions);
  if(typeof clonedOptions.keepAlive == 'number') {
    clonedOptions.keepAliveInitialDelay = clonedOptions.keepAlive;
    clonedOptions.keepAlive = clonedOptions.keepAlive &gt; 0;
  }

  // Build default client information
  this.clientInfo = {
    driver: {
      name: "nodejs",
      version: driverVersion
    },
    os: {
      type: type,
      name: name,
      architecture: architecture,
      version: release
    },
    platform: nodejsversion
  }

  // Build default client information
  clonedOptions.clientInfo = this.clientInfo;
  // Do we have an application specific string
  if(options.appname) {
    clonedOptions.clientInfo.application = { name: options.appname };
  }

  // Create an instance of a server instance from mongodb-core
  var server = new CServer(clonedOptions);

  // Define the internal properties
  this.s = {
    // Create an instance of a server instance from mongodb-core
      server: server
    // Server capabilities
    , sCapabilities: null
    // Cloned options
    , clonedOptions: clonedOptions
    // Reconnect
    , reconnect: clonedOptions.reconnect
    // Emit error
    , emitError: clonedOptions.emitError
    // Pool size
    , poolSize: clonedOptions.size
    // Store Options
    , storeOptions: storeOptions
    // Store
    , store: store
    // Host
    , host: host
    // Port
    , port: port
    // Options
    , options: options
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Symbol" id="apidoc.element.mongolass.connect.Symbol">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Symbol
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Symbol(value) {
  if(!(this instanceof Symbol)) return new Symbol(value);
  this._bsontype = 'Symbol';
  this.value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.Timestamp" id="apidoc.element.mongolass.connect.Timestamp">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>Timestamp
        <span class="apidocSignatureSpan">(low, high)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Timestamp(low, high) {
  if(!(this instanceof Timestamp)) return new Timestamp(low, high);
  this._bsontype = 'Timestamp';
<span class="apidocCodeCommentSpan">  /**
   * @type {number}
   * @ignore
   */
</span>  this.low_ = low | 0;  // force into 32 signed bits.

  /**
   * @type {number}
   * @ignore
   */
  this.high_ = high | 0;  // force into 32 signed bits.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.connect.instrument" id="apidoc.element.mongolass.connect.instrument">
        function <span class="apidocSignatureSpan">mongolass.connect.</span>instrument
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">instrument = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  return new Instrumentation(core, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.instrument" id="apidoc.module.mongolass.instrument">module mongolass.instrument</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.instrument.instrument" id="apidoc.element.mongolass.instrument.instrument">
        function <span class="apidocSignatureSpan">mongolass.</span>instrument
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">instrument = function (options, callback) {
  if(typeof options == 'function') callback = options, options = {};
  return new Instrumentation(core, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.query" id="apidoc.module.mongolass.query">module mongolass.query</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.query.bindQuery" id="apidoc.element.mongolass.query.bindQuery">
        function <span class="apidocSignatureSpan">mongolass.query.</span>bindQuery
        <span class="apidocSignatureSpan">(ctx, NativeClass)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function bindQuery(ctx, NativeClass) {
  for (let propName in NativeClass.prototype) {
    if (propName[0] !== '_') _bindProperty(propName);
  }

  function _bindProperty(propName) {
    let fn;
    let desc = Object.getOwnPropertyDescriptor(NativeClass.prototype, propName);
    if (!desc) {
      try {
        fn = NativeClass.prototype[propName];
      } catch(e) {}
    } else {
      fn = desc.value;
    }
    if (_.isFunction(fn)) {
      _bindMethod(propName);
    } else if (desc) {
<span class="apidocCodeCommentSpan">      /* istanbul ignore else */
</span>      if (desc.get) {
        _bindGetter(propName);
      }
      /* istanbul ignore else */
      if (desc.set) {
        _bindSetter(propName);
      }
    }
  }

  class Query {
    constructor(op, args) {
      Error.captureStackTrace(this, this.constructor);// preserve stack

      this._op = op;
      this._args = args;
      // register built-in schema plugin
      this._plugins = [{
        name: 'MongolassSchema',
        hooks: plugins(ctx._schema),
        args: []
      }];
      this._model = ctx;

      _.forEach(ctx._plugins, plugin =&gt; {
        this[plugin.name] = (...args) =&gt; {
          this._plugins.push({
            name: plugin.name,
            hooks: plugin.hooks,
            args: args
          });
          return this;
        };
      });
    }

    exec(cb) {
      return Promise.resolve()
        .then(() =&gt; execBeforePlugins.call(this))
        .then(() =&gt; ctx._connect())
        .then(conn =&gt; {
          let res = conn[this._op].apply(conn, this._args);
          if (res.toArray &amp;&amp; (typeof res.toArray === 'function')) {
            return res.toArray();
          }
          return res;
        })
        .then(result =&gt; execAfterPlugins.call(this, result))
        .catch(e =&gt; addMongoErrorDetail.call(this, e))
        .asCallback(cb);
    }

    cursor(cb) {
      return Promise.resolve()
        .then(() =&gt; execBeforePlugins.call(this))
        .then(() =&gt; ctx._connect())
        .then(conn =&gt; conn[this._op].apply(conn, this._args))
        .then(result =&gt; execAfterPlugins.call(this, result))
        .catch(e =&gt; addMongoErrorDetail.call(this, e))
        .asCallback(cb);
    }

    then(resolve, reject) {
      return this.exec().then(resolve, reject);
    }
  }

  function _bindMethod(propName) {
    Object.defineProperty(ctx, propName, {
      enumerable: true,
      value: (...args) =&gt; {
        if (args.length &amp;&amp; ('function' === typeof args[args.length - 1])) {
          throw new TypeError('Not support callback for method: ' + propName + ', please call .exec() or .cursor()');
        }
        if (['find', 'findOne'].indexOf(propName) !== -1) {
          if (args.length &gt; 2) {
            throw new TypeError('Only support this usage: ' + propName + '(query, options)');
          }
        }
        return new Query(propName, args);
      }
    });
    Object.defineProperty(ctx[propName], 'name', {
      value: propName
    });
  }

  function _bindGetter(propName) {
    ctx.__defineGetter__(propName, () =&gt; {
      return ctx._connect()
        .then(conn =&gt; {
          return conn[propName];
        });
    });
  }

  function _bindSetter(propName) {
    ctx.__defineSetter__(propName, value =&gt; {
      ctx._connect()
        .then(conn =&gt; {
          conn[propName] = value;
        });
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.schema" id="apidoc.module.mongolass.schema">module mongolass.schema</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.schema.Schema" id="apidoc.element.mongolass.schema.Schema">
        function <span class="apidocSignatureSpan">mongolass.schema.</span>Schema
        <span class="apidocSignatureSpan">(name, schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class _Schema extends Schema {
  constructor(name, schema) {
    if (!name || !_.isString(name)) {
      throw new TypeError('Schema must have a name');
    }
    super(name, _.defaults(schema, { _id: { type: Types.ObjectId } }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mongolass.schema._plugins" id="apidoc.element.mongolass.schema._plugins">
        function <span class="apidocSignatureSpan">mongolass.schema.</span>_plugins
        <span class="apidocSignatureSpan">(schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _plugins(schema) {
  return {
    beforeBulkWrite: function beforeBulkWrite() {
      let operations = this._args[0];
      operations.forEach(operation =&gt; {
        if (operation.insertOne) {
          formatCreate(operation.insertOne.document, schema);
        }
        if (operation.updateOne) {
          formatQuery(operation.updateOne.filter, schema);
          formatUpdate(operation.updateOne.update, schema);
        }
        if (operation.updateMany) {
          formatQuery(operation.updateMany.filter, schema);
          formatUpdate(operation.updateMany.update, schema);
        }
        if (operation.deleteOne) {
          formatQuery(operation.deleteOne.filter, schema);
        }
        if (operation.deleteMany) {
          formatQuery(operation.deleteMany.filter, schema);
        }
        if (operation.replaceOne) {
          formatQuery(operation.replaceOne.filter, schema);
          formatCreate(operation.replaceOne.replacement, schema);
        }
      });
    },
    beforeCount: function beforeCount() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeDistinct: function beforeDistinct() {
      let query = this._args[1];
      formatQuery(query, schema);
    },
    beforeFind: function beforeFind() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeFindAndModify: function beforeFindAndModify() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[2];
      formatUpdate(doc, schema);
    },
    beforeFindAndRemove: function beforeFindAndRemove() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeFindOne: function beforeFindOne() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeFindOneAndDelete: function beforeFindOneAndDelete() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeFindOneAndReplace: function beforeFindOneAndReplace() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatCreate(doc, schema);
    },
    beforeFindOneAndUpdate: function beforeFindOneAndUpdate() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatUpdate(doc, schema);
    },
    beforeInsert: function beforeInsert() {
      let docs = this._args[0];
<span class="apidocCodeCommentSpan">      /* istanbul ignore else */
</span>      if (!_.isArray(docs)) {
        docs = [docs];
      }
      docs.forEach(doc =&gt; formatCreate(doc, schema));
    },
    beforeInsertOne: function beforeInsertOne() {
      let doc = this._args[0];
      formatCreate(doc, schema);
    },
    beforeInsertMany: function beforeInsertMany() {
      let docs = this._args[0];
      docs.forEach(doc =&gt; formatCreate(doc, schema));
    },
    beforeRemove: function beforeRemove() {
      let query = this._args[0];
      formatQuery(query, schema);
    },
    beforeReplaceOne: function beforeReplaceOne() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatCreate(doc, schema);
    },
    beforeSave: function beforeSave() {
      let doc = this._args[0];
      formatCreate(doc, schema);
    },
    beforeUpdate: function beforeUpdate() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatUpdate(doc, schema);
    },
    beforeUpdateOne: function beforeUpdateOne() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatUpdate(doc, schema);
    },
    beforeUpdateMany: function beforeUpdateMany() {
      let query = this._args[0];
      formatQuery(query, schema);
      let doc = this._args[1];
      formatUpdate(doc, schema);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mongolass.toString" id="apidoc.module.mongolass.toString">module mongolass.toString</a></h1>


    <h2>
        <a href="#apidoc.element.mongolass.toString.toString" id="apidoc.element.mongolass.toString.toString">
        function <span class="apidocSignatureSpan">mongolass.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>